(self.webpackChunkweb_task=self.webpackChunkweb_task||[]).push([[179],{2011:(ot,me,T)=>{"use strict";T.d(me,{Dh:()=>le,cc:()=>ae,hO:()=>Re,on:()=>R,xv:()=>J});var f=T(8256),O=T(9260),H=T(4540);ot=T.hmd(ot);class Z{constructor(We){return We}}const le=new f.OlP("angularfire2.app.options"),J=new f.OlP("angularfire2.app.name");function R(Te,We,be){const ve="object"==typeof be&&be||{};ve.name=ve.name||"string"==typeof be&&be||"[DEFAULT]";const fe=O.Z.apps.filter(B=>B&&B.name===ve.name)[0]||We.runOutsideAngular(()=>O.Z.initializeApp(Te,ve));try{JSON.stringify(Te)!==JSON.stringify(fe.options)&&M("error",`${fe.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Z(fe)}const M=(Te,...We)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Te](...We)},z={provide:Z,useFactory:R,deps:[le,f.R0b,[new f.FiY,J]]};let Re=(()=>{class Te{constructor(be){O.Z.registerVersion("angularfire",H.q4.full,"core"),O.Z.registerVersion("angularfire",H.q4.full,"app-compat"),O.Z.registerVersion("angular",f.q4F.full,be.toString())}static initializeApp(be,ue){return{ngModule:Te,providers:[{provide:le,useValue:be},{provide:J,useValue:ue}]}}}return Te.\u0275fac=function(be){return new(be||Te)(f.LFG(f.Lbi))},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({providers:[z]}),Te})();function ae(Te,We,be,ue,ve){const[,K,fe]=globalThis.\u0275AngularfireInstanceCache.find(B=>B[0]===Te)||[];if(K)return function $e(Te,We){try{return Te.toString()===We.toString()}catch{return Te===We}}(ve,fe)||(ke("error",`${We} was already initialized on the ${be} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:ve,was:fe})),K;{const B=ue();return globalThis.\u0275AngularfireInstanceCache.push([Te,B,ve]),B}}const xe=!!ot.hot,ke=(Te,...We)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Te](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4540:(ot,me,T)=>{"use strict";T.d(me,{q4:()=>Dr,iC:()=>xc,fc:()=>Qi,HU:()=>Pc,vb:()=>Tf,JM:()=>Rc,_J:()=>H_,u3:()=>z_});var f=T(8256),O=T(259),H=T(4880),$=T(5861),ne=(T(4727),T(4859));let le,J;const z=new WeakMap,Re=new WeakMap,ae=new WeakMap,$e=new WeakMap,xe=new WeakMap;let We={get(C,b,P){if(C instanceof IDBTransaction){if("done"===b)return Re.get(C);if("objectStoreNames"===b)return C.objectStoreNames||ae.get(C);if("store"===b)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return K(C[b])},set:(C,b,P)=>(C[b]=P,!0),has:(C,b)=>C instanceof IDBTransaction&&("done"===b||"store"===b)||b in C};function ve(C){return"function"==typeof C?function ue(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function M(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...b){return C.apply(fe(this),b),K(z.get(this))}:function(...b){return K(C.apply(fe(this),b))}:function(b,...P){const G=C.call(fe(this),b,...P);return ae.set(G,b.sort?b.sort():[b]),K(G)}}(C):(C instanceof IDBTransaction&&function Te(C){if(Re.has(C))return;const b=new Promise((P,G)=>{const oe=()=>{C.removeEventListener("complete",Ee),C.removeEventListener("error",Oe),C.removeEventListener("abort",Oe)},Ee=()=>{P(),oe()},Oe=()=>{G(C.error||new DOMException("AbortError","AbortError")),oe()};C.addEventListener("complete",Ee),C.addEventListener("error",Oe),C.addEventListener("abort",Oe)});Re.set(C,b)}(C),((C,b)=>b.some(P=>C instanceof P))(C,function R(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,We):C)}function K(C){if(C instanceof IDBRequest)return function ke(C){const b=new Promise((P,G)=>{const oe=()=>{C.removeEventListener("success",Ee),C.removeEventListener("error",Oe)},Ee=()=>{P(K(C.result)),oe()},Oe=()=>{G(C.error),oe()};C.addEventListener("success",Ee),C.addEventListener("error",Oe)});return b.then(P=>{P instanceof IDBCursor&&z.set(P,C)}).catch(()=>{}),xe.set(b,C),b}(C);if($e.has(C))return $e.get(C);const b=ve(C);return b!==C&&($e.set(C,b),xe.set(b,C)),b}const fe=C=>xe.get(C);function B(C,b,{blocked:P,upgrade:G,blocking:oe,terminated:Ee}={}){const Oe=indexedDB.open(C,b),It=K(Oe);return G&&Oe.addEventListener("upgradeneeded",it=>{G(K(Oe.result),it.oldVersion,it.newVersion,K(Oe.transaction))}),P&&Oe.addEventListener("blocked",()=>P()),It.then(it=>{Ee&&it.addEventListener("close",()=>Ee()),oe&&it.addEventListener("versionchange",()=>oe())}).catch(()=>{}),It}function he(C,{blocked:b}={}){const P=indexedDB.deleteDatabase(C);return b&&P.addEventListener("blocked",()=>b()),K(P).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Ge=new Map;function dt(C,b){if(!(C instanceof IDBDatabase)||b in C||"string"!=typeof b)return;if(Ge.get(b))return Ge.get(b);const P=b.replace(/FromIndex$/,""),G=b!==P,oe=nt.includes(P);if(!(P in(G?IDBIndex:IDBObjectStore).prototype)||!oe&&!we.includes(P))return;const Ee=function(){var Oe=(0,$.Z)(function*(It,...it){const $t=this.transaction(It,oe?"readwrite":"readonly");let Fn=$t.store;return G&&(Fn=Fn.index(it.shift())),(yield Promise.all([Fn[P](...it),oe&&$t.done]))[0]});return function(it){return Oe.apply(this,arguments)}}();return Ge.set(b,Ee),Ee}!function be(C){We=C(We)}(C=>({...C,get:(b,P,G)=>dt(b,P)||C.get(b,P,G),has:(b,P)=>!!dt(b,P)||C.has(b,P)}));var Ae=T(2090),hn=T(6881);const In="/firebase-messaging-sw.js",mr="/firebase-cloud-messaging-push-scope",pn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",X="google.c.a.c_id",de="google.c.a.c_l",ie="google.c.a.ts",Ce="google.c.a.e";var Le=(()=>{return(C=Le||(Le={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Le;var C})();function Ye(C){const b=new Uint8Array(C);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gt(C){const P=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(P),oe=new Uint8Array(G.length);for(let Ee=0;Ee<G.length;++Ee)oe[Ee]=G.charCodeAt(Ee);return oe}const Ne="fcm_token_details_db",ut="fcm_token_object_Store";function wt(C){return Et.apply(this,arguments)}function Et(){return Et=(0,$.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(Ne))return null;let b=null;return(yield B(Ne,5,{upgrade:(G=(0,$.Z)(function*(oe,Ee,Oe,It){var it;if(Ee<2||!oe.objectStoreNames.contains(ut))return;const $t=It.objectStore(ut),Fn=yield $t.index("fcmSenderId").get(C);if(yield $t.clear(),Fn)if(2===Ee){const xt=Fn;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;b={token:xt.fcmToken,createTime:null!==(it=xt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:Ye(xt.vapidKey)}}}else if(3===Ee){const xt=Fn;b={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Ye(xt.auth),p256dh:Ye(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Ye(xt.vapidKey)}}}else if(4===Ee){const xt=Fn;b={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Ye(xt.auth),p256dh:Ye(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Ye(xt.vapidKey)}}}}),function(Ee,Oe,It,it){return G.apply(this,arguments)})})).close(),yield he(Ne),yield he("fcm_vapid_details_db"),yield he("undefined"),En(b)?b:null;var G}),Et.apply(this,arguments)}function En(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:b}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const Be="firebase-messaging-store";let ee=null;function Se(){return ee||(ee=B("firebase-messaging-database",1,{upgrade:(C,b)=>{0===b&&C.createObjectStore(Be)}})),ee}function et(C){return mt.apply(this,arguments)}function mt(){return(mt=(0,$.Z)(function*(C){const b=Me(C),G=yield(yield Se()).transaction(Be).objectStore(Be).get(b);if(G)return G;{const oe=yield wt(C.appConfig.senderId);if(oe)return yield At(C,oe),oe}})).apply(this,arguments)}function At(C,b){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,$.Z)(function*(C,b){const P=Me(C),oe=(yield Se()).transaction(Be,"readwrite");return yield oe.objectStore(Be).put(b,P),yield oe.done,b})).apply(this,arguments)}function Qt(C){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,$.Z)(function*(C){const b=Me(C),G=(yield Se()).transaction(Be,"readwrite");yield G.objectStore(Be).delete(b),yield G.done})).apply(this,arguments)}function Me({appConfig:C}){return C.appId}const ze=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xt(C,b){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,$.Z)(function*(C,b){const P=yield Dn(C),G=di(b),oe={method:"POST",headers:P,body:JSON.stringify(G)};let Ee;try{Ee=yield(yield fetch(St(C.appConfig),oe)).json()}catch(Oe){throw ze.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(Ee.error)throw ze.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw ze.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function Hn(C,b){return sn.apply(this,arguments)}function sn(){return(sn=(0,$.Z)(function*(C,b){const P=yield Dn(C),G=di(b.subscriptionOptions),oe={method:"PATCH",headers:P,body:JSON.stringify(G)};let Ee;try{Ee=yield(yield fetch(`${St(C.appConfig)}/${b.token}`,oe)).json()}catch(Oe){throw ze.create("token-update-failed",{errorInfo:Oe?.toString()})}if(Ee.error)throw ze.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw ze.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function Gt(C,b){return on.apply(this,arguments)}function on(){return(on=(0,$.Z)(function*(C,b){const G={method:"DELETE",headers:yield Dn(C)};try{const Ee=yield(yield fetch(`${St(C.appConfig)}/${b}`,G)).json();if(Ee.error)throw ze.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(oe){throw ze.create("token-unsubscribe-failed",{errorInfo:oe?.toString()})}})).apply(this,arguments)}function St({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Dn(C){return lt.apply(this,arguments)}function lt(){return(lt=(0,$.Z)(function*({appConfig:C,installations:b}){const P=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function di({p256dh:C,auth:b,endpoint:P,vapidKey:G}){const oe={web:{endpoint:P,auth:b,p256dh:C}};return G!==pn&&(oe.web.applicationPubKey=G),oe}const Hr=6048e5;function _r(C){return yt.apply(this,arguments)}function yt(){return(yt=(0,$.Z)(function*(C){const b=yield x(C.swRegistration,C.vapidKey),P={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:b.endpoint,auth:Ye(b.getKey("auth")),p256dh:Ye(b.getKey("p256dh"))},G=yield et(C.firebaseDependencies);if(G){if(ye(G.subscriptionOptions,P))return Date.now()>=G.createTime+Hr?Nr(C,{token:G.token,createTime:Date.now(),subscriptionOptions:P}):G.token;try{yield Gt(C.firebaseDependencies,G.token)}catch(oe){console.warn(oe)}return Kn(C.firebaseDependencies,P)}return Kn(C.firebaseDependencies,P)})).apply(this,arguments)}function qn(C){return yr.apply(this,arguments)}function yr(){return(yr=(0,$.Z)(function*(C){const b=yield et(C.firebaseDependencies);b&&(yield Gt(C.firebaseDependencies,b.token),yield Qt(C.firebaseDependencies));const P=yield C.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Nr(C,b){return dr.apply(this,arguments)}function dr(){return(dr=(0,$.Z)(function*(C,b){try{const P=yield Hn(C.firebaseDependencies,b),G=Object.assign(Object.assign({},b),{token:P,createTime:Date.now()});return yield At(C.firebaseDependencies,G),P}catch(P){throw yield qn(C),P}})).apply(this,arguments)}function Kn(C,b){return k.apply(this,arguments)}function k(){return(k=(0,$.Z)(function*(C,b){const G={token:yield Xt(C,b),createTime:Date.now(),subscriptionOptions:b};return yield At(C,G),G.token})).apply(this,arguments)}function x(C,b){return V.apply(this,arguments)}function V(){return(V=(0,$.Z)(function*(C,b){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gt(b)})})).apply(this,arguments)}function ye(C,b){return b.vapidKey===C.vapidKey&&b.endpoint===C.endpoint&&b.auth===C.auth&&b.p256dh===C.p256dh}function Y(C){const b={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ze(C,b){if(!b.notification)return;C.notification={};const P=b.notification.title;P&&(C.notification.title=P);const G=b.notification.body;G&&(C.notification.body=G);const oe=b.notification.image;oe&&(C.notification.image=oe);const Ee=b.notification.icon;Ee&&(C.notification.icon=Ee)}(b,C),function ft(C,b){!b.data||(C.data=b.data)}(b,C),function nn(C,b){var P,G,oe,Ee,Oe;if(!(b.fcmOptions||null!==(P=b.notification)&&void 0!==P&&P.click_action))return;C.fcmOptions={};const It=null!==(oe=null===(G=b.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==oe?oe:null===(Ee=b.notification)||void 0===Ee?void 0:Ee.click_action;It&&(C.fcmOptions.link=It);const it=null===(Oe=b.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;it&&(C.fcmOptions.analyticsLabel=it)}(b,C),b}function $n(C){return"object"==typeof C&&!!C&&X in C}function ln(C,b){const P=[];for(let G=0;G<C.length;G++)P.push(C.charAt(G)),G<b.length&&P.push(b.charAt(G));return P.join("")}function Qe(C){return ze.create("missing-app-config-values",{valueName:C})}ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ln("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zt{constructor(b,P,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const oe=function jn(C){if(!C||!C.options)throw Qe("App Configuration Object");if(!C.name)throw Qe("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:P}=C;for(const G of b)if(!P[G])throw Qe(G);return{appName:C.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:oe,installations:P,analyticsProvider:G}}_delete(){return Promise.resolve()}}function an(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,$.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(In,{scope:mr}),C.swRegistration.update().catch(()=>{})}catch(b){throw ze.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function Zn(C,b){return te.apply(this,arguments)}function te(){return(te=(0,$.Z)(function*(C,b){if(!b&&!C.swRegistration&&(yield an(C)),b||!C.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw ze.create("invalid-sw-registration");C.swRegistration=b}})).apply(this,arguments)}function N(C,b){return re.apply(this,arguments)}function re(){return(re=(0,$.Z)(function*(C,b){b?C.vapidKey=b:C.vapidKey||(C.vapidKey=pn)})).apply(this,arguments)}function rt(){return(rt=(0,$.Z)(function*(C,b){if(!navigator)throw ze.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ze.create("permission-blocked");return yield N(C,b?.vapidKey),yield Zn(C,b?.serviceWorkerRegistration),_r(C)})).apply(this,arguments)}function Ct(C,b,P){return _t.apply(this,arguments)}function _t(){return(_t=(0,$.Z)(function*(C,b,P){const G=mn(b);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:P[X],message_name:P[de],message_time:P[ie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mn(C){switch(C){case Le.NOTIFICATION_CLICKED:return"notification_open";case Le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qn(){return(Qn=(0,$.Z)(function*(C,b){const P=b.data;if(!P.isFirebaseMessaging)return;C.onMessageHandler&&P.messageType===Le.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Y(P)):C.onMessageHandler.next(Y(P)));const G=P.data;$n(G)&&"1"===G[Ce]&&(yield Ct(C,P.messageType,G))})).apply(this,arguments)}const hr="@firebase/messaging",qi=C=>{const b=new Zt(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function vt(C,b){return Qn.apply(this,arguments)}(b,P)),b},hi=C=>{const b=C.getProvider("messaging").getImmediate();return{getToken:G=>function Ue(C,b){return rt.apply(this,arguments)}(b,G)}};function Zr(){return kn.apply(this,arguments)}function kn(){return(kn=(0,$.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ki(){(0,hn._registerComponent)(new ne.wA("messaging",qi,"PUBLIC")),(0,hn._registerComponent)(new ne.wA("messaging-internal",hi,"PRIVATE")),(0,hn.registerVersion)(hr,"0.12.4"),(0,hn.registerVersion)(hr,"0.12.4","esm2017")}();var Ri=T(1877);const Jr="analytics",S="firebase_id",j="origin",Fe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kt="https://www.googletagmanager.com/gtag/js",Ke=new Ri.Yd("@firebase/analytics"),Lt=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zt(C){if(!C.startsWith(kt)){const b=Lt.create("invalid-gtag-resource",{gtagURL:C});return Ke.warn(b.message),""}return C}function On(C){return Promise.all(C.map(b=>b.catch(P=>P)))}function Cf(C,b){const P=function tr(C,b){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(C,b)),P}("firebase-js-sdk-policy",{createScriptURL:zt}),G=document.createElement("script"),oe=`${kt}?l=${C}&id=${b}`;G.src=P?P?.createScriptURL(oe):oe,G.async=!0,document.head.appendChild(G)}function wf(C,b,P,G,oe,Ee){return hl.apply(this,arguments)}function hl(){return(hl=(0,$.Z)(function*(C,b,P,G,oe,Ee){const Oe=G[oe];try{if(Oe)yield b[Oe];else{const it=(yield On(P)).find($t=>$t.measurementId===oe);it&&(yield b[it.appId])}}catch(It){Ke.error(It)}C("config",oe,Ee)})).apply(this,arguments)}function w_(C,b,P,G,oe){return fc.apply(this,arguments)}function fc(){return(fc=(0,$.Z)(function*(C,b,P,G,oe){try{let Ee=[];if(oe&&oe.send_to){let Oe=oe.send_to;Array.isArray(Oe)||(Oe=[Oe]);const It=yield On(P);for(const it of Oe){const $t=It.find(xt=>xt.measurementId===it),Fn=$t&&b[$t.appId];if(!Fn){Ee=[];break}Ee.push(Fn)}}0===Ee.length&&(Ee=Object.values(b)),yield Promise.all(Ee),C("event",G,oe||{})}catch(Ee){Ke.error(Ee)}})).apply(this,arguments)}function D_(C){const b=window.document.getElementsByTagName("script");for(const P of Object.values(b))if(P.src&&P.src.includes(kt)&&P.src.includes(C))return P;return null}const bf=new class S_{constructor(b={},P=1e3){this.throttleMetadata=b,this.intervalMillis=P}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,P){this.throttleMetadata[b]=P}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function R_(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function M_(C){return fl.apply(this,arguments)}function fl(){return(fl=(0,$.Z)(function*(C){var b;const{appId:P,apiKey:G}=C,oe={method:"GET",headers:R_(G)},Ee=Fe.replace("{app-id}",P),Oe=yield fetch(Ee,oe);if(200!==Oe.status&&304!==Oe.status){let It="";try{const it=yield Oe.json();null!==(b=it.error)&&void 0!==b&&b.message&&(It=it.error.message)}catch{}throw Lt.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:It})}return Oe.json()})).apply(this,arguments)}function P_(C){return pc.apply(this,arguments)}function pc(){return(pc=(0,$.Z)(function*(C,b=bf,P){const{appId:G,apiKey:oe,measurementId:Ee}=C.options;if(!G)throw Lt.create("no-app-id");if(!oe){if(Ee)return{measurementId:Ee,appId:G};throw Lt.create("no-api-key")}const Oe=b.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},It=new Ww;return setTimeout((0,$.Z)(function*(){It.abort()}),void 0!==P?P:6e4),pl({appId:G,apiKey:oe,measurementId:Ee},Oe,It,b)})).apply(this,arguments)}function pl(C,b,P){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,$.Z)(function*(C,{throttleEndTimeMillis:b,backoffCount:P},G,oe=bf){var Ee;const{appId:Oe,measurementId:It}=C;try{yield gc(G,b)}catch(it){if(It)return Ke.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:Oe,measurementId:It};throw it}try{const it=yield M_(C);return oe.deleteThrottleMetadata(Oe),it}catch(it){const $t=it;if(!x_($t)){if(oe.deleteThrottleMetadata(Oe),It)return Ke.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:Oe,measurementId:It};throw it}const Fn=503===Number(null===(Ee=$t?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,Ae.$s)(P,oe.intervalMillis,30):(0,Ae.$s)(P,oe.intervalMillis),xt={throttleEndTimeMillis:Date.now()+Fn,backoffCount:P+1};return oe.setThrottleMetadata(Oe,xt),Ke.debug(`Calling attemptFetch again in ${Fn} millis`),pl(C,xt,G,oe)}})).apply(this,arguments)}function gc(C,b){return new Promise((P,G)=>{const oe=Math.max(b-Date.now(),0),Ee=setTimeout(P,oe);C.addEventListener(()=>{clearTimeout(Ee),G(Lt.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function x_(C){if(!(C instanceof Ae.ZR&&C.customData))return!1;const b=Number(C.customData.httpStatus);return 429===b||500===b||503===b||504===b}class Ww{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let pi,yl;function Qs(){return(Qs=(0,$.Z)(function*(C,b,P,G,oe){if(oe&&oe.global)C("event",P,G);else{const Ee=yield b;C("event",P,Object.assign(Object.assign({},G),{send_to:Ee}))}})).apply(this,arguments)}function vl(C){yl=C}function El(C){pi=C}function zw(){return _n.apply(this,arguments)}function _n(){return(_n=(0,$.Z)(function*(){if(!(0,Ae.hl)())return Ke.warn(Lt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(C){return Ke.warn(Lt.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ec(){return(Ec=(0,$.Z)(function*(C,b,P,G,oe,Ee,Oe){var It;const it=P_(C);it.then($r=>{P[$r.measurementId]=$r.appId,C.options.measurementId&&$r.measurementId!==C.options.measurementId&&Ke.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${$r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($r=>Ke.error($r)),b.push(it);const $t=zw().then($r=>{if($r)return G.getId()}),[Fn,xt]=yield Promise.all([it,$t]);D_(Ee)||Cf(Ee,Fn.measurementId),yl&&(oe("consent","default",yl),vl(void 0)),oe("js",new Date);const Mi=null!==(It=Oe?.config)&&void 0!==It?It:{};return Mi[j]="firebase",Mi.update=!0,null!=xt&&(Mi[S]=xt),oe("config",Fn.measurementId,Mi),pi&&(oe("set",pi),El(void 0)),Fn.measurementId})).apply(this,arguments)}class Zo{constructor(b){this.app=b}_delete(){return delete Tn[this.app.options.appId],Promise.resolve()}}let Tn={},Js=[];const Qo={};let Cc,Fr,Or="dataLayer",Cl=!1;function wl(C,b,P){!function wc(){const C=[];if((0,Ae.ru)()&&C.push("This is a browser extension environment."),(0,Ae.zI)()||C.push("Cookies are not available."),C.length>0){const b=C.map((G,oe)=>`(${oe+1}) ${G}`).join(" "),P=Lt.create("invalid-analytics-context",{errorInfo:b});Ke.warn(P.message)}}();const G=C.options.appId;if(!G)throw Lt.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Lt.create("no-api-key");Ke.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tn[G])throw Lt.create("already-exists",{id:G});if(!Cl){!function C_(C){let b=[];Array.isArray(window[C])?b=window[C]:window[C]=b}(Or);const{wrappedGtag:Ee,gtagCore:Oe}=function I_(C,b,P,G,oe){let Ee=function(...Oe){window[G].push(arguments)};return window[oe]&&"function"==typeof window[oe]&&(Ee=window[oe]),window[oe]=function b_(C,b,P,G){function Ee(){return(Ee=(0,$.Z)(function*(Oe,...It){try{if("event"===Oe){const[it,$t]=It;yield w_(C,b,P,it,$t)}else if("config"===Oe){const[it,$t]=It;yield wf(C,b,P,G,it,$t)}else if("consent"===Oe){const[it]=It;C("consent","update",it)}else if("get"===Oe){const[it,$t,Fn]=It;C("get",it,$t,Fn)}else if("set"===Oe){const[it]=It;C("set",it)}else C(Oe,...It)}catch(it){Ke.error(it)}})).apply(this,arguments)}return function oe(Oe){return Ee.apply(this,arguments)}}(Ee,C,b,P),{gtagCore:Ee,wrappedGtag:window[oe]}}(Tn,Js,Qo,Or,"gtag");Fr=Ee,Cc=Oe,Cl=!0}return Tn[G]=function k_(C,b,P,G,oe,Ee,Oe){return Ec.apply(this,arguments)}(C,Js,Qo,b,Cc,Or,P),new Zo(C)}function O_(){return bl.apply(this,arguments)}function bl(){return(bl=(0,$.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const Gn="@firebase/analytics";!function Xo(){(0,hn._registerComponent)(new ne.wA(Jr,(b,{options:P})=>wl(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,hn._registerComponent)(new ne.wA("analytics-internal",function C(b){try{const P=b.getProvider(Jr).getImmediate();return{logEvent:(G,oe,Ee)=>function Ic(C,b,P,G){C=(0,Ae.m9)(C),function mc(C,b,P,G,oe){return Qs.apply(this,arguments)}(Fr,Tn[C.app.options.appId],b,P,G).catch(oe=>Ke.error(oe))}(P,G,oe,Ee)}}catch(P){throw Lt.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,hn.registerVersion)(Gn,"0.10.0"),(0,hn.registerVersion)(Gn,"0.10.0","esm2017")}();var gi=T(4408),Ac=T(640);const B_=new class V_ extends Ac.v{}(class Tc extends gi.o{constructor(b,P){super(b,P),this.scheduler=b,this.work=P}schedule(b,P=0){return P>0?super.schedule(b,P):(this.delay=P,this.state=b,this.scheduler.flush(this),this)}execute(b,P){return P>0||this.closed?super.execute(b,P):this._execute(b,P)}requestAsyncId(b,P,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(b,P,G):(b.flush(this),0)}});var Df=T(4986),nr=T(9751),mi=T(8505),ea=T(5363),_i=T(9468);const Dr=new f.GfV("7.4.1"),Sc="__angularfire_symbol__analyticsIsSupportedValue",Il="__angularfire_symbol__analyticsIsSupported",ta="__angularfire_symbol__remoteConfigIsSupportedValue",na="__angularfire_symbol__remoteConfigIsSupported",ra="__angularfire_symbol__messagingIsSupportedValue",ia="__angularfire_symbol__messagingIsSupported";globalThis[Il]||(globalThis[Il]=O_().then(C=>globalThis[Sc]=C).catch(()=>globalThis[Sc]=!1)),globalThis[ia]||(globalThis[ia]=Zr().then(C=>globalThis[ra]=C).catch(()=>globalThis[ra]=!1)),globalThis[na]||(globalThis[na]=(0,H.Gb)().then(C=>globalThis[ta]=C).catch(()=>globalThis[ta]=!1));const H_={async:()=>globalThis[na],sync:()=>{const C=globalThis[ta];if(void 0===C)throw new Error((C=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${C} in the constructor, first ensure that ${C} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${C})\`.`)("RemoteConfig"));return C}};function Rc(C,b,P){if(b){if(1===b.length)return b[0];const Ee=b.filter(Oe=>Oe.app===P);if(1===Ee.length)return Ee[0]}return P.container.getProvider(C).getImmediate({optional:!0})}const Tf=(C,b)=>{const P=b?[b]:(0,O.C6)(),G=[];return P.forEach(oe=>{oe.container.getProvider(C).instances.forEach(Oe=>{G.includes(Oe)||G.push(Oe)})}),G};function Es(){}class Mc{constructor(b,P=B_){this.zone=b,this.delegate=P}now(){return this.delegate.now()}schedule(b,P,G){const oe=this.zone;return this.delegate.schedule(function(Oe){oe.runGuarded(()=>{b.apply(this,[Oe])})},P,G)}}class Af{constructor(b){this.zone=b,this.task=null}call(b,P){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),P.pipe((0,mi.b)({next:G,complete:G,error:G})).subscribe(b).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pc=(()=>{class C{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Mc(Zone.current)),this.insideAngular=P.run(()=>new Mc(Zone.current,Df.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(P){return new(P||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Cs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function j_(C){return Cs().ngZone.runOutsideAngular(()=>C())}function xn(C){return Cs().ngZone.run(()=>C())}function Qi(C){return C.pipe((0,ea.Q)(Cs().outsideAngular))}function xc(C){return Cs(),function G_(C){return function(P){return(P=P.lift(new Af(C.ngZone))).pipe((0,_i.R)(C.outsideAngular),(0,ea.Q)(C.insideAngular))}}(Cs())(C)}const W_=(C,b)=>function(){const G=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),xn(()=>C.apply(void 0,G))},z_=(C,b)=>function(){let P;const G=arguments;for(let Ee=0;Ee<arguments.length;Ee++)"function"==typeof G[Ee]&&(b&&(P||(P=xn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)))),G[Ee]=W_(G[Ee],P));const oe=j_(()=>C.apply(this,G));if(!b){if(oe instanceof nr.y){const Ee=Cs();return oe.pipe((0,_i.R)(Ee.outsideAngular),(0,ea.Q)(Ee.insideAngular))}return xn(()=>oe)}return oe instanceof nr.y?oe.pipe(xc):oe instanceof Promise?xn(()=>new Promise((Ee,Oe)=>oe.then(It=>xn(()=>Ee(It)),It=>xn(()=>Oe(It))))):"function"==typeof oe&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),oe.apply(this,arguments)}:xn(()=>oe)}},2090:(ot,me,T)=>{"use strict";T.d(me,{$s:()=>yr,BH:()=>K,DV:()=>gn,GJ:()=>En,L:()=>J,LL:()=>_e,P0:()=>be,Pz:()=>ve,Sg:()=>fe,UG:()=>we,UI:()=>ee,US:()=>ne,Wl:()=>Ne,Yr:()=>mr,ZB:()=>z,ZR:()=>Ce,aH:()=>ue,b$:()=>dt,cI:()=>gt,dS:()=>Dn,eu:()=>X,g5:()=>H,gK:()=>sn,gQ:()=>Jt,h$:()=>le,hl:()=>Q,hu:()=>O,jU:()=>nt,m9:()=>Kn,ne:()=>Me,p$:()=>M,r3:()=>Mn,ru:()=>Ge,tV:()=>R,uI:()=>he,ug:()=>lt,vZ:()=>Se,w9:()=>Et,xO:()=>At,xb:()=>Be,z$:()=>B,zI:()=>de});const O=function(k,x){if(!k)throw H(x)},H=function(k){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+k)},$=function(k){const x=[];let V=0;for(let ye=0;ye<k.length;ye++){let Y=k.charCodeAt(ye);Y<128?x[V++]=Y:Y<2048?(x[V++]=Y>>6|192,x[V++]=63&Y|128):55296==(64512&Y)&&ye+1<k.length&&56320==(64512&k.charCodeAt(ye+1))?(Y=65536+((1023&Y)<<10)+(1023&k.charCodeAt(++ye)),x[V++]=Y>>18|240,x[V++]=Y>>12&63|128,x[V++]=Y>>6&63|128,x[V++]=63&Y|128):(x[V++]=Y>>12|224,x[V++]=Y>>6&63|128,x[V++]=63&Y|128)}return x},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,x){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let Y=0;Y<k.length;Y+=3){const Ze=k[Y],ft=Y+1<k.length,nn=ft?k[Y+1]:0,$n=Y+2<k.length,ln=$n?k[Y+2]:0;let Zt=(15&nn)<<2|ln>>6,an=63&ln;$n||(an=64,ft||(Zt=64)),ye.push(V[Ze>>2],V[(3&Ze)<<4|nn>>4],V[Zt],V[an])}return ye.join("")},encodeString(k,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(k):this.encodeByteArray($(k),x)},decodeString(k,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(k):function(k){const x=[];let V=0,ye=0;for(;V<k.length;){const Y=k[V++];if(Y<128)x[ye++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ze=k[V++];x[ye++]=String.fromCharCode((31&Y)<<6|63&Ze)}else if(Y>239&&Y<365){const $n=((7&Y)<<18|(63&k[V++])<<12|(63&k[V++])<<6|63&k[V++])-65536;x[ye++]=String.fromCharCode(55296+($n>>10)),x[ye++]=String.fromCharCode(56320+(1023&$n))}else{const Ze=k[V++],ft=k[V++];x[ye++]=String.fromCharCode((15&Y)<<12|(63&Ze)<<6|63&ft)}}return x.join("")}(this.decodeStringToByteArray(k,x))},decodeStringToByteArray(k,x){this.init_();const V=x?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let Y=0;Y<k.length;){const Ze=V[k.charAt(Y++)],nn=Y<k.length?V[k.charAt(Y)]:0;++Y;const ln=Y<k.length?V[k.charAt(Y)]:64;++Y;const Qe=Y<k.length?V[k.charAt(Y)]:64;if(++Y,null==Ze||null==nn||null==ln||null==Qe)throw new Z;ye.push(Ze<<2|nn>>4),64!==ln&&(ye.push(nn<<4&240|ln>>2),64!==Qe&&ye.push(ln<<6&192|Qe))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(k){const x=$(k);return ne.encodeByteArray(x,!0)},J=function(k){return le(k).replace(/\./g,"")},R=function(k){try{return ne.decodeString(k,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function M(k){return z(void 0,k)}function z(k,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return x}for(const V in x)!x.hasOwnProperty(V)||!Re(V)||(k[V]=z(k[V],x[V]));return k}function Re(k){return"__proto__"!==k}const Te=()=>{try{return function ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=k&&R(k[1]);return x&&JSON.parse(x)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},be=k=>{const x=(k=>{var x,V;return null===(V=null===(x=Te())||void 0===x?void 0:x.emulatorHosts)||void 0===V?void 0:V[k]})(k);if(!x)return;const V=x.lastIndexOf(":");if(V<=0||V+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const ye=parseInt(x.substring(V+1),10);return"["===x[0]?[x.substring(1,V-1),ye]:[x.substring(0,V),ye]},ue=()=>{var k;return null===(k=Te())||void 0===k?void 0:k.config},ve=k=>{var x;return null===(x=Te())||void 0===x?void 0:x[`_${k}`]};class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,V)=>{this.resolve=x,this.reject=V})}wrapCallback(x){return(V,ye)=>{V?this.reject(V):this.resolve(ye),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(V):x(V,ye))}}}function fe(k,x){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=x||"demo-project",Y=k.iat||0,Ze=k.sub||k.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:Y,exp:Y+3600,auth_time:Y,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},k);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(ft)),""].join(".")}function B(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function we(){var k;const x=null===(k=Te())||void 0===k?void 0:k.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function Ge(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mr(){return!1}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function X(){return new Promise((k,x)=>{try{let V=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ye);Y.onsuccess=()=>{Y.result.close(),V||self.indexedDB.deleteDatabase(ye),k(!0)},Y.onupgradeneeded=()=>{V=!1},Y.onerror=()=>{var Ze;x((null===(Ze=Y.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(V){x(V)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(x,V,ye){super(V),this.code=x,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(x,V,ye){this.service=x,this.serviceName=V,this.errors=ye}create(x,...V){const ye=V[0]||{},Y=`${this.service}/${x}`,Ze=this.errors[x],ft=Ze?function Le(k,x){return k.replace(Ye,(V,ye)=>{const Y=x[ye];return null!=Y?String(Y):`<${ye}?>`})}(Ze,ye):"Error";return new Ce(Y,`${this.serviceName}: ${ft} (${Y}).`,ye)}}const Ye=/\{\$([^}]+)}/g;function gt(k){return JSON.parse(k)}function Ne(k){return JSON.stringify(k)}const at=function(k){let x={},V={},ye={},Y="";try{const Ze=k.split(".");x=gt(R(Ze[0])||""),V=gt(R(Ze[1])||""),Y=Ze[2],ye=V.d||{},delete V.d}catch{}return{header:x,claims:V,data:ye,signature:Y}},Et=function(k){const V=at(k).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},En=function(k){const x=at(k).claims;return"object"==typeof x&&!0===x.admin};function Mn(k,x){return Object.prototype.hasOwnProperty.call(k,x)}function gn(k,x){if(Object.prototype.hasOwnProperty.call(k,x))return k[x]}function Be(k){for(const x in k)if(Object.prototype.hasOwnProperty.call(k,x))return!1;return!0}function ee(k,x,V){const ye={};for(const Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(ye[Y]=x.call(V,k[Y],Y,k));return ye}function Se(k,x){if(k===x)return!0;const V=Object.keys(k),ye=Object.keys(x);for(const Y of V){if(!ye.includes(Y))return!1;const Ze=k[Y],ft=x[Y];if(et(Ze)&&et(ft)){if(!Se(Ze,ft))return!1}else if(Ze!==ft)return!1}for(const Y of ye)if(!V.includes(Y))return!1;return!0}function et(k){return null!==k&&"object"==typeof k}function At(k){const x=[];for(const[V,ye]of Object.entries(k))Array.isArray(ye)?ye.forEach(Y=>{x.push(encodeURIComponent(V)+"="+encodeURIComponent(Y))}):x.push(encodeURIComponent(V)+"="+encodeURIComponent(ye));return x.length?"&"+x.join("&"):""}class Jt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let x=1;x<this.blockSize;++x)this.pad_[x]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(x,V){V||(V=0);const ye=this.W_;if("string"==typeof x)for(let Qe=0;Qe<16;Qe++)ye[Qe]=x.charCodeAt(V)<<24|x.charCodeAt(V+1)<<16|x.charCodeAt(V+2)<<8|x.charCodeAt(V+3),V+=4;else for(let Qe=0;Qe<16;Qe++)ye[Qe]=x[V]<<24|x[V+1]<<16|x[V+2]<<8|x[V+3],V+=4;for(let Qe=16;Qe<80;Qe++){const Zt=ye[Qe-3]^ye[Qe-8]^ye[Qe-14]^ye[Qe-16];ye[Qe]=4294967295&(Zt<<1|Zt>>>31)}let ln,jn,Y=this.chain_[0],Ze=this.chain_[1],ft=this.chain_[2],nn=this.chain_[3],$n=this.chain_[4];for(let Qe=0;Qe<80;Qe++){Qe<40?Qe<20?(ln=nn^Ze&(ft^nn),jn=1518500249):(ln=Ze^ft^nn,jn=1859775393):Qe<60?(ln=Ze&ft|nn&(Ze|ft),jn=2400959708):(ln=Ze^ft^nn,jn=3395469782);const Zt=(Y<<5|Y>>>27)+ln+$n+jn+ye[Qe]&4294967295;$n=nn,nn=ft,ft=4294967295&(Ze<<30|Ze>>>2),Ze=Y,Y=Zt}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ze&4294967295,this.chain_[2]=this.chain_[2]+ft&4294967295,this.chain_[3]=this.chain_[3]+nn&4294967295,this.chain_[4]=this.chain_[4]+$n&4294967295}update(x,V){if(null==x)return;void 0===V&&(V=x.length);const ye=V-this.blockSize;let Y=0;const Ze=this.buf_;let ft=this.inbuf_;for(;Y<V;){if(0===ft)for(;Y<=ye;)this.compress_(x,Y),Y+=this.blockSize;if("string"==typeof x){for(;Y<V;)if(Ze[ft]=x.charCodeAt(Y),++ft,++Y,ft===this.blockSize){this.compress_(Ze),ft=0;break}}else for(;Y<V;)if(Ze[ft]=x[Y],++ft,++Y,ft===this.blockSize){this.compress_(Ze),ft=0;break}}this.inbuf_=ft,this.total_+=V}digest(){const x=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&V,V/=256;this.compress_(this.buf_);let ye=0;for(let Y=0;Y<5;Y++)for(let Ze=24;Ze>=0;Ze-=8)x[ye]=this.chain_[Y]>>Ze&255,++ye;return x}}function Me(k,x){const V=new je(k,x);return V.subscribe.bind(V)}class je{constructor(x,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{x(this)}).catch(ye=>{this.error(ye)})}next(x){this.forEachObserver(V=>{V.next(x)})}error(x){this.forEachObserver(V=>{V.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,V,ye){let Y;if(void 0===x&&void 0===V&&void 0===ye)throw new Error("Missing Observer.");Y=function Xt(k,x){if("object"!=typeof k||null===k)return!1;for(const V of x)if(V in k&&"function"==typeof k[V])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:V,complete:ye},void 0===Y.next&&(Y.next=Yt),void 0===Y.error&&(Y.error=Yt),void 0===Y.complete&&(Y.complete=Yt);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ze}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,x)}sendOne(x,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{V(this.observers[x])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yt(){}function sn(k,x){return`${k} failed: ${x} argument `}const Dn=function(k){const x=[];let V=0;for(let ye=0;ye<k.length;ye++){let Y=k.charCodeAt(ye);if(Y>=55296&&Y<=56319){const Ze=Y-55296;ye++,O(ye<k.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ze<<10)+(k.charCodeAt(ye)-56320)}Y<128?x[V++]=Y:Y<2048?(x[V++]=Y>>6|192,x[V++]=63&Y|128):Y<65536?(x[V++]=Y>>12|224,x[V++]=Y>>6&63|128,x[V++]=63&Y|128):(x[V++]=Y>>18|240,x[V++]=Y>>12&63|128,x[V++]=Y>>6&63|128,x[V++]=63&Y|128)}return x},lt=function(k){let x=0;for(let V=0;V<k.length;V++){const ye=k.charCodeAt(V);ye<128?x++:ye<2048?x+=2:ye>=55296&&ye<=56319?(x+=4,V++):x+=3}return x};function yr(k,x=1e3,V=2){const ye=x*Math.pow(V,k),Y=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+Y)}function Kn(k){return k&&k._delegate?k._delegate:k}},2910:(ot,me,T)=>{"use strict";var f=T(8256);let O=null;function H(){return O}const Z=new f.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function J(){return(0,f.LFG)(M)}()},providedIn:"platform"}),n})();const R=new f.OlP("Location Initialized");let M=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){z()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){z()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Re(){return new M((0,f.LFG)(Z))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function $e(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function xe(n){return n&&"?"!==n[0]?"?"+n:n}let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(We)},providedIn:"root"}),n})();const Te=new f.OlP("appBaseHref");let We=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+xe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+xe(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+xe(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(Te,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),be=(()=>{class n extends ke{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+xe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+xe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(Te,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ue=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=$e(fe(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xe(r))}normalize(t){return n.stripTrailingSlash(function K(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xe(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xe(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=xe,n.joinWithSlash=ae,n.stripTrailingSlash=$e,n.\u0275fac=function(t){return new(t||n)(f.LFG(ke))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(){return new ue((0,f.LFG)(ke))}()},providedIn:"root"}),n})();function fe(n){return n.replace(/\/index.html$/,"")}function hi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}class fi{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new fi(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,d),Si(p,o)}});for(let o=0,u=r.length;o<u;o++){const p=r.get(o).context;p.index=o,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Si(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Si(n,e){n.context.$implicit=e.item}let Wt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new hc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class hc{constructor(){this.$implicit=null,this.ngIf=null}}function dl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Ke=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,u]=t.split("."),d=-1===o.indexOf("-")?void 0:f.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,u?`${r}${u}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,o,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();let _l=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new kr((0,f.LFG)(Z),window)}),n})();class kr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vs(this.window.history)||vs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class El{}class it extends class It extends class ne{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){O||(O=n)}(new it)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fn(){return $t=$t||document.querySelector("base"),$t?$t.getAttribute("href"):null}();return null==t?null:function Mi(n){xt=xt||document.createElement("a"),xt.setAttribute("href",n);const e=xt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$t=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hi(document.cookie,e)}}let xt,$t=null;const $r=new f.OlP("TRANSITION_ID"),Yw=[{provide:f.ip1,useFactory:function Kw(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=H(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[$r,Z,f.zs3],multi:!0}];let aS=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new f.OlP("EventManagerPlugins");let Tl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Xs),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Sf{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=H().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Al=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),oa=(()=>{class n extends Al{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Rf),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Rf))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Rf(n){H().remove(n)}const ws={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mf=/%COMP%/g;function Oc(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Oc(n,o,t):(o=o.replace(Mf,n),t.push(o))}return t}function yi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let to=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Sl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Zw(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new Y_(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Oc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Tl),f.LFG(oa),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Sl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ws[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ml(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ml(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=ws[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ws[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yi(r)):this.eventManager.addEventListener(e,t,yi(r))}}function Ml(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zw extends Sl{constructor(e,t,r,o){super(e),this.component=r;const u=Oc(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function q_(n){return"_ngcontent-%COMP%".replace(Mf,n)}(o+"-"+r.id),this.hostAttr=function K_(n){return"_nghost-%COMP%".replace(Mf,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Y_ extends Sl{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Oc(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const p=document.createElement("style");p.textContent=u[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Z_=(()=>{class n extends Sf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const xf=["alt","control","meta","shift"],Q_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qw={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fc=(()=>{class n extends Sf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),d="code."),xf.forEach(v=>{const I=r.indexOf(v);I>-1&&(r.splice(I,1),d+=v+".")}),d+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let o=Q_[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),xf.forEach(d=>{d!==o&&(0,Qw[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ey=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function Xw(){it.makeCurrent()},multi:!0},{provide:Z,useFactory:function kf(){return(0,f.RDi)(document),document},deps:[]}]),Lc=new f.OlP(""),ro=[{provide:f.rWj,useClass:class oS{addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const p=function(_){d=d||_,u--,0==u&&r(d)};o.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],io=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function J_(){return new f.qLn},deps:[]},{provide:Xs,useClass:Z_,multi:!0,deps:[Z,f.R0b,f.Lbi]},{provide:Xs,useClass:Fc,multi:!0,deps:[Z]},{provide:to,useClass:to,deps:[Tl,oa,f.AFp]},{provide:f.FYo,useExisting:to},{provide:Al,useExisting:oa},{provide:oa,useClass:oa,deps:[Z]},{provide:Tl,useClass:Tl,deps:[Xs,f.R0b]},{provide:El,useClass:aS,deps:[]},[]];let aa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:$r,useExisting:f.AFp},Yw]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Lc,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...io,...ro],imports:[pi,f.hGG]}),n})(),ty=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function dS(){return new ty((0,f.LFG)(Z))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Ln=T(8996),ao=T(7669);function ct(...n){const e=(0,ao.yG)(n);return(0,Ln.D)(n,e)}var lo=T(7579);class vi extends lo.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Bc=(0,T(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Is=T(9751);const{isArray:Lf}=Array,{getPrototypeOf:Hc,prototype:yS,keys:Ol}=Object;function $c(n){if(1===n.length){const e=n[0];if(Lf(e))return{args:e,keys:null};if(function jc(n){return n&&"object"==typeof n&&Hc(n)===yS}(e)){const t=Ol(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Gc=T(4671),Ut=T(4004);const{isArray:ab}=Array;function la(n){return(0,Ut.U)(e=>function ry(n,e){return ab(e)?n(...e):n(e)}(n,e))}function uo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Tr=T(5403),Jn=T(9672);function Uf(...n){const e=(0,ao.yG)(n),t=(0,ao.jO)(n),{args:r,keys:o}=$c(n);if(0===r.length)return(0,Ln.D)([],e);const u=new Is.y(function iy(n,e,t=Gc.y){return r=>{Wc(e,()=>{const{length:o}=n,u=new Array(o);let d=o,p=o;for(let _=0;_<o;_++)Wc(e,()=>{const v=(0,Ln.D)(n[_],e);let I=!1;v.subscribe((0,Tr.x)(r,D=>{u[_]=D,I||(I=!0,p--),p||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>uo(o,d):Gc.y));return t?u.pipe(la(t)):u}function Wc(n,e,t){n?(0,Jn.f)(t,n,e):e()}var Ji=T(8189);function Vf(...n){return function lb(){return(0,Ji.J)(1)}()((0,Ln.D)(n,(0,ao.yG)(n)))}var zc=T(8421);function qc(n){return new Is.y(e=>{(0,zc.Xf)(n()).subscribe(e)})}var Fl=T(9635),Bf=T(576);function Xi(n,e){const t=(0,Bf.m)(n)?n:()=>n,r=o=>o.error(t());return new Is.y(e?o=>e.schedule(r,0,o):r)}var co=T(515),Hf=T(727),lr=T(4482);function ua(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Tr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class $f extends Is.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Tr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hf.w0.EMPTY)}return e}refCount(){return ua()(this)}}function ti(n,e){return(0,lr.e)((t,r)=>{let o=null,u=0,d=!1;const p=()=>d&&!o&&r.complete();t.subscribe((0,Tr.x)(r,_=>{o?.unsubscribe();let v=0;const I=u++;(0,zc.Xf)(n(_,I)).subscribe(o=(0,Tr.x)(r,D=>r.next(e?e(_,D,I,v++):D),()=>{o=null,p()}))},()=>{d=!0,p()}))})}function Ll(n){return n<=0?()=>co.E:(0,lr.e)((e,t)=>{let r=0;e.subscribe((0,Tr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function jr(n,e){return(0,lr.e)((t,r)=>{let o=0;t.subscribe((0,Tr.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Ar=T(5577);function jf(n){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,Tr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Gf(n=ub){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,Tr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function ub(){return new Bc}function ho(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jr((o,u)=>n(o,u,r)):Gc.y,Ll(1),t?jf(e):Gf(()=>new Bc))}function Ds(n,e){return(0,Bf.m)(e)?(0,Ar.z)(n,e,1):(0,Ar.z)(n,1)}var Cr=T(8505);function Ts(n){return(0,lr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Tr.x)(t,void 0,void 0,d=>{u=(0,zc.Xf)(n(d,Ts(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Kc(n,e,t,r,o){return(u,d)=>{let p=t,_=e,v=0;u.subscribe((0,Tr.x)(d,I=>{const D=v++;_=p?n(_,I,D):(p=!0,I),r&&d.next(_)},o&&(()=>{p&&d.next(_),d.complete()})))}}function Wf(n,e){return(0,lr.e)(Kc(n,e,arguments.length>=2,!0))}function zf(n){return n<=0?()=>co.E:(0,lr.e)((e,t)=>{let r=[];e.subscribe((0,Tr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function qf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jr((o,u)=>n(o,u,r)):Gc.y,zf(1),t?jf(e):Gf(()=>new Bc))}function oy(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",Ul=Symbol("RouteTitle");class Kf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vl(n){return new Kf(n)}function ES(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],p=n[u];if(d.startsWith(":"))o[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function es(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!cb(n[o],e[o]))return!1;return!0}function cb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function db(n){return Array.prototype.concat.apply([],n)}function hb(n){return n.length>0?n[n.length-1]:null}function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ts(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):ct(n)}const ly={exact:function uy(n,e,t){if(!po(n.segments,e.segments)||!Zc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!uy(n.children[r],e.children[r],t))return!1;return!0},subset:Qf},Zf={exact:function fb(n,e){return es(n,e)},subset:function pb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cb(n[t],e[t]))},ignored:()=>!0};function Ei(n,e,t){return ly[t.paths](n.root,e.root,t.matrixParams)&&Zf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Qf(n,e,t){return Yc(n,e,e.segments,t)}function Yc(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!po(o,t)||e.hasChildren()||!Zc(o,t,r))}if(n.segments.length===t.length){if(!po(n.segments,t)||!Zc(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Qf(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(po(n.segments,o)&&Zc(n.segments,o,r)&&n.children[Ot])&&Yc(n.children[Ot],e,u,r)}}function Zc(n,e,t){return e.every((r,o)=>Zf[t](n[o].parameters,r.parameters))}class fo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vl(this.queryParams)),this._queryParamMap}toString(){return Jf.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rr(this)}}class da{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vl(this.parameters)),this._parameterMap}toString(){return cy(this)}}function po(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Qc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new Jc},providedIn:"root"}),n})();class Jc{parse(e){const t=new Hl(e);return new fo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ns(e.root,!0)}`,r=function _b(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Xc(t)}=${Xc(o)}`).join("&"):`${Xc(t)}=${Xc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mb(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jf=new Jc;function rr(n){return n.segments.map(e=>cy(e)).join("/")}function ns(n,e){if(!n.hasChildren())return rr(n);if(e){const t=n.children[Ot]?ns(n.children[Ot],!1):"",r=[];return fr(n.children,(o,u)=>{u!==Ot&&r.push(`${u}:${ns(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Sr(n,e){let t=[];return fr(n.children,(r,o)=>{o===Ot&&(t=t.concat(e(r,o)))}),fr(n.children,(r,o)=>{o!==Ot&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ot?[ns(n.children[Ot],!1)]:[`${o}:${ns(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${rr(n)}/${t[0]}`:`${rr(n)}/(${t.join("//")})`}}function Xf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xc(n){return Xf(n).replace(/%3B/gi,";")}function ed(n){return Xf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(n){return decodeURIComponent(n)}function ep(n){return td(n.replace(/\+/g,"%20"))}function cy(n){return`${ed(n.path)}${function dy(n){return Object.keys(n).map(e=>`;${ed(e)}=${ed(n[e])}`).join("")}(n.parameters)}`}const yb=/^[^\/()?;=#]+/;function ha(n){const e=n.match(yb);return e?e[0]:""}const tp=/^[^=?&#]+/,hy=/^[^&#]+/;class Hl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Vt(e,t)),r}parseSegment(){const e=ha(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(e),new da(td(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ha(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ha(this.remaining);o&&(r=o,this.capture(r))}e[td(t)]=td(r)}parseQueryParam(e){const t=function vb(n){const e=n.match(tp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Eb(n){const e=n.match(hy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ep(t),u=ep(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ha(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new f.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ot);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ot]:new Vt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,!1)}}function np(n){return n.segments.length>0?new Vt([],{[Ot]:n}):n}function nd(n){const e={};for(const r of Object.keys(n.children)){const u=nd(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function rp(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function rs(n){return n instanceof fo}function fy(n,e,t,r,o){if(0===t.length)return pa(e.root,e.root,e.root,r,o);const u=function my(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gy(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return fr(u.outlets,(_,v)=>{p[v]="string"==typeof _?_.split("/"):_}),[...o,{outlets:p}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&o.push(p))}),o):[...o,u]},[]);return new gy(t,e,r)}(t);return u.toRoot()?pa(e.root,e.root,new Vt([],{}),r,o):function d(_){const v=function _y(n,e,t,r){if(n.isAbsolute)return new ga(e.root,!0,0);if(-1===r)return new ga(t,t===e.root,0);return function id(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new f.vHH(4005,!1);o=r.segments.length}return new ga(r,!1,o-u)}(t,r+($l(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),I=v.processChildren?Gl(v.segmentGroup,v.index,u.commands):jl(v.segmentGroup,v.index,u.commands);return pa(e.root,v.segmentGroup,I,r,o)}(n.snapshot?._lastPathIndex)}function $l(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function go(n){return"object"==typeof n&&null!=n&&n.outlets}function pa(n,e,t,r,o){let d,u={};r&&fr(r,(_,v)=>{u[v]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),d=n===e?t:py(n,e,t);const p=np(nd(d));return new fo(p,u,o)}function py(n,e,t){const r={};return fr(n.children,(o,u)=>{r[u]=o===e?t:py(o,e,t)}),new Vt(n.segments,r)}class gy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$l(r[0]))throw new f.vHH(4003,!1);const o=r.find(go);if(o&&o!==hb(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ga{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function jl(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Gl(n,e,t);const r=function wb(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],p=t[r];if(go(p))break;const _=`${p}`,v=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&v&&"object"==typeof v&&void 0===v.outlets){if(!sp(_,v,d))return u;r+=2}else{if(!sp(_,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Vt(n.segments.slice(0,r.pathIndex),{});return u.children[Ot]=new Vt(n.segments.slice(r.pathIndex),n.children),Gl(u,0,o)}return r.match&&0===o.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?sd(n,e,t):r.match?Gl(n,0,o):sd(n,e,t)}function Gl(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function yy(n){return go(n[0])?n[0].outlets:{[Ot]:n}}(t),o={};return fr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=jl(n.children[d],e,u))}),fr(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Vt(n.segments,o)}}function sd(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(go(u)){const _=vy(u.outlets);return new Vt(r,_)}if(0===o&&$l(t[0])){r.push(new da(n.segments[e].path,As(t[0]))),o++;continue}const d=go(u)?u.outlets[Ot]:`${u}`,p=o<t.length-1?t[o+1]:null;d&&p&&$l(p)?(r.push(new da(d,As(p))),o+=2):(r.push(new da(d,{})),o++)}return new Vt(r,{})}function vy(n){const e={};return fr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sd(new Vt([],{}),0,t))}),e}function As(n){const e={};return fr(n,(t,r)=>e[r]=`${t}`),e}function sp(n,e,t){return n==t.path&&es(e,t.parameters)}class Pi{constructor(e,t){this.id=e,this.url=t}}class op extends Pi{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ma extends Pi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mo extends Pi{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ey extends Pi{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cy extends Pi{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wy extends Pi{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class by extends Pi{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ap extends Pi{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iy extends Pi{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class od{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ad{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dy{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class up{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cp{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _a{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return fp(e,this._root).map(t=>t.value)}}function hp(n,e){if(n===e.value)return e;for(const t of e.children){const r=hp(n,t);if(r)return r}return null}function fp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fp(n,t);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ss(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Wl extends dp{constructor(e,t){super(e),this.snapshot=t,pp(this,e)}toString(){return this.snapshot.toString()}}function ld(n,e){const t=function _o(n,e){const d=new ud([],{},{},"",{},Ot,e,null,n.root,-1,{});return new cd("",new xi(d,[]))}(n,e),r=new vi([new da("",{})]),o=new vi({}),u=new vi({}),d=new vi({}),p=new vi(""),_=new yo(r,o,d,p,u,Ot,e,t.root);return _.snapshot=t.root,new Wl(new xi(_,[]),t)}class yo{constructor(e,t,r,o,u,d,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=p,this.title=this.data?.pipe((0,Ut.U)(v=>v[Ul]))??ct(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(e=>Vl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(e=>Vl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ty(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function CS(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ud{constructor(e,t,r,o,u,d,p,_,v,I,D,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=p,this.title=this.data?.[Ul],this.routeConfig=_,this._urlSegment=v,this._lastPathIndex=I,this._correctedLastPathIndex=L??I,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cd extends dp{constructor(e,t){super(t),this.url=e,pp(this,t)}toString(){return gp(this._root)}}function pp(n,e){e.value._routerState=n,e.children.forEach(t=>pp(n,t))}function gp(n){const e=n.children.length>0?` { ${n.children.map(gp).join(", ")} } `:"";return`${n.value}${e}`}function ya(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,es(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),es(e.params,t.params)||n.params.next(t.params),function Yf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!es(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),es(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zl(n,e){const t=es(n.params,e.params)&&function gb(n,e){return po(n,e)&&n.every((t,r)=>es(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zl(n.parent,e.parent))}function va(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Sy(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return va(n,r,o);return va(n,r)})}(n,e,t);return new xi(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>va(n,p)),d}}const r=function Ry(n){return new yo(new vi(n.url),new vi(n.params),new vi(n.queryParams),new vi(n.fragment),new vi(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>va(n,u));return new xi(r,o)}}const mp="ngNavigationCancelingError";function My(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Py(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Py(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[mp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function xy(n){return Ny(n)&&rs(n.url)}function Ny(n){return n&&n[mp]}class Rs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new is,this.attachRef=null}}let is=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Rs,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dd=!1;let ky=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=o||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,dd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,dd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,dd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,dd);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new wS(t,p,o.injector);if(r&&function bS(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(d);this.activated=o.createComponent(v,o.length,_)}else this.activated=o.createComponent(d,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(is),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class wS{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yo?this.route:e===is?this.childContexts:this.parent.get(e,t)}}let Oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[ky],encapsulation:2}),n})();function Ib(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hd(n){const e=n.children&&n.children.map(hd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=Oy),t}function Gr(n){return n.outlet||Ot}function vp(n,e){const t=n.filter(r=>Gr(r)===e);return t.push(...n.filter(r=>Gr(r)!==e)),t}function fd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SS{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ya(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ss(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),fr(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ss(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ss(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ss(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new cp(u.value.snapshot))}),e.children.length&&this.forwardEvent(new lp(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(ya(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),ya(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=fd(o.snapshot),_=p?.get(f._Vd)??null;d.attachRef=null,d.route=o,d.resolver=_,d.injector=p,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class pd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ea{constructor(e,t){this.component=e,this.route=t}}function RS(n,e,t){const r=n._root;return Kl(r,e?e._root:null,t,[r.value])}function vo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function Kl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ss(e);return n.children.forEach(d=>{(function Tb(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const _=function Ab(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!po(n.url,e.url)||!es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zl(n,e)||!es(n.queryParams,e.queryParams);default:return!zl(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new pd(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Kl(n,e,u.component?p?p.children:null:t,r,o),_&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new Ea(p.outlet.component,d))}else d&&Yl(e,p,o),o.canActivateChecks.push(new pd(r)),Kl(n,null,u.component?p?p.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),fr(u,(d,p)=>Yl(d,t.getContext(p),o)),o}function Yl(n,e,t){const r=Ss(n),o=n.value;fr(r,(u,d)=>{Yl(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Ea(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Ca(n){return"function"==typeof n}function md(n){return n instanceof Bc||"EmptyError"===n?.name}const _d=Symbol("INITIAL_VALUE");function wa(){return ti(n=>Uf(n.map(e=>e.pipe(Ll(1),function ca(...n){const e=(0,ao.yG)(n);return(0,lr.e)((t,r)=>{(e?Vf(n,t,e):Vf(n,t)).subscribe(r)})}(_d)))).pipe((0,Ut.U)(e=>{for(const t of e)if(!0!==t){if(t===_d)return _d;if(!1===t||t instanceof fo)return t}return!0}),jr(e=>e!==_d),Ll(1)))}function bp(n){return(0,Fl.z)((0,Cr.b)(e=>{if(rs(e))throw My(0,e)}),(0,Ut.U)(e=>!0===e))}const yd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ip(n,e,t,r,o){const u=Ql(n,e,t);return u.matched?function kb(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?ct(o.map(d=>{const p=vo(d,n);return ts(function Mb(n){return n&&Ca(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(wa(),bp()):ct(!0)}(r=Ib(e,r),e,t).pipe((0,Ut.U)(d=>!0===d?u:{...yd})):ct(u)}function Ql(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...yd}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||ES)(t,n,e);if(!o)return{...yd};const u={};fr(o.posParams,(p,_)=>{u[_]=p.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Dp(n,e,t,r,o="corrected"){if(t.length>0&&function Uy(n,e,t){return t.some(r=>Ni(n,e,r)&&Gr(r)!==Ot)}(n,t,r)){const d=new Vt(e,function Tp(n,e,t,r){const o={};o[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Gr(u)!==Ot){const d=new Vt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Gr(u)]=d}return o}(n,e,r,new Vt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Vy(n,e,t){return t.some(r=>Ni(n,e,r))}(n,t,r)){const d=new Vt(n.segments,function Ob(n,e,t,r,o,u){const d={};for(const p of r)if(Ni(n,t,p)&&!o[Gr(p)]){const _=new Vt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Gr(p)]=_}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Vt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Ni(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function By(n,e,t,r){return!!(Gr(n)===r||r!==Ot&&Ni(e,t,n))&&("**"===n.path||Ql(e,n,t).matched)}function vd(n,e,t){return 0===e.length&&!n.children[t]}const Eo=!1;class Ed{constructor(e){this.segmentGroup=e||null}}class Cd{constructor(e){this.urlTree=e}}function Ms(n){return Xi(new Ed(n))}function Ps(n){return Xi(new Cd(n))}class Lb{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Dp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,Ut.U)(u=>this.createUrlTree(nd(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ts(u=>{if(u instanceof Cd)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ed?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,Ut.U)(o=>this.createUrlTree(nd(o),e.queryParams,e.fragment))).pipe(Ts(o=>{throw o instanceof Ed?this.noMatchError(o):o}))}noMatchError(e){return new f.vHH(4002,Eo)}createUrlTree(e,t,r){const o=np(e);return new fo(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ut.U)(u=>new Vt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Ln.D)(o).pipe(Ds(u=>{const d=r.children[u],p=vp(t,u);return this.expandSegmentGroup(e,p,d,u).pipe((0,Ut.U)(_=>({segment:_,outlet:u})))}),Wf((u,d)=>(u[d.outlet]=d.segment,u),{}),qf())}expandSegment(e,t,r,o,u,d){return(0,Ln.D)(r).pipe(Ds(p=>this.expandSegmentAgainstRoute(e,t,r,p,o,u,d).pipe(Ts(v=>{if(v instanceof Ed)return ct(null);throw v}))),ho(p=>!!p),Ts((p,_)=>{if(md(p))return vd(t,o,u)?ct(new Vt([],{})):Ms(t);throw p}))}expandSegmentAgainstRoute(e,t,r,o,u,d,p){return By(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Ms(t):Ms(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ps(u):this.lineralizeSegments(r,u).pipe((0,Ar.z)(d=>{const p=new Vt(d,{});return this.expandSegment(e,p,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:p,consumedSegments:_,remainingSegments:v,positionalParamSegments:I}=Ql(t,o,u);if(!p)return Ms(t);const D=this.applyRedirectCommands(_,o.redirectTo,I);return o.redirectTo.startsWith("/")?Ps(D):this.lineralizeSegments(o,D).pipe((0,Ar.z)(L=>this.expandSegment(e,t,r,L.concat(v),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=Ib(r,e),r.loadChildren?(r._loadedRoutes?ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ut.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Vt(o,{})))):ct(new Vt(o,{}))):Ip(t,r,o,e).pipe(ti(({matched:d,consumedSegments:p,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Ar.z)(I=>{const D=I.injector??e,L=I.routes,{segmentGroup:q,slicedSegments:pe}=Dp(t,p,_,L),Xe=new Vt(q.segments,q.children);if(0===pe.length&&Xe.hasChildren())return this.expandChildren(D,L,Xe).pipe((0,Ut.U)(tn=>new Vt(p,tn)));if(0===L.length&&0===pe.length)return ct(new Vt(p,{}));const tt=Gr(r)===u;return this.expandSegment(D,Xe,L,pe,tt?Ot:u,!0).pipe((0,Ut.U)(Kt=>new Vt(p.concat(Kt.segments),Kt.children)))})):Ms(t)))}getChildConfig(e,t,r){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ly(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?ct(!0):ct(o.map(d=>{const p=vo(d,n);return ts(function Sb(n){return n&&Ca(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(wa(),bp())}(e,t,r).pipe((0,Ar.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Cr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Ap(n){return Xi(Py(Eo,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ct(r);if(o.numberOfChildren>1||!o.children[Ot])return Xi(new f.vHH(4e3,Eo));o=o.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new fo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const p=o.substring(1);r[u]=t[p]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return fr(t.children,(p,_)=>{d[_]=this.createSegmentGroup(e,p,r,o)}),new Vt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new f.vHH(4001,Eo);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class Ub{}class Hb{constructor(e,t,r,o,u,d,p,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const e=Dp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,Ut.U)(t=>{if(null===t)return null;const r=new ud([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new xi(r,t),u=new cd(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Ty(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Ln.D)(Object.keys(r.children)).pipe(Ds(o=>{const u=r.children[o],d=vp(t,o);return this.processSegmentGroup(e,d,u,o)}),Wf((o,u)=>o&&u?(o.push(...u),o):null),function vS(n,e=!1){return(0,lr.e)((t,r)=>{let o=0;t.subscribe((0,Tr.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),jf(null),qf(),(0,Ut.U)(o=>{if(null===o)return null;const u=Gy(o);return function Sp(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,Ln.D)(t).pipe(Ds(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),ho(d=>!!d),Ts(d=>{if(md(d))return vd(r,o,u)?ct([]):ct(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!By(t,r,o,u))return ct(null);let d;if("**"===t.path){const p=o.length>0?hb(o).parameters:{},_=zy(r)+o.length;d=ct({snapshot:new ud(o,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qy(t),Gr(t),t.component??t._loadedComponent??null,t,jb(r),_,Co(t),_),consumedSegments:[],remainingSegments:[]})}else d=Ip(r,t,o,e).pipe((0,Ut.U)(({matched:p,consumedSegments:_,remainingSegments:v,parameters:I})=>{if(!p)return null;const D=zy(r)+_.length;return{snapshot:new ud(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qy(t),Gr(t),t.component??t._loadedComponent??null,t,jb(r),D,Co(t),D),consumedSegments:_,remainingSegments:v}}));return d.pipe(ti(p=>{if(null===p)return ct(null);const{snapshot:_,consumedSegments:v,remainingSegments:I}=p;e=t._injector??e;const D=t._loadedInjector??e,L=function $b(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:q,slicedSegments:pe}=Dp(r,v,I,L.filter(tt=>void 0===tt.redirectTo),this.relativeLinkResolution);if(0===pe.length&&q.hasChildren())return this.processChildren(D,L,q).pipe((0,Ut.U)(tt=>null===tt?null:[new xi(_,tt)]));if(0===L.length&&0===pe.length)return ct([new xi(_,[])]);const Xe=Gr(t)===u;return this.processSegment(D,L,q,pe,Xe?Ot:u).pipe((0,Ut.U)(tt=>null===tt?null:[new xi(_,tt)]))}))}}function jy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gy(n){const e=[],t=new Set;for(const r of n){if(!jy(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Gy(r.children);e.push(new xi(r.value,o))}return e.filter(r=>!t.has(r))}function jb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zy(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function qy(n){return n.data||{}}function Co(n){return n.resolve||{}}function Yy(n){return"string"==typeof n.title||null===n.title}function wd(n){return ti(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,Ut.U)(()=>e)):ct(e)})}let Rp=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[Ul]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(bd)},providedIn:"root"}),n})(),bd=(()=>{class n extends Rp{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ty))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qb{}class Xl extends class Mp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Id=new f.OlP("",{providedIn:"root",factory:()=>({})}),Pp=new f.OlP("ROUTES");let xp=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ts(t.loadComponent()).pipe((0,Cr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),oy(()=>{this.componentLoaders.delete(t)})),o=new $f(r,()=>new lo.x).pipe(ua());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ut.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,v,I=!1;Array.isArray(p)?v=p:(_=p.create(t).injector,v=db(_.get(Pp,[],f.XFs.Self|f.XFs.Optional)));return{routes:v.map(hd),injector:_}}),oy(()=>{this.childrenLoaders.delete(r)})),d=new $f(u,()=>new lo.x).pipe(ua());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return ts(t()).pipe((0,Ar.z)(r=>r instanceof f.YKP||Array.isArray(r)?ct(r):(0,Ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yb{}class Zb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ls(n){throw n}function Qb(n,e,t){return e.parse("/")}const Jb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Np(){const n=(0,f.f3M)(Qc),e=(0,f.f3M)(is),t=(0,f.f3M)(ue),r=(0,f.f3M)(f.zs3),o=(0,f.f3M)(f.Sil),u=(0,f.f3M)(Pp,{optional:!0})??[],d=(0,f.f3M)(Id,{optional:!0})??{},p=(0,f.f3M)(bd),_=(0,f.f3M)(Rp,{optional:!0}),v=(0,f.f3M)(Yb,{optional:!0}),I=(0,f.f3M)(qb,{optional:!0}),D=new er(null,n,e,t,r,o,db(u));return v&&(D.urlHandlingStrategy=v),I&&(D.routeReuseStrategy=I),D.titleStrategy=_??p,function FS(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),D}let er=(()=>{class n{constructor(t,r,o,u,d,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lo.x,this.errorHandler=ls,this.malformedUriErrorHandler=Qb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new Zb,this.routeReuseStrategy=new Xl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(xp),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new ad(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new od(L)),this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const D=d.get(f.R0b);this.isNgZoneEnabled=D instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function ay(){return new fo(new Vt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ld(this.currentUrlTree,this.rootComponentType),this.transitions=new vi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(jr(o=>0!==o.id),(0,Ut.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ti(o=>{let u=!1,d=!1;return ct(o).pipe((0,Cr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(p=>{const _=this.browserUrlTree.toString(),v=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Xb(p.source)&&(this.browserUrlTree=p.extractedUrl),ct(p).pipe(ti(D=>{const L=this.transitions.getValue();return r.next(new op(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),L!==this.transitions.getValue()?co.E:Promise.resolve(D)}),function $y(n,e,t,r){return ti(o=>function Fb(n,e,t,r,o){return new Lb(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Ut.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Cr.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},o.urlAfterRedirects=D.urlAfterRedirects}),function Jl(n,e,t,r,o,u){return(0,Ar.z)(d=>function Bb(n,e,t,r,o,u,d="emptyOnly",p="legacy"){return new Hb(n,e,t,r,o,d,p,u).recognize().pipe(ti(_=>null===_?function Vb(n){return new Is.y(e=>e.error(n))}(new Ub):ct(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,Ut.U)(p=>({...d,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Cr.b)(D=>{if(o.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(q,D)}this.browserUrlTree=D.urlAfterRedirects}const L=new Cy(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(L)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:q,source:pe,restoredState:Xe,extras:tt}=p,Mt=new op(L,this.serializeUrl(q),pe,Xe);r.next(Mt);const Kt=ld(q,this.rootComponentType).snapshot;return ct(o={...p,targetSnapshot:Kt,urlAfterRedirects:q,extras:{...tt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),co.E}),(0,Cr.b)(p=>{const _=new wy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,Ut.U)(p=>o={...p,guards:RS(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function Pb(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?ct({...t,guardsResult:!0}):function xb(n,e,t,r){return(0,Ln.D)(n).pipe((0,Ar.z)(o=>function Fy(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ct(u.map(p=>{const _=fd(e)??o,v=vo(p,_);return ts(function Xn(n){return n&&Ca(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):_.runInContext(()=>v(n,e,t,r))).pipe(ho())})).pipe(wa()):ct(!0)}(o.component,o.route,t,e,r)),ho(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Ar.z)(p=>p&&function gd(n){return"boolean"==typeof n}(p)?function Nb(n,e,t,r){return(0,Ln.D)(e).pipe(Ds(o=>Vf(function NS(n,e){return null!==n&&e&&e(new Dy(n)),ct(!0)}(o.route.parent,r),function xS(n,e){return null!==n&&e&&e(new up(n)),ct(!0)}(o.route,r),function wp(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function MS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>qc(()=>ct(d.guards.map(_=>{const v=fd(d.node)??t,I=vo(_,v);return ts(function Rb(n){return n&&Ca(n.canActivateChild)}(I)?I.canActivateChild(r,n):v.runInContext(()=>I(r,n))).pipe(ho())})).pipe(wa())));return ct(u).pipe(wa())}(n,o.path,t),function Zl(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const o=r.map(u=>qc(()=>{const d=fd(e)??t,p=vo(u,d);return ts(function Ep(n){return n&&Ca(n.canActivate)}(p)?p.canActivate(e,n):d.runInContext(()=>p(e,n))).pipe(ho())}));return ct(o).pipe(wa())}(n,o.route,t))),ho(o=>!0!==o,!0))}(r,u,n,e):ct(p)),(0,Ut.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Cr.b)(p=>{if(o.guardsResult=p.guardsResult,rs(p.guardsResult))throw My(0,p.guardsResult);const _=new by(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),jr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),wd(p=>{if(p.guards.canActivateChecks.length)return ct(p).pipe((0,Cr.b)(_=>{const v=new ap(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(v)}),ti(_=>{let v=!1;return ct(_).pipe(function Gb(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ct(t);let u=0;return(0,Ln.D)(o).pipe(Ds(d=>function kS(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Yy(o)&&(u[Ul]=o.title),function Ky(n,e,t,r){const o=function Wb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return ct({});const u={};return(0,Ln.D)(o).pipe((0,Ar.z)(d=>function zb(n,e,t,r){const o=fd(e)??r,u=vo(n,o);return ts(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ho(),(0,Cr.b)(p=>{u[d]=p}))),zf(1),function sy(n){return(0,Ut.U)(()=>n)}(u),Ts(d=>md(d)?co.E:Xi(d)))}(u,n,e,r).pipe((0,Ut.U)(d=>(n._resolvedData=d,n.data=Ty(n,t).resolve,o&&Yy(o)&&(n.data[Ul]=o.title),null)))}(d.route,r,n,e)),(0,Cr.b)(()=>u++),zf(1),(0,Ar.z)(d=>u===o.length?ct(t):co.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Cr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Cr.b)(_=>{const v=new Iy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(v)}))}),wd(p=>{const _=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Cr.b)(D=>{v.component=D}),(0,Ut.U)(()=>{})));for(const D of v.children)I.push(..._(D));return I};return Uf(_(p.targetSnapshot.root)).pipe(jf(),Ll(1))}),wd(()=>this.afterPreactivation()),(0,Ut.U)(p=>{const _=function Ay(n,e,t){const r=va(n,e._root,t?t._root:void 0);return new Wl(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return o={...p,targetRouterState:_}}),(0,Cr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ut.U)(r=>(new SS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Cr.b)({next(){u=!0},complete(){u=!0}}),oy(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ts(p=>{if(d=!0,Ny(p)){xy(p)||(this.navigated=!0,this.restoreHistory(o,!0));const _=new mo(o.id,this.serializeUrl(o.extractedUrl),p.message,p.cancellationCode);if(r.next(_),xy(p)){const v=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),I={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xb(o.source)};this.scheduleNavigation(v,"imperative",null,I,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const _=new Ey(o.id,this.serializeUrl(o.extractedUrl),p,o.targetSnapshot??void 0);r.next(_);try{o.resolve(this.errorHandler(p))}catch(v){o.reject(v)}}return co.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const p={...u};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(hd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:p,preserveFragment:_}=r,v=o||this.routerState.root,I=_?this.currentUrlTree.fragment:d;let D=null;switch(p){case"merge":D={...this.currentUrlTree.queryParams,...u};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=u||null}return null!==D&&(D=this.removeEmptyProps(D)),fy(v,this.currentUrlTree,t,D,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=rs(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Jy(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Jb}:!1===r?{...OS}:r,rs(t))return Ei(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ei(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ma(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let p,_,v;d?(p=d.resolve,_=d.reject,v=d.promise):v=new Promise((L,q)=>{p=L,_=q});const I=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),D=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:I,targetPageId:D,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:p,reject:_,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new mo(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:function(){return Np()},providedIn:"root"}),n})();function Xb(n){return"imperative"!==n}let eu=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new lo.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,f.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,f.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,f.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(er),f.Y36(yo),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),n})(),Ia=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new lo.x,this.subscription=t.events.subscribe(u=>{u instanceof ma&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,f.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,f.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,f.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){return!!(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(er),f.Y36(yo),f.Y36(ke))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),n})();class ev{}let tv=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(jr(t=>t instanceof ma),Ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,p=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,Ln.D)(o).pipe((0,Ji.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ct(null);const u=o.pipe((0,Ar.z)(d=>null===d?ct(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Ln.D)([u,d]).pipe((0,Ji.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(er),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ev),f.LFG(xp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kp=new f.OlP("");let nv=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof op?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ma&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _a&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _a(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Da(n,e){return{\u0275kind:n,\u0275providers:e}}function Fp(n){return[{provide:Pp,multi:!0,useValue:n}]}function Tt(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(er),o=n.get(Lp);1===n.get(Td)&&r.initialNavigation(),n.get(Up,null,f.XFs.Optional)?.setUpPreloading(),n.get(kp,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const Lp=new f.OlP("",{factory:()=>new lo.x}),Td=new f.OlP("",{providedIn:"root",factory:()=>1});const Up=new f.OlP("");function rI(n){return Da(0,[{provide:Up,useExisting:tv},{provide:ev,useExisting:n}])}const sI=new f.OlP("ROUTER_FORROOT_GUARD"),iv=[ue,{provide:Qc,useClass:Jc},{provide:er,useFactory:Np},is,{provide:yo,useFactory:function Op(n){return n.routerState.root},deps:[er]},xp];function sv(){return new f.PXZ("Router",er)}let xs=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iv,[],Fp(t),{provide:sI,useFactory:aI,deps:[[er,new f.FiY,new f.tp0]]},{provide:Id,useValue:r||{}},r?.useHash?{provide:ke,useClass:be}:{provide:ke,useClass:We},{provide:kp,useFactory:()=>{const n=(0,f.f3M)(er),e=(0,f.f3M)(_l),t=(0,f.f3M)(Id);return t.scrollOffset&&e.setOffset(t.scrollOffset),new nv(n,e,t)}},r?.preloadingStrategy?rI(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:sv},r?.initialNavigation?HS(r):[],[{provide:lI,useFactory:Tt},{provide:f.tb,multi:!0,useExisting:lI}]]}}static forChild(t){return{ngModule:n,providers:[Fp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(sI,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Oy]}),n})();function aI(n){return"guarded"}function HS(n){return["disabled"===n.initialNavigation?Da(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(er);return()=>{e.setUpLocationChangeListener()}}},{provide:Td,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Da(2,[{provide:Td,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(R,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(er),p=e.get(Lp);(function o(u){e.get(er).events.pipe(jr(p=>p instanceof ma||p instanceof mo||p instanceof Ey),(0,Ut.U)(p=>p instanceof ma||p instanceof mo&&(0===p.code||1===p.code)&&null),jr(p=>null!==p),Ll(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||p.closed?ct(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const lI=new f.OlP("");var qe=T(5861);let ov=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),ni=(()=>{class n extends ov{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Oi=new f.OlP("NgValueAccessor"),uI={provide:Oi,useExisting:(0,f.Gpc)(()=>Sd),multi:!0},cI=new f.OlP("CompositionEventMode");let Sd=(()=>{class n extends ov{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lv(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(cI,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([uI]),f.qOj]}),n})();function Ns(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function uv(n){return null!=n&&"number"==typeof n.length}const pr=new f.OlP("NgValidators"),ks=new f.OlP("NgAsyncValidators"),cv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wo{static min(e){return function Rd(n){return e=>{if(Ns(e.value)||Ns(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function hI(n){return e=>{if(Ns(e.value)||Ns(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Md(n){return Ns(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function dv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function fI(n){return Ns(n.value)||cv.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function bo(n){return e=>Ns(e.value)||!uv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Hp(n){return e=>uv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $p(n){if(!n)return Io;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ns(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Gp(e)}static composeAsync(e){return pI(e)}}function Io(n){return null}function ri(n){return null!=n}function jp(n){return(0,f.QGY)(n)?(0,Ln.D)(n):n}function hv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Pd(n,e){return e.map(t=>t(n))}function xd(n){return n.map(e=>function us(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gp(n){if(!n)return null;const e=n.filter(ri);return 0==e.length?null:function(t){return hv(Pd(t,e))}}function nu(n){return null!=n?Gp(xd(n)):null}function pI(n){if(!n)return null;const e=n.filter(ri);return 0==e.length?null:function(t){return function GS(...n){const e=(0,ao.jO)(n),{args:t,keys:r}=$c(n),o=new Is.y(u=>{const{length:d}=t;if(!d)return void u.complete();const p=new Array(d);let _=d,v=d;for(let I=0;I<d;I++){let D=!1;(0,zc.Xf)(t[I]).subscribe((0,Tr.x)(u,L=>{D||(D=!0,v--),p[I]=L},()=>_--,void 0,()=>{(!_||!D)&&(v||u.next(r?uo(r,p):p),u.complete())}))}});return e?o.pipe(la(e)):o}(Pd(t,e).map(jp)).pipe((0,Ut.U)(hv))}}function Nd(n){return null!=n?pI(xd(n)):null}function gI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ru(n){return n._rawValidators}function iu(n){return n._rawAsyncValidators}function su(n){return n?Array.isArray(n)?n:[n]:[]}function Ta(n,e){return Array.isArray(n)?n.includes(e):n===e}function kd(n,e){const t=su(e);return su(n).forEach(o=>{Ta(t,o)||t.push(o)}),t}function mI(n,e){return su(e).filter(t=>!Ta(n,t))}class fv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rr extends fv{get formDirective(){return null}get path(){return null}}class Os extends fv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pv{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gv=(()=>{class n extends pv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Os,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),yI=(()=>{class n extends pv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Rr,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const Do="VALID",lu="INVALID",Ls="PENDING",uu="DISABLED";function Fi(n){return(cu(n)?n.validators:n)||null}function zp(n){return Array.isArray(n)?nu(n):n||null}function qp(n,e){return(cu(e)?e.asyncValidators:n)||null}function mv(n){return Array.isArray(n)?Nd(n):n||null}function cu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function _v(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")}function yv(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new f.vHH(1002,"")})}class To{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zp(this._rawValidators),this._composedAsyncValidatorFn=mv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Do}get invalid(){return this.status===lu}get pending(){return this.status==Ls}get disabled(){return this.status===uu}get enabled(){return this.status!==uu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zp(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=mv(e)}addValidators(e){this.setValidators(kd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mI(e,this._rawAsyncValidators))}hasValidator(e){return Ta(this._rawValidators,e)}hasAsyncValidator(e){return Ta(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ls,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Do,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Do||this.status===Ls)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uu:Do}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ls,this._hasOwnPendingAsyncValidator=!0;const t=jp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?uu:this.errors?lu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ls)?Ls:this._anyControlsHaveStatus(lu)?lu:Do}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Li extends To{constructor(e,t,r){super(Fi(t),qp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){yv(this,0,e),Object.keys(e).forEach(r=>{_v(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Ld extends Li{}function Aa(n,e){fu(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function qS(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Yp(n,e)})}(n,e),function bI(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function wI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Yp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ev(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sa(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ud(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ra(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fu(n,e){const t=ru(n);null!==e.validator?n.setValidators(gI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=iu(n);null!==e.asyncValidator?n.setAsyncValidators(gI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Ra(e._rawValidators,o),Ra(e._rawAsyncValidators,o)}function Ud(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=ru(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=iu(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ra(e._rawValidators,r),Ra(e._rawAsyncValidators,r),t}function Yp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pu=class extends To{constructor(e=null,t,r){super(Fi(t),qp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Gd=new f.OlP("NgModelWithFormControlWarning"),rg={provide:Rr,useExisting:(0,f.Gpc)(()=>ii)};let ii=(()=>{class n extends Rr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ud(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Aa(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Sa(t.control||null,t,!1),function DI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Vd(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Sa(r||null,t),(n=>n instanceof pu)(o)&&(Aa(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Zp(n,e){fu(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Cv(n,e){return Ud(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fu(this.form,this),this._oldForm&&Ud(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(pr,10),f.Y36(ks,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([rg]),f.qOj,f.TTD]}),n})();const xv={provide:Os,useExisting:(0,f.Gpc)(()=>sg)};let sg=(()=>{class n extends Os{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Bd(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Sd?t=u:function II(n){return Object.getPrototypeOf(n.constructor)===ni}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function wv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function hu(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Rr,13),f.Y36(pr,10),f.Y36(ks,10),f.Y36(Oi,10),f.Y36(Gd,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([xv]),f.qOj,f.TTD]}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[gu]}),n})(),ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Qd]}),n})(),So=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gd,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Qd]}),n})();class Ro extends To{constructor(e,t,r){super(Fi(t),qp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){yv(this,0,e),e.forEach((r,o)=>{_v(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Mo(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Po=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return Mo(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Li(o,u)}record(t,r=null){const o=this._reduceControls(t);return new Ld(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Mo(r)?u=r:(u.validators=r,u.asyncValidators=o),new pu(t,{...u,nonNullable:!0})):new pu(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new Ro(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof pu||t instanceof To?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:So}),n})();var Vv=T(4986),Ft=T(4540),xo=T(2011),Hv=T(3942),un=T(6881),U=T(2090),hs=T(4859);const $v="firebasestorage.googleapis.com",jv="storageBucket";class Cn extends U.ZR{constructor(e,t,r=0){super(lg(e),`Firebase Storage: ${t} (${lg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var cn=(()=>{return(n=cn||(cn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",cn;var n})();function lg(n){return"storage/"+n}function Oa(){return new Cn(cn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hg(){return new Cn(cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fg(){return new Cn(cn.CANCELED,"User canceled the upload/download.")}function Xd(){return new Cn(cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function No(n){return new Cn(cn.INVALID_ARGUMENT,n)}function gg(){return new Cn(cn.APP_DELETED,"The Firebase app was deleted.")}function mg(n){return new Cn(cn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(n,e){return new Cn(cn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Iu(n){throw new Cn(cn.INTERNAL_ERROR,"Internal error: "+n)}class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(""===r.path)return r;throw function Wv(n){return new Cn(cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+o+"(/(.*))?$","i");function v(vn){vn.path_=decodeURIComponent(vn.path)}const D=t.replace(/[.]/g,"\\."),tn=[{regex:p,indices:{bucket:1,path:3},postModify:function u(vn){"/"===vn.path.charAt(vn.path.length-1)&&(vn.path_=vn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===$v?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let vn=0;vn<tn.length;vn++){const zi=tn[vn],Ys=zi.regex.exec(e);if(Ys){let cc=Ys[zi.indices.path];cc||(cc=""),r=new wr(Ys[zi.indices.bucket],cc),zi.postModify(r);break}}if(null==r)throw function pg(n){return new Cn(cn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class _g{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Du(n){return"string"==typeof n||n instanceof String}function vg(n){return eh()&&n instanceof Blob}function eh(){return typeof Blob<"u"&&!(0,U.UG)()}function th(n,e,t,r){if(r<e)throw No(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw No(`Invalid value for '${n}'. Expected ${t} or less.`)}function Us(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Xv(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Vs=(()=>{return(n=Vs||(Vs={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Vs;var n})();function Eg(n,e){const t=n>=500&&n<600,o=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||o||u}class WI{constructor(e,t,r,o,u,d,p,_,v,I,D,L=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=I,this.connectionFactory_=D,this.retry=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,pe)=>{this.resolve_=q,this.reject_=pe,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());!function Zv(n){return void 0!==n}(_)?u():u(_)}catch(_){d(_)}else if(null!==p){const _=Oa();_.serverResponse=p.getErrorText(),d(this.errorCallback_?this.errorCallback_(p,_):_)}else d(o.canceled?this.appDelete_?gg():fg():hg())};this.canceled_?t(0,new Un(!1,null,!0)):this.backoffId_=function yg(n,e,t){let r=1,o=null,u=null,d=!1,p=0;function _(){return 2===p}let v=!1;function I(...tt){v||(v=!0,e.apply(null,tt))}function D(tt){o=setTimeout(()=>{o=null,n(q,_())},tt)}function L(){u&&clearTimeout(u)}function q(tt,...Mt){if(v)return void L();if(tt)return L(),void I.call(null,tt,...Mt);if(_()||d)return L(),void I.call(null,tt,...Mt);let tn;r<64&&(r*=2),1===p?(p=2,tn=0):tn=1e3*(r+Math.random()),D(tn)}let pe=!1;function Xe(tt){pe||(pe=!0,L(),!v&&(null!==o?(tt||(p=2),clearTimeout(o),D(0)):tt||(p=1)))}return D(0),u=setTimeout(()=>{d=!0,Xe(!0)},t),Xe}((r,o)=>{if(o)return void r(!1,new Un(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Vs.NO_ERROR,_=u.getStatus();if(!p||Eg(_,this.additionalRetryCodes_)&&this.retry){const I=u.getErrorCode()===Vs.ABORT;return void r(!1,new Un(!1,null,I))}const v=-1!==this.successCodes_.indexOf(_);r(!0,new Un(v,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Yv(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Un{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rE(...n){const e=function nE(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(eh())return new Blob(n);throw new Cn(cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nh{constructor(e,t){this.data=e,this.contentType=t||null}}function Cg(n,e){switch(n){case zr.RAW:return new nh(wg(e));case zr.BASE64:case zr.BASE64URL:return new nh(bg(n,e));case zr.DATA_URL:return new nh(function Ui(n){const e=new rh(n);return e.base64?bg(zr.BASE64,e.rest):function iR(n){let e;try{e=decodeURIComponent(n)}catch{throw bu(zr.DATA_URL,"Malformed data URL.")}return wg(e)}(e.rest)}(e),function ZI(n){return new rh(n).contentType}(e))}throw Oa()}function wg(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function bg(n,e){switch(n){case zr.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw bu(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case zr.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw bu(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function YI(n){if(typeof atob>"u")throw function Kv(n){return new Cn(cn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(o){throw o.message.includes("polyfill")?o:bu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class rh{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw bu(zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function QI(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ir{constructor(e,t){let r=0,o="";vg(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(vg(this.data_)){const o=function Fa(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new ir(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ir(r,!0)}}static getBlob(...e){if(eh()){const t=e.map(r=>r instanceof ir?r.data_:r);return new ir(rE.apply(null,t))}{const t=e.map(d=>Du(d)?Cg(zr.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)o[u++]=d[p]}),new ir(o,!0)}}uploadData(){return this.data_}}function qr(n){let e;try{e=JSON.parse(n)}catch{return null}return function Jv(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Ig(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function JI(n,e){return e}class Mr{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||JI}}let ih=null;function ko(){if(ih)return ih;const n=[];n.push(new Mr("bucket")),n.push(new Mr("generation")),n.push(new Mr("metageneration")),n.push(new Mr("name","fullPath",!0));const t=new Mr("name");t.xform=function e(u,d){return function XI(n){return!Du(n)||n.length<2?n:Ig(n)}(d)},n.push(t);const o=new Mr("size");return o.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(o),n.push(new Mr("timeCreated")),n.push(new Mr("updated")),n.push(new Mr("md5Hash",null,!0)),n.push(new Mr("cacheControl",null,!0)),n.push(new Mr("contentDisposition",null,!0)),n.push(new Mr("contentEncoding",null,!0)),n.push(new Mr("contentLanguage",null,!0)),n.push(new Mr("contentType",null,!0)),n.push(new Mr("metadata","customMetadata",!0)),ih=n,ih}function Dg(n,e,t){const r=qr(e);return null===r?null:function e0(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function Tu(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new wr(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function sh(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const Tg="prefixes";class Ii{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function si(n){if(!n)throw Oa()}function La(n,e){return function t(r,o){const u=Dg(n,o,e);return si(null!==u),u}}function Oo(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function cg(){return new Cn(cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function jI(){return new Cn(cn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function ug(n){return new Cn(cn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function dg(n){return new Cn(cn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}}function Ua(n){const e=Oo(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function Jd(n){return new Cn(cn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function Ag(n,e,t){const o=Us(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Ii(o,"GET",La(n,t),d);return p.errorHandler=Ua(e),p}function lE(n,e,t,r,o){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),o&&(u.maxResults=o);const p=Us(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,I=new Ii(p,"GET",function oE(n,e){return function t(r,o){const u=function sE(n,e,t){const r=qr(t);return null===r?null:function n0(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Tg])for(const o of t[Tg]){const u=o.replace(/\/$/,""),d=n._makeStorageReference(new wr(e,u));r.prefixes.push(d)}if(t.items)for(const o of t.items){const u=n._makeStorageReference(new wr(e,o.name));r.items.push(u)}return r}(n,e,r)}(n,e,o);return si(null!==u),u}}(n,e.bucket),v);return I.urlParams=u,I.errorHandler=Oo(e),I}function cE(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function o0(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class oh{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function Rg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{si(!1)}return si(!!t&&-1!==(e||["active"]).indexOf(t)),t}const c0={STATE_CHANGED:"state_changed"},Pr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mg(n){switch(n){case"running":case"pausing":case"canceling":return Pr.RUNNING;case"paused":return Pr.PAUSED;case"success":return Pr.SUCCESS;case"canceled":return Pr.CANCELED;default:return Pr.ERROR}}class d0{constructor(e,t,r){if(function Qv(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Va(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class pE extends class h0{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw Iu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function oi(){return new pE}class Pg{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=ko(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(cn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(Eg(o.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();o=hg()}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(cn.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function a0(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d=cE(e,r,o),p={name:d.fullPath},_=Us(u,n.host,n._protocol),I={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},D=sh(d,t),pe=new Ii(_,"POST",function q(Xe){let tt;Rg(Xe);try{tt=Xe.getResponseHeader("X-Goog-Upload-URL")}catch{si(!1)}return si(Du(tt)),tt},n.maxUploadRetryTime);return pe.urlParams=p,pe.headers=I,pe.body=D,pe.errorHandler=Oo(e),pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,oi,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function l0(n,e,t,r){const _=new Ii(t,"POST",function u(v){const I=Rg(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{si(!1)}D||si(!1);const L=Number(D);return si(!isNaN(L)),new oh(L,r.size(),"final"===I)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Oo(e),_}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,oi,t,r);this._request=u,u.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new oh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let d;try{d=function u0(n,e,t,r,o,u,d,p){const _=new oh(0,0);if(d?(_.current=d.current,_.total=d.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function qv(){return new Cn(cn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=_.total-_.current;let I=v;o>0&&(I=Math.min(I,o));const D=_.current;let q="";q=0===I?"finalize":v===I?"upload, finalize":"upload";const pe={"X-Goog-Upload-Command":q,"X-Goog-Upload-Offset":`${_.current}`},Xe=r.slice(D,D+I);if(null===Xe)throw Xd();const tn=new Ii(t,"POST",function tt(vn,zi){const Ys=Rg(vn,["active","final"]),Ef=_.current+I,cc=r.size();let dc;return dc="final"===Ys?La(e,u)(vn,zi):null,new oh(Ef,cc,"final"===Ys,dc)},e.maxUploadRetryTime);return tn.headers=pe,tn.body=Xe.uploadData(),tn.progressCallback=p||null,tn.errorHandler=Oo(n),tn}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const p=this._ref.storage._makeRequest(d,oi,o,u,!1);this._request=p,p.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Ag(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,oi,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function dE(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function p(){let tn="";for(let vn=0;vn<2;vn++)tn+=Math.random().toString().slice(2);return tn}();d["Content-Type"]="multipart/related; boundary="+_;const v=cE(e,r,o),I=sh(v,t),q=ir.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+_+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===q)throw Xd();const pe={name:v.fullPath},Xe=Us(u,n.host,n._protocol),Mt=n.maxUploadRetryTime,Kt=new Ii(Xe,"POST",La(n,t),Mt);return Kt.urlParams=pe,Kt.headers=d,Kt.body=q.uploadData(),Kt.errorHandler=Oo(e),Kt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,oi,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=fg(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Mg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const u=new d0(t||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Mg(this._state)){case Pr.SUCCESS:Va(this._resolve.bind(null,this.snapshot))();break;case Pr.CANCELED:case Pr.ERROR:Va(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mg(this._state)){case Pr.RUNNING:case Pr.PAUSED:e.next&&Va(e.next.bind(e,this.snapshot))();break;case Pr.SUCCESS:e.complete&&Va(e.complete.bind(e))();break;default:e.error&&Va(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Bs{constructor(e,t){this._service=e,this._location=t instanceof wr?t:wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bs(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ig(this._location.path)}get storage(){return this._service}get parent(){const e=function bi(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new wr(this._location.bucket,e);return new Bs(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw mg(e)}}function Lo(n,e,t){return CE.apply(this,arguments)}function CE(){return(CE=(0,qe.Z)(function*(n,e,t){const o=yield ah(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield Lo(n,e,o.nextPageToken))})).apply(this,arguments)}function ah(n,e){null!=e&&"number"==typeof e.maxResults&&th("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=lE(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,oi)}function bE(n){n._throwIfRoot("getDownloadURL");const e=function uE(n,e,t){const o=Us(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Ii(o,"GET",function aE(n,e){return function t(r,o){const u=Dg(n,o,e);return si(null!==u),function t0(n,e,t,r){const o=qr(e);if(null===o||!Du(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(v=>{const D=n.fullPath;return Us("/b/"+d(n.bucket)+"/o/"+d(D),t,r)+Xv({alt:"media",token:v})})[0]}(u,o,n.host,n._protocol)}}(n,t),d);return p.errorHandler=Ua(e),p}(n.storage,n._location,ko());return n.storage.makeRequestWithTokens(e,oi).then(t=>{if(null===t)throw function GI(){return new Cn(cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function ht(n,e){const t=function iE(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new wr(n._location.bucket,t);return new Bs(n.storage,r)}function IE(n,e){if(n instanceof Ha){const t=n;if(null==t._bucket)throw function zv(){return new Cn(cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jv+"' property when initializing the app?")}();const r=new Bs(t,t._bucket);return null!=e?IE(r,e):r}return void 0!==e?ht(n,e):n}function Ba(n,e){if(e&&function g0(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Ha)return function m0(n,e){return new Bs(n,e)}(n,e);throw No("To use ref(service, url), the first argument must be a Storage instance.")}return IE(n,e)}function DE(n,e){const t=e?.[jv];return null==t?null:wr.makeFromBucketSpec(t,n)}class Ha{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=$v,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?wr.makeFromBucketSpec(o,this._host):DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?wr.makeFromBucketSpec(this._url,e):DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){th("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){th("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,qe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,qe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bs(this,e)}_makeRequest(e,t,r,o,u=!0){if(this._deleted)return new _g(gg());{const d=function KI(n,e,t,r,o,u,d=!0){const p=Xv(n.urlParams),_=n.url+p,v=Object.assign({},n.headers);return function qI(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function eE(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function zI(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,u),function tE(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new WI(_,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d)}(e,this._appId,r,o,t,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(e,t){var r=this;return(0,qe.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const Nn="@firebase/storage",Ng="storage";function RE(n,e){return Ba(n=(0,U.m9)(n),e)}function I0(n=(0,un.getApp)(),e){n=(0,U.m9)(n);const r=(0,un._getProvider)(n,Ng).getImmediate({identifier:e}),o=(0,U.P0)("storage");return o&&Ru(r,...o),r}function Ru(n,e,t,r={}){!function lh(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,U.Sg)(o,n.app.options.projectId))}(n,e,t,r)}function ME(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Ha(t,r,o,e,un.SDK_VERSION)}!function A0(){(0,un._registerComponent)(new hs.wA(Ng,ME,"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(Nn,"0.11.2",""),(0,un.registerVersion)(Nn,"0.11.2","esm2017")}();class Hs{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class $a{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hs(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Hs(r,this,this._ref))},t)}on(e,t,r,o){let u;return t&&(u="function"==typeof t?d=>t(new Hs(d,this,this._ref)):{next:t.next?d=>t.next(new Hs(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,o||void 0)}}class PE{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new fs(e,this._service))}get items(){return this._delegate.items.map(e=>new fs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fs{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function b0(n,e){return ht(n,e)}(this._delegate,e);return new fs(t,this.storage)}get root(){return new fs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new fs(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new $a(function TE(n,e,t){return function Fo(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Pg(n,new ir(e),t)}(n=(0,U.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=zr.RAW,r){this._throwIfRoot("putString");const o=Cg(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new $a(new Pg(this._delegate,new ir(o.data,!0),u),this)}listAll(){return function C0(n){return function p0(n){const e={prefixes:[],items:[]};return Lo(n,e).then(()=>e)}(n=(0,U.m9)(n))}(this._delegate).then(e=>new PE(e,this.storage))}list(e){return function E0(n,e){return ah(n=(0,U.m9)(n),e)}(this._delegate,e||void 0).then(t=>new PE(t,this.storage))}getMetadata(){return function AE(n){return function sR(n){n._throwIfRoot("getMetadata");const e=Ag(n.storage,n._location,ko());return n.storage.makeRequestWithTokens(e,oi)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(e){return function SE(n,e){return function wE(n,e){n._throwIfRoot("updateMetadata");const t=function r0(n,e,t,r){const u=Us(e.fullServerUrl(),n.host,n._protocol),p=sh(t,r),v=n.maxOperationRetryTime,I=new Ii(u,"PATCH",La(n,r),v);return I.headers={"Content-Type":"application/json; charset=utf-8"},I.body=p,I.errorHandler=Ua(e),I}(n.storage,n._location,e,ko());return n.storage.makeRequestWithTokens(t,oi)}(n=(0,U.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function w0(n){return bE(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Su(n){return function oR(n){n._throwIfRoot("deleteObject");const e=function s0(n,e){const r=Us(e.fullServerUrl(),n.host,n._protocol),p=new Ii(r,"DELETE",function d(_,v){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=Ua(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,oi)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw mg(e)}}class xE{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(kg(e))throw No("ref() expected a child path but got a URL, use refFromURL instead.");return new fs(RE(this._delegate,e),this)}refFromURL(e){if(!kg(e))throw No("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wr.makeFromUrl(e,this._delegate.host)}catch{throw No("refFromUrl() expected a valid full URL but got an invalid one.")}return new fs(RE(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){Ru(this._delegate,e,t,r)}}function kg(n){return/^[A-Za-z]+:\/\//.test(n)}function OE(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new xE(t,r)}!function R0(n){const e={TaskState:Pr,TaskEvent:c0,StringFormat:zr,Storage:xE,Reference:fs};n.INTERNAL.registerComponent(new hs.wA("storage-compat",OE,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Hv.Z);var Vi=T(259);class $s{constructor(e){return e}}class uh{constructor(){return(0,Vi.C6)()}}const ch=new f.OlP("angularfire2._apps"),dh={provide:$s,useFactory:function lR(n){return n&&1===n.length?n[0]:new $s((0,Vi.Mq)())},deps:[[new f.FiY,ch]]},M0={provide:uh,deps:[[new f.FiY,ch]]};function P0(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $s(r)}}let FE=(()=>{class n{constructor(t){(0,Vi.KN)("angularfire",Ft.q4.full,"core"),(0,Vi.KN)("angularfire",Ft.q4.full,"app"),(0,Vi.KN)("angular",f.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[dh,M0]}),n})();function Mu(n,...e){return{ngModule:FE,providers:[{provide:ch,useFactory:P0(n),multi:!0,deps:[f.R0b,f.zs3,Ft.HU,...e]}]}}const x0=(0,Ft.u3)(Vi.ZF,!0);var ja=T(1877);const Uo=new Map,LE={activated:!1,tokenObservers:[]},UE={initialized:!1,enabled:!1};function Vn(n){return Uo.get(n)||Object.assign({},LE)}function hh(){return UE}class F0{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,qe.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function L0(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const sr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gh(n){if(!Vn(n).activated)throw sr.create("use-before-activation",{appName:n.name})}function _h(n,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,qe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const D=yield o.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,p;try{d=yield fetch(n,u)}catch(D){throw sr.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==d.status)throw sr.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(D){throw sr.create("fetch-parse-error",{originalErrorMessage:D?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const v=1e3*Number(_[1]),I=Date.now();return{token:p.token,expireTimeMillis:I+v,issuedAtTimeMillis:I}})).apply(this,arguments)}function HE(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ga="firebase-app-check-store";let yh=null;function Vg(){return yh||(yh=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(sr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ga,{keyPath:"compositeKey"})}}catch(t){e(sr.create("storage-open",{originalErrorMessage:t?.message}))}}),yh)}function Eh(){return(Eh=(0,qe.Z)(function*(n,e){const r=(yield Vg()).transaction(Ga,"readwrite"),u=r.objectStore(Ga).put({compositeKey:n,value:e});return new Promise((d,p)=>{u.onsuccess=_=>{d()},r.onerror=_=>{var v;p(sr.create("storage-set",{originalErrorMessage:null===(v=_.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Vo=new ja.Yd("@firebase/app-check");function js(n,e){return(0,U.hl)()?function j0(n,e){return function vh(n,e){return Eh.apply(this,arguments)}(function GE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vo.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zE(){return hh().enabled}function bh(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,qe.Z)(function*(){const n=hh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jg={error:"UNKNOWN_ERROR"};function q0(n){return U.US.encodeString(JSON.stringify(n),!1)}function xu(n){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,qe.Z)(function*(n,e=!1){const t=n.app;gh(t);const r=Vn(t);let u,o=r.token;if(o&&!Wa(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(Wa(_)?o=_:yield js(t,void 0))}if(!e&&o&&Wa(o))return{token:o.token};let p,d=!1;if(zE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_h(HE(t,yield bh()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield js(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield Vn(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Vo.warn(_.message):Vo.error(_),u=_}return o?u?p=Wa(o)?{token:o.token,internalError:u}:Wg(u):(p={token:o.token},r.token=o,yield js(t,o)):p=Wg(u),d&&KE(t,p),p})).apply(this,arguments)}function Ih(){return(Ih=(0,qe.Z)(function*(n){const e=n.app;gh(e);const{provider:t}=Vn(e);if(zE()){const r=yield bh(),{token:o}=yield _h(HE(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Th(n,e){const t=Vn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function qE(n){const{app:e}=n,t=Vn(e);let r=t.tokenRefresher;r||(r=function K0(n){const{app:e}=n;return new F0((0,qe.Z)(function*(){let r;if(r=Vn(e).token?yield xu(n,!0):yield xu(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function KE(n,e){const t=Vn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Wa(n){return n.expireTimeMillis-Date.now()>0}function Wg(n){return{token:q0(jg),error:n}}class pR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vn(this.app);for(const t of e)Th(this.app,t.next);return Promise.resolve()}}const tC="app-check-internal";!function oD(){(0,un._registerComponent)(new hs.wA("app-check",n=>function YE(n,e){return new pR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tC).initialize()})),(0,un._registerComponent)(new hs.wA(tC,n=>function Y0(n){return{getToken:e=>xu(n,e),getLimitedUseToken:()=>function Gg(n){return Ih.apply(this,arguments)}(n),addTokenListener:e=>function Dh(n,e,t,r){const{app:o}=n,u=Vn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Wa(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),qE(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>qE(n))}(n,"INTERNAL",e),removeTokenListener:e=>Th(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,un.registerVersion)("@firebase/app-check","0.8.0")}();class Ou{constructor(){return(0,Ft.vb)("app-check")}}typeof window<"u"&&window;var sC=T(9260);function oC(n){const e=function dD(n){return new Is.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function Bv(n,e=Vv.z){return(0,lr.e)((t,r)=>{let o=null,u=null,d=null;const p=()=>{if(o){o.unsubscribe(),o=null;const v=u;u=null,r.next(v)}};function _(){const v=d+n,I=e.now();if(I<v)return o=this.schedule(void 0,v-I),void r.add(o);p()}t.subscribe((0,Tr.x)(r,v=>{u=v,d=e.now(),o||(o=e.schedule(_,n),r.add(o))},()=>{p(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ut.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Jg(n){return{getDownloadURL:()=>ct(void 0).pipe(Ft.fc,ti(()=>n.getDownloadURL()),Ft.iC),getMetadata:()=>ct(void 0).pipe(Ft.fc,ti(()=>n.getMetadata()),Ft.iC),delete:()=>(0,Ln.D)(n.delete()),child:e=>Jg(n.child(e)),updateMetadata:e=>(0,Ln.D)(n.updateMetadata(e)),put:(e,t)=>oC(n.put(e,t)),putString:(e,t,r)=>oC(n.putString(e,t,r)),list:e=>(0,Ln.D)(n.list(e)),listAll:()=>(0,Ln.D)(n.listAll())}}const Xg=new f.OlP("angularfire2.storageBucket"),em=new f.OlP("angularfire2.storage.maxUploadRetryTime"),aC=new f.OlP("angularfire2.storage.maxOperationRetryTime"),tm=new f.OlP("angularfire2.storage.use-emulator");let Rh=(()=>{class n{constructor(t,r,o,u,d,p,_,v,I,D){const L=(0,xo.on)(t,d,r);this.storage=(0,xo.cc)(`${L.name}.storage.${o}`,"AngularFireStorage",L.name,()=>{const q=d.runOutsideAngular(()=>L.storage(o||void 0)),pe=I;return pe&&q.useEmulator(...pe),_&&q.setMaxUploadRetryTime(_),v&&q.setMaxOperationRetryTime(v),q},[_,v])}ref(t){return Jg(this.storage.ref(t))}refFromURL(t){return Jg(this.storage.refFromURL(t))}upload(t,r,o){return Jg(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xo.Dh),f.LFG(xo.xv,8),f.LFG(Xg,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ft.HU),f.LFG(em,8),f.LFG(aC,8),f.LFG(tm,8),f.LFG(Ou,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),fD=(()=>{class n{constructor(){sC.Z.registerVersion("angularfire",Ft.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Rh],imports:[hD]}),n})();var lC=T(7582);const dC=function cC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hC=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mh=new ja.Yd("@firebase/auth");function ps(n,...e){Mh.logLevel<=ja.in.ERROR&&Mh.error(`Auth (${un.SDK_VERSION}): ${n}`,...e)}function Lr(n,...e){throw Ph(n,...e)}function Bi(n,...e){return Ph(n,...e)}function ED(n,e,t){const r=Object.assign(Object.assign({},dC()),{[e]:t});return new U.LL("auth","Firebase",r).create(e,{appName:n.name})}function Ph(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hC.create(n,...e)}function He(n,e,...t){if(!n)throw Ph(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ps(e),new Error(e)}function Gs(n,e){n||Ur(e)}function rm(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gs(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function CD(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nm(){return"http:"===rm()||"https:"===rm()}()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class im{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xh=new Lu(3e4,6e4);function wn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wn(n,e,t,r){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,qe.Z)(function*(n,e,t,r,o={}){return pC(n,o,(0,qe.Z)(function*(){let u={},d={};r&&("GET"===e?d=r:u={body:JSON.stringify(r)});const p=(0,U.xO)(Object.assign({key:n.config.apiKey},d)).slice(1),_=yield n._getAdditionalHeaders();return _["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode),im.fetch()(om(n,n.config.apiHost,t,p),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},u))}))})).apply(this,arguments)}function pC(n,e,t){return kh.apply(this,arguments)}function kh(){return(kh=(0,qe.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},fC),e);try{const o=new am(n),u=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=yield u.json();if("needConfirmation"in d)throw Oh(n,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_)throw Oh(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===_)throw Oh(n,"email-already-in-use",d);if("USER_DISABLED"===_)throw Oh(n,"user-disabled",d);const I=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw ED(n,I,v);Lr(n,I)}}catch(o){if(o instanceof U.ZR)throw o;Lr(n,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function om(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?function Uu(n,e){Gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,o):`${n.config.apiScheme}://${o}`}class am{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),xh.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Bi(n,e,r);return o.customData._tokenResponse=t,o}function gC(){return(gC=(0,qe.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function DD(n,e){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,qe.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function qa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lh(){return(Lh=(0,qe.Z)(function*(n,e=!1){const t=(0,U.m9)(n),r=yield t.getIdToken(e),o=Uh(r);He(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u="object"==typeof o.firebase?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:r,authTime:qa(um(o.auth_time)),issuedAtTime:qa(um(o.iat)),expirationTime:qa(um(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}})).apply(this,arguments)}function um(n){return 1e3*Number(n)}function Uh(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ps("JWT malformed, contained fewer than 3 sections"),null;try{const o=(0,U.tV)(t);return o?JSON.parse(o):(ps("Failed to decode base64 JWT payload"),null)}catch(o){return ps("Caught error parsing JWT payload as JSON",o?.toString()),null}}function gs(n,e){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,qe.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof U.ZR&&yC(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function yC({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class vC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,qe.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,qe.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class cm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vu(n){return dm.apply(this,arguments)}function dm(){return(dm=(0,qe.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),o=yield gs(n,DD(t,{idToken:r}));He(o?.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const d=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?SR(u.providerUserInfo):[],p=AR(n.providerData,d),I=!!n.isAnonymous&&!(n.email&&u.passwordHash||p?.length),D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new cm(u.createdAt,u.lastLoginAt),isAnonymous:I};Object.assign(n,D)})).apply(this,arguments)}function Bh(){return(Bh=(0,qe.Z)(function*(n){const e=(0,U.m9)(n);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function AR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function SR(n){return n.map(e=>{var{providerId:t}=e,r=(0,lC._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function EC(){return(EC=(0,qe.Z)(function*(n,e){const t=yield pC(n,{},(0,qe.Z)(function*(){const r=(0,U.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,d=om(n,o,"/v1/token",`key=${u}`),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",im.fetch()(d,{method:"POST",headers:p,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Hh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function _C(n){const e=Uh(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,qe.Z)(function*(){return He(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,qe.Z)(function*(){const{accessToken:o,refreshToken:u,expiresIn:d}=yield function RR(n,e){return EC.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(o,u,Number(d))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,d=new Hh;return r&&(He("string"==typeof r,"internal-error",{appName:e}),d.refreshToken=r),o&&(He("string"==typeof o,"internal-error",{appName:e}),d.accessToken=o),u&&(He("number"==typeof u,"internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hh,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function $o(n,e){He("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ka{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,u=(0,lC._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new cm(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,qe.Z)(function*(){const r=yield gs(t,t.stsTokenManager.getToken(t.auth,e));return He(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function mC(n){return Lh.apply(this,arguments)}(this,e)}reload(){return function TR(n){return Bh.apply(this,arguments)}(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,qe.Z)(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),t&&(yield Vu(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,qe.Z)(function*(){const t=yield e.getIdToken();return yield gs(e,function bD(n,e){return gC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,u,d,p,_,v,I;const D=null!==(r=t.displayName)&&void 0!==r?r:void 0,L=null!==(o=t.email)&&void 0!==o?o:void 0,q=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,pe=null!==(d=t.photoURL)&&void 0!==d?d:void 0,Xe=null!==(p=t.tenantId)&&void 0!==p?p:void 0,tt=null!==(_=t._redirectEventId)&&void 0!==_?_:void 0,Mt=null!==(v=t.createdAt)&&void 0!==v?v:void 0,Kt=null!==(I=t.lastLoginAt)&&void 0!==I?I:void 0,{uid:tn,emailVerified:vn,isAnonymous:zi,providerData:Ys,stsTokenManager:Ef}=t;He(tn&&Ef,e,"internal-error");const cc=Hh.fromJSON(this.name,Ef);He("string"==typeof tn,e,"internal-error"),$o(D,e.name),$o(L,e.name),He("boolean"==typeof vn,e,"internal-error"),He("boolean"==typeof zi,e,"internal-error"),$o(q,e.name),$o(pe,e.name),$o(Xe,e.name),$o(tt,e.name),$o(Mt,e.name),$o(Kt,e.name);const dc=new Ka({uid:tn,auth:e,email:L,emailVerified:vn,displayName:D,isAnonymous:zi,photoURL:pe,phoneNumber:q,tenantId:Xe,stsTokenManager:cc,createdAt:Mt,lastLoginAt:Kt});return Ys&&Array.isArray(Ys)&&(dc.providerData=Ys.map(hU=>Object.assign({},hU))),tt&&(dc._redirectEventId=tt),dc}static _fromIdTokenResponse(e,t,r=!1){return(0,qe.Z)(function*(){const o=new Hh;o.updateFromServerResponse(t);const u=new Ka({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield Vu(u),u})()}}const TD=new Map;function li(n){Gs(n instanceof Function,"Expected a class definition");let e=TD.get(n);return e?(Gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TD.set(n,e),e)}const hm=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,qe.Z)(function*(){return!0})()}_set(t,r){var o=this;return(0,qe.Z)(function*(){o.storage[t]=r})()}_get(t){var r=this;return(0,qe.Z)(function*(){const o=r.storage[t];return void 0===o?null:o})()}_remove(t){var r=this;return(0,qe.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function jo(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=jo(this.userKey,o.apiKey,u),this.fullPersistenceKey=jo("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,qe.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ka._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,qe.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,qe.Z)(function*(){if(!t.length)return new Go(li(hm),e,r);const o=(yield Promise.all(t.map(function(){var v=(0,qe.Z)(function*(I){if(yield I._isAvailable())return I});return function(I){return v.apply(this,arguments)}}()))).filter(v=>v);let u=o[0]||li(hm);const d=jo(r,e.config.apiKey,e.name);let p=null;for(const v of t)try{const I=yield v._get(d);if(I){const D=Ka._fromJSON(e,I);v!==u&&(p=D),u=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return u._shouldAllowMigration&&_.length?(u=_[0],p&&(yield u._set(d,p.toJSON())),yield Promise.all(t.map(function(){var v=(0,qe.Z)(function*(I){if(I!==u)try{yield I._remove(d)}catch{}});return function(I){return v.apply(this,arguments)}}())),new Go(u,e,r)):new Go(u,e,r)})()}}function fm(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function CC(n=(0,U.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function AD(n=(0,U.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function SD(n=(0,U.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function RD(n=(0,U.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Bu(n=(0,U.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function pm(n=(0,U.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function gm(n=(0,U.z$)()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function MD(n,e=[]){let t;switch(n){case"Browser":t=fm((0,U.z$)());break;case"Worker":t=`${fm((0,U.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${un.SDK_VERSION}/${r}`}function wC(n,e){return bC.apply(this,arguments)}function bC(){return(bC=(0,qe.Z)(function*(n,e){return Wn(n,"GET","/v2/recaptchaConfig",wn(n,e))})).apply(this,arguments)}function _m(n){return void 0!==n&&void 0!==n.enterprise}class ym{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class TC{constructor(e){this.type="recaptcha-enterprise",this.auth=or(e)}verify(e="verify",t=!1){var r=this;return(0,qe.Z)(function*(){function u(){return u=(0,qe.Z)(function*(p){if(!t){if(null==p.tenantId&&null!=p._agentRecaptchaConfig)return p._agentRecaptchaConfig.siteKey;if(null!=p.tenantId&&void 0!==p._tenantRecaptchaConfigs[p.tenantId])return p._tenantRecaptchaConfigs[p.tenantId].siteKey}return new Promise(function(){var _=(0,qe.Z)(function*(v,I){wC(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(D=>{if(void 0!==D.recaptchaKey){const L=new ym(D);return null==p.tenantId?p._agentRecaptchaConfig=L:p._tenantRecaptchaConfigs[p.tenantId]=L,v(L.siteKey)}I(new Error("recaptcha Enterprise site key undefined"))}).catch(D=>{I(D)})});return function(v,I){return _.apply(this,arguments)}}())}),u.apply(this,arguments)}function d(p,_,v){const I=window.grecaptcha;_m(I)?I.enterprise.ready(()=>{I.enterprise.execute(p,{action:e}).then(D=>{_(D)}).catch(()=>{_("NO_RECAPTCHA")})}):v(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((p,_)=>{(function o(p){return u.apply(this,arguments)})(r.auth).then(v=>{if(!t&&_m(window.grecaptcha))d(v,p,_);else{if(typeof window>"u")return void _(new Error("RecaptchaVerifier is only supported in browser"));(function Kr(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const u=Bi("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",function NR(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+v).then(()=>{d(v,p,_)}).catch(I=>{_(I)})}}).catch(v=>{_(v)})})})()}}class ND{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((d,p)=>{try{d(e(u))}catch(_){p(_)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,qe.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const o of t.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}class Cm{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wm(this),this.idTokenSubscription=new wm(this),this.beforeStateQueue=new ND(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue((0,qe.Z)(function*(){var o,u;if(!r._deleted&&(r.persistenceManager=yield Go.create(r,e),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,qe.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,qe.Z)(function*(){var r;const o=yield t.assertedPersistence.getCurrentUser();let u=o,d=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const p=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,_=u?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!p||p===_)&&v?.user&&(u=v.user,d=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(d)try{yield t.beforeStateQueue.runMiddleware(u)}catch(p){u=o,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(p))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return He(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,qe.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,qe.Z)(function*(){try{yield Vu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function wD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,qe.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,qe.Z)(function*(){const r=e?(0,U.m9)(e):null;return r&&He(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,qe.Z)(function*(){if(!r._deleted)return e&&He(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,qe.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,qe.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,qe.Z)(function*(){yield t.assertedPersistence.setPersistence(li(e))}))}initializeRecaptchaConfig(){var e=this;return(0,qe.Z)(function*(){const t=yield wC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ym(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new TC(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new U.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,qe.Z)(function*(){const o=yield r.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,qe.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&li(e)||t._popupRedirectResolver;He(r,t,"argument-error"),t.redirectPersistenceManager=yield Go.create(t,[li(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,qe.Z)(function*(){var r,o;return t._isInitialized&&(yield t.queue((0,qe.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,qe.Z)(function*(){if(e===t.currentUser)return t.queue((0,qe.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t),d=this._isInitialized?Promise.resolve():this._initializationPromise;return He(d,this,"internal-error"),d.then(()=>u(this.currentUser)),"function"==typeof t?e.addObserver(t,r,o):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,qe.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,qe.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();o&&(r["X-Firebase-Client"]=o);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,qe.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function xr(n,...e){Mh.logLevel<=ja.in.WARN&&Mh.warn(`Auth (${un.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function or(n){return(0,U.m9)(n)}class wm{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,U.ne)(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function DC(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Lu(3e4,6e4),new Lu(2e3,1e4),new Lu(3e4,6e4),new Lu(5e3,15e3),encodeURIComponent("fac");var iM="@firebase/auth";class gk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,qe.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function _k(n){(0,un._registerComponent)(new hs.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;He(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MD(n)},v=new Cm(r,o,u,_);return function AC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,un._registerComponent)(new hs.wA("auth-internal",e=>{const t=or(e.getProvider("auth").getImmediate());return new gk(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,un.registerVersion)(iM,"0.23.2",function mk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,un.registerVersion)(iM,"0.23.2","esm2017")}("Browser");class ow{constructor(){return(0,Ft.vb)("auth")}}const lM="@firebase/database";let PT="";class Dk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Tk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const cM=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dk(e)}}catch{}return new Tk},ec=cM("localStorage"),xT=cM("sessionStorage"),sf=new ja.Yd("@firebase/database"),dM=function(){let n=1;return function(){return n++}}(),hM=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const r=t.digest();return U.US.encodeByteArray(r)},Km=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Km.apply(null,r):e+="object"==typeof r?(0,U.Wl)(r):r,e+=" "}return e};let tc=null,fM=!0;const br=function(...n){if(!0===fM&&(fM=!1,null===tc&&!0===xT.get("logging_enabled")&&function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(sf.logLevel=ja.in.VERBOSE,tc=sf.log.bind(sf),e&&xT.set("logging_enabled",!0)):"function"==typeof n?tc=n:(tc=null,xT.remove("logging_enabled"))}(!0)),tc){const e=Km.apply(null,n);tc(e)}},Ym=function(n){return function(...e){br(n,...e)}},NT=function(...n){const e="FIREBASE INTERNAL ERROR: "+Km(...n);sf.error(e)},Ws=function(...n){const e=`FIREBASE FATAL ERROR: ${Km(...n)}`;throw sf.error(e),new Error(e)},Br=function(...n){const e="FIREBASE WARNING: "+Km(...n);sf.warn(e)},aw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},el="[MIN_NAME]",qo="[MAX_NAME]",nc=function(n,e){if(n===e)return 0;if(n===el||e===qo)return-1;if(e===el||n===qo)return 1;{const t=_M(n),r=_M(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Rk=function(n,e){return n===e?0:n<e?-1:1},Zm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(e))},kT=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,U.Wl)(e[r]),t+=":",t+=kT(n[e[r]]);return t+="}",t},gM=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let o=0;o<t;o+=e)r.push(n.substring(o,o+e>t?t:o+e));return r};function Ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const mM=function(n){(0,U.hu)(!aw(n),"Invalid JSON number");const r=1023;let o,u,d,p,_;0===n?(u=0,d=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=p+r,d=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(u=0,d=Math.round(n/Math.pow(2,-1074))));const v=[];for(_=52;_;_-=1)v.push(d%2?1:0),d=Math.floor(d/2);for(_=11;_;_-=1)v.push(u%2?1:0),u=Math.floor(u/2);v.push(o?1:0),v.reverse();const I=v.join("");let D="";for(_=0;_<64;_+=8){let L=parseInt(I.substr(_,8),2).toString(16);1===L.length&&(L="0"+L),D+=L}return D.toLowerCase()},Nk=new RegExp("^-?(0*)\\d{1,10}$"),_M=function(n){if(Nk.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},af=function(n){try{n()}catch(e){setTimeout(()=>{throw Br("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Qm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Lk{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Br(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Uk{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Br(e)}}let Jm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const wM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DM="websocket",TM="long_polling";class FT{constructor(e,t,r,o,u=!1,d="",p=!1,_=!1){this.secure=t,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=_,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ec.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ec.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function AM(n,e,t){let r;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===DM)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==TM)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Vk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const o=[];return Ir(t,(u,d)=>{o.push(u+"="+d)}),r+o.join("&")}class Bk{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const LT={},UT={};function VT(n){const e=n.toString();return LT[e]||(LT[e]=new Bk),LT[e]}class $k{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&af(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class tl{constructor(e,t,r,o,u,d,p){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ym(e),this.stats_=VT(t),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),AM(t,TM,_))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $k(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BT((...u)=>{const[d,p,_,v,I]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=p,this.password=_;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[d,p]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wM.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tl.forceAllow_=!0}static forceDisallow(){tl.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!tl.forceAllow_&&(tl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,U.h$)(t),o=gM(r,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class BT{constructor(e,t,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=dM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=BT.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){br("frame writing exception"),p.stack&&br(p.stack),br(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||br("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const d=this.pendingSegs.shift();r=r+"&seg"+o+"="+d.seg+"&ts"+o+"="+d.ts+"&d"+o+"="+d.d,o++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(o),r()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{br("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let uw=null;typeof MozWebSocket<"u"?uw=MozWebSocket:typeof WebSocket<"u"&&(uw=WebSocket);let lf=(()=>{class n{constructor(t,r,o,u,d,p,_){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ym(this.connId),this.stats_=VT(r),this.connURL=n.connectionURL_(r,p,_,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,d){const p={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&wM.test(location.hostname)&&(p.r="f"),r&&(p.s=r),o&&(p.ls=o),u&&(p.ac=u),d&&(p.p=d),AM(t,DM,p)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ec.set("previous_websocket_failure",!0);try{let o;if((0,U.Yr)()){o={headers:{"User-Agent":`Firebase/5/${PT}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,p=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;p&&(o.proxy={origin:p})}this.mySock=new uw(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&null!==uw&&!n.forceDisallow_}static previouslyFailed(){return ec.isInMemoryStorage||!0===ec.get("previous_websocket_failure")}markConnectionHealthy(){ec.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,U.cI)(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=(0,U.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=gM(r,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),kM=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[tl,lf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=lf&&lf.isAvailable();let o=r&&!lf.previouslyFailed();if(t.webSocketOnly&&(r||Br("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[lf];else{const u=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&u.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class HM{constructor(e,t,r,o,u,d,p,_,v,I){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=_,this.onKill_=v,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ym("c:"+this.id+":"),this.transportManager_=new kM(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Qm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Zm("t",e),r=Zm("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Zm("t",e),r=Zm("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Zm("t",e);if("d"in e){const r=e.d;if("h"===t){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?NT("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NT("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Br("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Qm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ec.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $M{put(e,t,r,o){}merge(e,t,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class jM{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const o=this.getInitialEvent(e);o&&t.apply(r,o)}off(e,t,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===t&&(!r||r===o[u].context))return void o.splice(u,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class cw extends jM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cw}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class dn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function rn(){return new dn("")}function Bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function nl(n){return n.pieces_.length-n.pieceNum_}function bn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new dn(n.pieces_,e)}function $T(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Xm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function zM(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new dn(e,0)}function Bn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof dn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&t.push(r[o])}return new dn(t,0)}function Ht(n){return n.pieceNum_>=n.pieces_.length}function Yr(n,e){const t=Bt(n),r=Bt(e);if(null===t)return e;if(t===r)return Yr(bn(n),bn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function jT(n,e){if(nl(n)!==nl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Gi(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(nl(n)>nl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class dO{constructor(e,t){this.errorPrefix_=t,this.parts_=Xm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,U.ug)(this.parts_[r]);qM(this)}}function qM(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rc(n))}function rc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class GT extends jM{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new GT}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const e_=1e3;let hw,ic=(()=>{class n extends $M{constructor(t,r,o,u,d,p,_,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=_,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Ym("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=e_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");GT.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&cw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,d={r:u,a:t,b:r};this.log_((0,U.Wl)(d)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new U.BH,o={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:o,onComplete:p=>{const _=p.d;"ok"===p.s?r.resolve(_):r.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,o,u){this.initConnection_();const d=t._queryIdentifier,p=t._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const _={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(p).set(d,_),this.connected_&&this.sendListen_(_)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const d={p:o};t.tag&&(d.q=r._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest("q",d,_=>{const v=_.d,I=_.s;n.warnOnListenWarnings_(v,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",_),"ok"!==I&&this.removeListen_(o,u),t.onComplete&&t.onComplete(I,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const o=(0,U.DV)(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();Br(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,U.w9)(t)?"auth":"gauth",o={cred:t};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const d=u.s,p=u.d||"error";this.authToken_===t&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const d={p:t};u&&(d.q=o,d.t=u),this.sendRequest("n",d)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const d={p:r,d:o};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,p=>{u&&setTimeout(()=>{u(p.s,p.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,d){this.initConnection_();const p={p:r,d:o};void 0!==d&&(p.h=d),this.outstandingPuts_.push({action:t,request:p,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(d.s,d.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Wl)(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):NT("Unrecognized action received from server: "+(0,U.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=e_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=e_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=e_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,qe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),o=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),d=t.id+":"+n.nextConnectionId_++,p=t.lastSessionId;let _=!1,v=null;const I=function(){v?v.close():(_=!0,u())};t.realtime_={close:I,sendRequest:function(q){(0,U.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(q)}};const L=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[q,pe]=yield Promise.all([t.authTokenProvider_.getToken(L),t.appCheckTokenProvider_.getToken(L)]);_?br("getToken() completed but was canceled"):(br("getToken() completed. Creating connection."),t.authToken_=q&&q.accessToken,t.appCheckToken_=pe&&pe.token,v=new HM(d,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,o,u,Xe=>{Br(Xe+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},p))}catch(q){t.log_("Failed to get token: "+q),_||(t.repoInfo_.nodeAdmin&&Br(q),I())}}})()}interrupt(t){br("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){br("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=e_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;o=r?r.map(d=>kT(d)).join("$"):"default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new dn(t).toString();let u;if(this.listens.has(o)){const d=this.listens.get(o);u=d.get(r),d.delete(r),0===d.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){br("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){br("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,U.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+PT.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=cw.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class jt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new jt(e,t)}}class dw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new jt(el,e),o=new jt(el,t);return 0!==this.compare(r,o)}minPost(){return jt.MIN}}class ZM extends dw{static get __EMPTY_NODE(){return hw}static set __EMPTY_NODE(e){hw=e}compare(e,t){return nc(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return jt.MIN}maxPost(){return new jt(qo,hw)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new jt(e,hw)}toString(){return".key"}}const zs=new ZM;class fw{constructor(e,t,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,o&&(d*=-1),d<0)e=this.isReverse_?e.left:e.right;else{if(0===d){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let zT,ms=(()=>{class n{constructor(t,r,o,u,d){this.key=t,this.value=r,this.color=o??n.RED,this.left=u??ci.EMPTY_NODE,this.right=d??ci.EMPTY_NODE}copy(t,r,o,u,d){return new n(t??this.key,r??this.value,o??this.color,u??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const d=o(t,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(t,r,o),null):0===d?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ci.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(t,o.key)){if(o.right.isEmpty())return ci.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ci{constructor(e,t=ci.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ci(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ms.BLACK,null,null))}remove(e){return new ci(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ms.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,o=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fw(this.root_,null,this.comparator_,!0,e)}}function vO(n,e){return nc(n.name,e.name)}function WT(n,e){return nc(n,e)}ci.EMPTY_NODE=new class yO{copy(e,t,r,o,u){return this}insert(e,t,r){return new ms(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const QM=function(n){return"number"==typeof n?"number:"+mM(n):"string:"+n},JM=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===zT||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===zT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let XM,eP,tP,uf=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),JM(this.priorityNode_)}static set __childrenNodeConstructor(t){XM=t}static get __childrenNodeConstructor(){return XM}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ht(t)?this:".priority"===Bt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Bt(t);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,U.hu)(".priority"!==o||1===nl(t),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(bn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+QM(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?mM(this.value_):this.value_,this.lazyHash_=hM(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),d=n.VALUE_TYPE_ORDER.indexOf(o);return(0,U.hu)(u>=0,"Unknown leaf type: "+r),(0,U.hu)(d>=0,"Unknown leaf type: "+o),u===d?"object"===o?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Sn=new class bO extends dw{compare(e,t){const r=e.node.getPriority(),o=t.node.getPriority(),u=r.compareTo(o);return 0===u?nc(e.name,t.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return jt.MIN}maxPost(){return new jt(qo,new uf("[PRIORITY-POST]",tP))}makePost(e,t){const r=eP(e);return new jt(t,new uf("[PRIORITY-POST]",r))}toString(){return".priority"}},IO=Math.log(2);class DO{constructor(e){this.count=parseInt(Math.log(e+1)/IO,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pw=function(n,e,t,r){n.sort(e);const o=function(_,v){const I=v-_;let D,L;if(0===I)return null;if(1===I)return D=n[_],L=t?t(D):D,new ms(L,D.node,ms.BLACK,null,null);{const q=parseInt(I/2,10)+_,pe=o(_,q),Xe=o(q+1,v);return D=n[q],L=t?t(D):D,new ms(L,D.node,ms.BLACK,pe,Xe)}},p=function(_){let v=null,I=null,D=n.length;const L=function(pe,Xe){const tt=D-pe,Mt=D;D-=pe;const Kt=o(tt+1,Mt),tn=n[tt],vn=t?t(tn):tn;q(new ms(vn,tn.node,Xe,null,Kt))},q=function(pe){v?(v.left=pe,v=pe):(I=pe,v=pe)};for(let pe=0;pe<_.count;++pe){const Xe=_.nextBitIsOne(),tt=Math.pow(2,_.count-(pe+1));Xe?L(tt,ms.BLACK):(L(tt,ms.BLACK),L(tt,ms.RED))}return I}(new DO(n.length));return new ci(r||e,p)};let qT;const cf={};class Ko{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(cf&&Sn,"ChildrenNode.ts has not been loaded"),qT=qT||new Ko({".priority":cf},{".priority":Sn}),qT}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ci?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=t.getIterator(jt.Wrap);let p,d=u.getNext();for(;d;)o=o||e.isDefinedOn(d.node),r.push(d),d=u.getNext();p=o?pw(r,e.getCompare()):cf;const _=e.toString(),v=Object.assign({},this.indexSet_);v[_]=e;const I=Object.assign({},this.indexes_);return I[_]=p,new Ko(I,v)}addToIndexes(e,t){const r=(0,U.UI)(this.indexes_,(o,u)=>{const d=(0,U.DV)(this.indexSet_,u);if((0,U.hu)(d,"Missing index implementation for "+u),o===cf){if(d.isDefinedOn(e.node)){const p=[],_=t.getIterator(jt.Wrap);let v=_.getNext();for(;v;)v.name!==e.name&&p.push(v),v=_.getNext();return p.push(e),pw(p,d.getCompare())}return cf}{const p=t.get(e.name);let _=o;return p&&(_=_.remove(new jt(e.name,p))),_.insert(e,e.node)}});return new Ko(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,U.UI)(this.indexes_,o=>{if(o===cf)return o;{const u=t.get(e.name);return u?o.remove(new jt(e.name,u)):o}});return new Ko(r,this.indexSet_)}}let t_,Nt=(()=>{class n{constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&JM(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return t_||(t_=new n(new ci(WT),null,Ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||t_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?t_:r}}getChild(t){const r=Bt(t);return null===r?this:this.getImmediateChild(r).getChild(bn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,U.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const o=new jt(t,r);let u,d;r.isEmpty()?(u=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),d=this.indexMap_.addToIndexes(o,this.children_));const p=u.isEmpty()?t_:this.priorityNode_;return new n(u,p,d)}}updateChild(t,r){const o=Bt(t);if(null===o)return r;{(0,U.hu)(".priority"!==Bt(t)||1===nl(t),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(bn(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,d=!0;if(this.forEachChild(Sn,(p,_)=>{r[p]=_.val(t),o++,d&&n.INTEGER_REGEXP_.test(p)?u=Math.max(u,Number(p)):d=!1}),!t&&d&&u<2*o){const p=[];for(const _ in r)p[_]=r[_];return p}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+QM(this.getPriority().val())+":"),this.forEachChild(Sn,(r,o)=>{const u=o.hash();""!==u&&(t+=":"+r+":"+u)}),this.lazyHash_=""===t?"":hM(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const d=u.getPredecessorKey(new jt(t,r));return d?d.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new jt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new jt(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,jt.Wrap);let d=u.peek();for(;null!=d&&r.compare(d,t)<0;)u.getNext(),d=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,jt.Wrap);let d=u.peek();for(;null!=d&&r.compare(d,t)>0;)u.getNext(),d=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===n_?-1:0}withIndex(t){if(t===zs||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===zs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(Sn),u=r.getIterator(Sn);let d=o.getNext(),p=u.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=o.getNext(),p=u.getNext()}return null===d&&null===p}return!1}return!1}}resolveIndex_(t){return t===zs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const n_=new class TO extends Nt{constructor(){super(new ci(WT),Nt.EMPTY_NODE,Ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}};function zn(n,e=null){if(null===n)return Nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new uf(n,zn(e));if(n instanceof Array){let t=Nt.EMPTY_NODE;return Ir(n,(r,o)=>{if((0,U.r3)(n,r)&&"."!==r.substring(0,1)){const u=zn(o);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(r,u))}}),t.updatePriority(zn(e))}{const t=[];let r=!1;if(Ir(n,(d,p)=>{if("."!==d.substring(0,1)){const _=zn(p);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),t.push(new jt(d,_)))}}),0===t.length)return Nt.EMPTY_NODE;const u=pw(t,vO,d=>d.name,WT);if(r){const d=pw(t,Sn.getCompare());return new Nt(u,zn(e),new Ko({".priority":d},{".priority":Sn}))}return new Nt(u,zn(e),Ko.Default)}}Object.defineProperties(jt,{MIN:{value:new jt(el,Nt.EMPTY_NODE)},MAX:{value:new jt(qo,n_)}}),ZM.__EMPTY_NODE=Nt.EMPTY_NODE,uf.__childrenNodeConstructor=Nt,function EO(n){zT=n}(n_),function wO(n){tP=n}(n_),function CO(n){eP=n}(zn);class KT extends dw{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!Ht(e)&&".priority"!==Bt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),o=this.extractChild(t.node),u=r.compareTo(o);return 0===u?nc(e.name,t.name):u}makePost(e,t){const r=zn(e),o=Nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new jt(t,o)}maxPost(){const e=Nt.EMPTY_NODE.updateChild(this.indexPath_,n_);return new jt(qo,e)}toString(){return Xm(this.indexPath_,0).join("/")}}const YT=new class SO extends dw{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?nc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return jt.MIN}maxPost(){return jt.MAX}makePost(e,t){const r=zn(e);return new jt(t,r)}toString(){return".value"}};function i_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class QT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Sn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:el}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Sn}copy(){const e=new QT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function rP(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Sn?t="$priority":n.index_===YT?t="$value":n.index_===zs?t="$key":((0,U.hu)(n.index_ instanceof KT,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,U.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,U.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function iP(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Sn&&(e.i=n.index_.toString()),e}class mw extends $M{constructor(e,t,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Ym("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=mw.getListenId_(e,r),p={};this.listens_[d]=p;const _=rP(e._queryParams);this.restRequest_(u+".json",_,(v,I)=>{let D=I;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(u,D,!1,r),(0,U.DV)(this.listens_,d)===p){let L;L=v?401===v?"permission_denied":"rest_error:"+v:"ok",o(L,null)}})}unlisten(e,t){const r=mw.getListenId_(e,t);delete this.listens_[r]}get(e){const t=rP(e._queryParams),r=e._path.toString(),o=new U.BH;return this.restRequest_(r+".json",t,(u,d)=>{let p=d;404===u&&(p=null,u=null),null===u?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(t.auth=o.accessToken),u&&u.token&&(t.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&4===p.readyState){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=(0,U.cI)(p.responseText)}catch{Br("Failed to parse JSON response for "+d+": "+p.responseText)}r(null,_)}else 401!==p.status&&404!==p.status&&Br("Got unsuccessful REST response for "+d+" Status: "+p.status),r(p.status);r=null}},p.open("GET",d,!0),p.send()})}}class FO{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function _w(){return{value:null,children:new Map}}function hf(n,e,t){if(Ht(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Bt(e);n.children.has(r)||n.children.set(r,_w()),hf(n.children.get(r),e=bn(e),t)}}function tA(n,e,t){null!==n.value?t(e,n.value):function LO(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,o)=>{tA(o,new dn(e.toString()+"/"+r),t)})}class UO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ir(this.last_,(r,o)=>{t[r]=t[r]-o}),this.last_=e,t}}class HO{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new UO(e);const r=1e4+2e4*Math.random();Qm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ir(e,(o,u)=>{u>0&&(0,U.r3)(this.statsToReport_,o)&&(t[o]=u,r=!0)}),r&&this.server_.reportStats(t),Qm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Wi=(()=>{return(n=Wi||(Wi={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Wi;var n})();function iA(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class yw{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Wi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ht(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dn(e));return new yw(rn(),t,this.revert)}}return(0,U.hu)(Bt(this.path)===e,"operationForChild called for unrelated child."),new yw(bn(this.path),this.affectedTree,this.revert)}}class sc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Wi.OVERWRITE}operationForChild(e){return Ht(this.path)?new sc(this.source,rn(),this.snap.getImmediateChild(e)):new sc(this.source,bn(this.path),this.snap)}}class ff{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Wi.MERGE}operationForChild(e){if(Ht(this.path)){const t=this.children.subtree(new dn(e));return t.isEmpty()?null:t.value?new sc(this.source,rn(),t.value):new ff(this.source,rn(),t)}return(0,U.hu)(Bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ff(this.source,bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rl{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=Bt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function a_(n,e,t,r,o,u){const d=r.filter(p=>p.type===t);d.sort((p,_)=>function WO(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const r=new jt(e.childName,e.snapshotNode),o=new jt(t.childName,t.snapshotNode);return n.index_.compare(r,o)}(n,p,_)),d.forEach(p=>{const _=function GO(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,p,u);o.forEach(v=>{v.respondsTo(p.type)&&e.push(v.createEvent(_,n.query_))})})}function vw(n,e){return{eventCache:n,serverCache:e}}function l_(n,e,t,r){return vw(new rl(e,t,r),n.serverCache)}function oP(n,e,t,r){return vw(n.eventCache,new rl(e,t,r))}function Ew(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function oc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let sA;class Rn{constructor(e,t=(()=>(sA||(sA=new ci(Rk)),sA))()){this.value=e,this.children=t}static fromObject(e){let t=new Rn(null);return Ir(e,(r,o)=>{t=t.set(new dn(r),o)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:rn(),value:this.value};if(Ht(e))return null;{const r=Bt(e),o=this.children.get(r);if(null!==o){const u=o.findRootMostMatchingPathAndValue(bn(e),t);return null!=u?{path:Bn(new dn(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ht(e))return this;{const t=Bt(e),r=this.children.get(t);return null!==r?r.subtree(bn(e)):new Rn(null)}}set(e,t){if(Ht(e))return new Rn(t,this.children);{const r=Bt(e),u=(this.children.get(r)||new Rn(null)).set(bn(e),t),d=this.children.insert(r,u);return new Rn(this.value,d)}}remove(e){if(Ht(e))return this.children.isEmpty()?new Rn(null):new Rn(null,this.children);{const t=Bt(e),r=this.children.get(t);if(r){const o=r.remove(bn(e));let u;return u=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&u.isEmpty()?new Rn(null):new Rn(this.value,u)}return this}}get(e){if(Ht(e))return this.value;{const t=Bt(e),r=this.children.get(t);return r?r.get(bn(e)):null}}setTree(e,t){if(Ht(e))return t;{const r=Bt(e),u=(this.children.get(r)||new Rn(null)).setTree(bn(e),t);let d;return d=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new Rn(this.value,d)}}fold(e){return this.fold_(rn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Bn(e,o),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,rn(),t)}findOnPath_(e,t,r){const o=!!this.value&&r(t,this.value);if(o)return o;if(Ht(e))return null;{const u=Bt(e),d=this.children.get(u);return d?d.findOnPath_(bn(e),Bn(t,u),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,rn(),t)}foreachOnPath_(e,t,r){if(Ht(e))return this;{this.value&&r(t,this.value);const o=Bt(e),u=this.children.get(o);return u?u.foreachOnPath_(bn(e),Bn(t,o),r):new Rn(null)}}foreach(e){this.foreach_(rn(),e)}foreach_(e,t){this.children.inorderTraversal((r,o)=>{o.foreach_(Bn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class _s{constructor(e){this.writeTree_=e}static empty(){return new _s(new Rn(null))}}function u_(n,e,t){if(Ht(e))return new _s(new Rn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const o=r.path;let u=r.value;const d=Yr(o,e);return u=u.updateChild(d,t),new _s(n.writeTree_.set(o,u))}{const o=new Rn(t),u=n.writeTree_.setTree(e,o);return new _s(u)}}}function oA(n,e,t){let r=n;return Ir(t,(o,u)=>{r=u_(r,Bn(e,o),u)}),r}function aP(n,e){if(Ht(e))return _s.empty();{const t=n.writeTree_.setTree(e,new Rn(null));return new _s(t)}}function aA(n,e){return null!=ac(n,e)}function ac(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Yr(t.path,e)):null}function lP(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Sn,(r,o)=>{e.push(new jt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&e.push(new jt(r,o.value))}),e}function il(n,e){if(Ht(e))return n;{const t=ac(n,e);return new _s(null!=t?new Rn(t):n.writeTree_.subtree(e))}}function lA(n){return n.writeTree_.isEmpty()}function pf(n,e){return uP(rn(),n.writeTree_,e)}function uP(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{".priority"===o?((0,U.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):t=uP(Bn(n,o),u,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Bn(n,".priority"),r)),t}}function Cw(n,e){return pP(e,n)}function QO(n,e){if(n.snap)return Gi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Gi(Bn(n.path,t),e))return!0;return!1}function XO(n){return n.visible}function cP(n,e,t){let r=_s.empty();for(let o=0;o<n.length;++o){const u=n[o];if(e(u)){const d=u.path;let p;if(u.snap)Gi(t,d)?(p=Yr(t,d),r=u_(r,p,u.snap)):Gi(d,t)&&(p=Yr(d,t),r=u_(r,rn(),u.snap.getChild(p)));else{if(!u.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Gi(t,d))p=Yr(t,d),r=oA(r,p,u.children);else if(Gi(d,t))if(p=Yr(d,t),Ht(p))r=oA(r,rn(),u.children);else{const _=(0,U.DV)(u.children,Bt(p));if(_){const v=_.getChild(bn(p));r=u_(r,rn(),v)}}}}}return r}function dP(n,e,t,r,o){if(r||o){const u=il(n.visibleWrites,e);return!o&&lA(u)?t:o||null!=t||aA(u,rn())?pf(cP(n.allWrites,function(v){return(v.visible||o)&&(!r||!~r.indexOf(v.writeId))&&(Gi(v.path,e)||Gi(e,v.path))},e),t||Nt.EMPTY_NODE):null}{const u=ac(n.visibleWrites,e);if(null!=u)return u;{const d=il(n.visibleWrites,e);return lA(d)?t:null!=t||aA(d,rn())?pf(d,t||Nt.EMPTY_NODE):null}}}function ww(n,e,t,r){return dP(n.writeTree,n.treePath,e,t,r)}function uA(n,e){return function e1(n,e,t){let r=Nt.EMPTY_NODE;const o=ac(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Sn,(u,d)=>{r=r.updateImmediateChild(u,d)}),r;if(t){const u=il(n.visibleWrites,e);return t.forEachChild(Sn,(d,p)=>{const _=pf(il(u,new dn(d)),p);r=r.updateImmediateChild(d,_)}),lP(u).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}return lP(il(n.visibleWrites,e)).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}(n.writeTree,n.treePath,e)}function hP(n,e,t,r){return function t1(n,e,t,r,o){(0,U.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Bn(e,t);if(aA(n.visibleWrites,u))return null;{const d=il(n.visibleWrites,u);return lA(d)?o.getChild(t):pf(d,o.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function bw(n,e){return function r1(n,e){return ac(n.visibleWrites,e)}(n.writeTree,Bn(n.treePath,e))}function cA(n,e,t){return function n1(n,e,t,r){const o=Bn(e,t),u=ac(n.visibleWrites,o);return null!=u?u:r.isCompleteForChild(t)?pf(il(n.visibleWrites,o),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function fP(n,e){return pP(Bn(n.treePath,e),n.writeTree)}function pP(n,e){return{treePath:n,writeTree:e}}class a1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(r,i_(r,e.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(r,function r_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,o.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(r,function df(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap.set(r,i_(r,e.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const gP=new class l1{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class dA{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new rl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cA(this.writes_,e,r)}}getChildAfterChild(e,t,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oc(this.viewCache_),u=function o1(n,e,t,r,o,u){return function i1(n,e,t,r,o,u,d){let p;const _=il(n.visibleWrites,e),v=ac(_,rn());if(null!=v)p=v;else{if(null==t)return[];p=pf(_,t)}if(p=p.withIndex(d),p.isEmpty()||p.isLeafNode())return[];{const I=[],D=d.getCompare(),L=u?p.getReverseIteratorFrom(r,d):p.getIteratorFrom(r,d);let q=L.getNext();for(;q&&I.length<o;)0!==D(q,r)&&I.push(q),q=L.getNext();return I}}(n.writeTree,n.treePath,e,t,r,o,u)}(this.writes_,o,t,1,r,e);return 0===u.length?null:u[0]}}function mP(n,e,t,r,o,u){const d=e.eventCache;if(null!=bw(r,t))return e;{let p,_;if(Ht(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=oc(e),D=uA(r,v instanceof Nt?v:Nt.EMPTY_NODE);p=n.filter.updateFullNode(e.eventCache.getNode(),D,u)}else{const v=ww(r,oc(e));p=n.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const v=Bt(t);if(".priority"===v){(0,U.hu)(1===nl(t),"Can't have a priority with additional path components");const I=d.getNode();_=e.serverCache.getNode();const D=hP(r,t,I,_);p=null!=D?n.filter.updatePriority(I,D):d.getNode()}else{const I=bn(t);let D;if(d.isCompleteForChild(v)){_=e.serverCache.getNode();const L=hP(r,t,d.getNode(),_);D=null!=L?d.getNode().getImmediateChild(v).updateChild(I,L):d.getNode().getImmediateChild(v)}else D=cA(r,v,e.serverCache);p=null!=D?n.filter.updateChild(d.getNode(),v,D,I,o,u):d.getNode()}}return l_(e,p,d.isFullyInitialized()||Ht(t),n.filter.filtersNodes())}}function Iw(n,e,t,r,o,u,d,p){const _=e.serverCache;let v;const I=d?n.filter:n.filter.getIndexedFilter();if(Ht(t))v=I.updateFullNode(_.getNode(),r,null);else if(I.filtersNodes()&&!_.isFiltered()){const q=_.getNode().updateChild(t,r);v=I.updateFullNode(_.getNode(),q,null)}else{const q=Bt(t);if(!_.isCompleteForPath(t)&&nl(t)>1)return e;const pe=bn(t),tt=_.getNode().getImmediateChild(q).updateChild(pe,r);v=".priority"===q?I.updatePriority(_.getNode(),tt):I.updateChild(_.getNode(),q,tt,pe,gP,null)}const D=oP(e,v,_.isFullyInitialized()||Ht(t),I.filtersNodes());return mP(n,D,t,o,new dA(o,D,u),p)}function hA(n,e,t,r,o,u,d){const p=e.eventCache;let _,v;const I=new dA(o,e,u);if(Ht(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,d),_=l_(e,v,!0,n.filter.filtersNodes());else{const D=Bt(t);if(".priority"===D)v=n.filter.updatePriority(e.eventCache.getNode(),r),_=l_(e,v,p.isFullyInitialized(),p.isFiltered());else{const L=bn(t),q=p.getNode().getImmediateChild(D);let pe;if(Ht(L))pe=r;else{const Xe=I.getCompleteChild(D);pe=null!=Xe?".priority"===$T(L)&&Xe.getChild(zM(L)).isEmpty()?Xe:Xe.updateChild(L,r):Nt.EMPTY_NODE}_=q.equals(pe)?e:l_(e,n.filter.updateChild(p.getNode(),D,pe,L,I,d),p.isFullyInitialized(),n.filter.filtersNodes())}}return _}function _P(n,e){return n.eventCache.isCompleteForChild(e)}function yP(n,e,t){return t.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function fA(n,e,t,r,o,u,d,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,_=e;v=Ht(t)?r:new Rn(null).setTree(t,r);const I=e.serverCache.getNode();return v.children.inorderTraversal((D,L)=>{if(I.hasChild(D)){const pe=yP(0,e.serverCache.getNode().getImmediateChild(D),L);_=Iw(n,_,new dn(D),pe,o,u,d,p)}}),v.children.inorderTraversal((D,L)=>{const q=!e.serverCache.isCompleteForChild(D)&&null===L.value;if(!I.hasChild(D)&&!q){const Xe=yP(0,e.serverCache.getNode().getImmediateChild(D),L);_=Iw(n,_,new dn(D),Xe,o,u,d,p)}}),_}function E1(n,e){const t=oc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ht(e)&&!t.getImmediateChild(Bt(e)).isEmpty())?t.getChild(e):null}function CP(n,e,t,r){e.type===Wi.MERGE&&null!==e.source.queryId&&((0,U.hu)(oc(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Ew(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,u=function d1(n,e,t,r,o){const u=new a1;let d,p;if(t.type===Wi.OVERWRITE){const v=t;v.source.fromUser?d=hA(n,e,v.path,v.snap,r,o,u):((0,U.hu)(v.source.fromServer,"Unknown source."),p=v.source.tagged||e.serverCache.isFiltered()&&!Ht(v.path),d=Iw(n,e,v.path,v.snap,r,o,p,u))}else if(t.type===Wi.MERGE){const v=t;v.source.fromUser?d=function f1(n,e,t,r,o,u,d){let p=e;return r.foreach((_,v)=>{const I=Bn(t,_);_P(e,Bt(I))&&(p=hA(n,p,I,v,o,u,d))}),r.foreach((_,v)=>{const I=Bn(t,_);_P(e,Bt(I))||(p=hA(n,p,I,v,o,u,d))}),p}(n,e,v.path,v.children,r,o,u):((0,U.hu)(v.source.fromServer,"Unknown source."),p=v.source.tagged||e.serverCache.isFiltered(),d=fA(n,e,v.path,v.children,r,o,p,u))}else if(t.type===Wi.ACK_USER_WRITE){const v=t;d=v.revert?function m1(n,e,t,r,o,u){let d;if(null!=bw(r,t))return e;{const p=new dA(r,e,o),_=e.eventCache.getNode();let v;if(Ht(t)||".priority"===Bt(t)){let I;if(e.serverCache.isFullyInitialized())I=ww(r,oc(e));else{const D=e.serverCache.getNode();(0,U.hu)(D instanceof Nt,"serverChildren would be complete if leaf node"),I=uA(r,D)}v=n.filter.updateFullNode(_,I,u)}else{const I=Bt(t);let D=cA(r,I,e.serverCache);null==D&&e.serverCache.isCompleteForChild(I)&&(D=_.getImmediateChild(I)),v=null!=D?n.filter.updateChild(_,I,D,bn(t),p,u):e.eventCache.getNode().hasChild(I)?n.filter.updateChild(_,I,Nt.EMPTY_NODE,bn(t),p,u):_,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=ww(r,oc(e)),d.isLeafNode()&&(v=n.filter.updateFullNode(v,d,u)))}return d=e.serverCache.isFullyInitialized()||null!=bw(r,rn()),l_(e,v,d,n.filter.filtersNodes())}}(n,e,v.path,r,o,u):function p1(n,e,t,r,o,u,d){if(null!=bw(o,t))return e;const p=e.serverCache.isFiltered(),_=e.serverCache;if(null!=r.value){if(Ht(t)&&_.isFullyInitialized()||_.isCompleteForPath(t))return Iw(n,e,t,_.getNode().getChild(t),o,u,p,d);if(Ht(t)){let v=new Rn(null);return _.getNode().forEachChild(zs,(I,D)=>{v=v.set(new dn(I),D)}),fA(n,e,t,v,o,u,p,d)}return e}{let v=new Rn(null);return r.foreach((I,D)=>{const L=Bn(t,I);_.isCompleteForPath(L)&&(v=v.set(I,_.getNode().getChild(L)))}),fA(n,e,t,v,o,u,p,d)}}(n,e,v.path,v.affectedTree,r,o,u)}else{if(t.type!==Wi.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);d=function g1(n,e,t,r,o){const u=e.serverCache;return mP(n,oP(e,u.getNode(),u.isFullyInitialized()||Ht(t),u.isFiltered()),t,r,gP,o)}(n,e,t.path,r,u)}const _=u.getChanges();return function h1(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Ew(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&t.push(function nP(n){return{type:"value",snapshotNode:n}}(Ew(e)))}}(e,d,_),{viewCache:d,changes:_}}(n.processor_,o,e,t,r);return function c1(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,U.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,function wP(n,e,t,r){return function jO(n,e,t,r){const o=[],u=[];return e.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(function RO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(d.childName,d.snapshotNode))}),a_(n,o,"child_removed",e,r,t),a_(n,o,"child_added",e,r,t),a_(n,o,"child_moved",u,r,t),a_(n,o,"child_changed",e,r,t),a_(n,o,"value",e,r,t),o}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,u.changes,u.viewCache.eventCache.getNode(),null)}let Dw,Aw;function pA(n,e,t,r){const o=e.source.queryId;if(null!==o){const u=n.views.get(o);return(0,U.hu)(null!=u,"SyncTree gave us an op for an invalid query."),CP(u,e,t,r)}{let u=[];for(const d of n.views.values())u=u.concat(CP(d,e,t,r));return u}}function sl(n,e){let t=null;for(const r of n.views.values())t=t||E1(r,e);return t}class SP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rn(null),this.pendingWriteTree_=function s1(){return{visibleWrites:_s.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gA(n,e,t,r,o){return function qO(n,e,t,r,o){(0,U.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:o}),o&&(n.visibleWrites=u_(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,o),o?gf(n,new sc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function al(n,e,t=!1){const r=function YO(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function ZO(n,e){const t=n.allWrites.findIndex(p=>p.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let o=r.visible,u=!1,d=n.allWrites.length-1;for(;o&&d>=0;){const p=n.allWrites[d];p.visible&&(d>=t&&QO(p,r.path)?o=!1:Gi(r.path,p.path)&&(u=!0)),d--}return!!o&&(u?(function JO(n){n.visibleWrites=cP(n.allWrites,XO,rn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=aP(n.visibleWrites,r.path):Ir(r.children,_=>{n.visibleWrites=aP(n.visibleWrites,Bn(r.path,_))}),!0))}(n.pendingWriteTree_,e)){let u=new Rn(null);return null!=r.snap?u=u.set(rn(),!0):Ir(r.children,d=>{u=u.set(new dn(d),!0)}),gf(n,new yw(r.path,u,t))}return[]}function c_(n,e,t){return gf(n,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Rw(n,e,t){const o=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(d,p)=>{const v=sl(p,Yr(d,e));if(v)return v});return dP(o,e,u,t,!0)}function gf(n,e){return MP(e,n.syncPointTree_,null,Cw(n.pendingWriteTree_,rn()))}function MP(n,e,t,r){if(Ht(n.path))return PP(n,e,t,r);{const o=e.get(rn());null==t&&null!=o&&(t=sl(o,rn()));let u=[];const d=Bt(n.path),p=n.operationForChild(d),_=e.children.get(d);if(_&&p){const v=t?t.getImmediateChild(d):null,I=fP(r,d);u=u.concat(MP(p,_,v,I))}return o&&(u=u.concat(pA(o,n,r,t))),u}}function PP(n,e,t,r){const o=e.get(rn());null==t&&null!=o&&(t=sl(o,rn()));let u=[];return e.children.inorderTraversal((d,p)=>{const _=t?t.getImmediateChild(d):null,v=fP(r,d),I=n.operationForChild(d);I&&(u=u.concat(PP(I,p,_,v)))}),o&&(u=u.concat(pA(o,n,r,t))),u}function _A(n,e){return n.tagToQueryMap.get(e)}function yA(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new dn(n.substr(0,e))}}function vA(n,e,t){const r=n.syncPointTree_.get(e);return(0,U.hu)(r,"Missing sync point for query tag that we're tracking"),pA(r,t,Cw(n.pendingWriteTree_,e),null)}class EA{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new EA(t)}node(){return this.node_}}class CA{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Bn(this.path_,e);return new CA(this.syncTree_,t)}node(){return Rw(this.syncTree_,this.path_)}}const NP=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?$1(n[".sv"],e,t):"object"==typeof n[".sv"]?j1(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},$1=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},j1=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,U.hu)(!1,"Unexpected increment value: "+r);const o=e.node();if((0,U.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const d=o.getValue();return"number"!=typeof d?r:d+r},wA=function(n,e,t){return bA(n,new EA(e),t)};function bA(n,e,t){const r=n.getPriority().val(),o=NP(r,e.getImmediateChild(".priority"),t);let u;if(n.isLeafNode()){const d=n,p=NP(d.getValue(),e,t);return p!==d.getValue()||o!==d.getPriority().val()?new uf(p,zn(o)):n}{const d=n;return u=d,o!==d.getPriority().val()&&(u=u.updatePriority(new uf(o))),d.forEachChild(Sn,(p,_)=>{const v=bA(_,e.getImmediateChild(p),t);v!==_&&(u=u.updateImmediateChild(p,v))}),u}}class IA{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Pw(n,e){let t=e instanceof dn?e:new dn(e),r=n,o=Bt(t);for(;null!==o;){const u=(0,U.DV)(r.node.children,o)||{children:{},childCount:0};r=new IA(o,r,u),t=bn(t),o=Bt(t)}return r}function lc(n){return n.node.value}function DA(n,e){n.node.value=e,TA(n)}function OP(n){return n.node.childCount>0}function xw(n,e){Ir(n.node.children,(t,r)=>{e(new IA(t,n,r))})}function FP(n,e,t,r){t&&!r&&e(n),xw(n,o=>{FP(o,e,!0,r)}),t&&r&&e(n)}function f_(n){return new dn(null===n.parent?n.name:f_(n.parent)+"/"+n.name)}function TA(n){null!==n.parent&&function z1(n,e,t){const r=function G1(n){return void 0===lc(n)&&!OP(n)}(t),o=(0,U.r3)(n.node.children,e);r&&o?(delete n.node.children[e],n.node.childCount--,TA(n)):!r&&!o&&(n.node.children[e]=t.node,n.node.childCount++,TA(n))}(n.parent,n.name,n)}const q1=/[\[\].#$\/\u0000-\u001F\u007F]/,K1=/[\[\].#$\u0000-\u001F\u007F]/,AA=10485760,Nw=function(n){return"string"==typeof n&&0!==n.length&&!q1.test(n)},g_=function(n,e,t){const r=t instanceof dn?new dO(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+rc(r));if("function"==typeof e)throw new Error(n+"contains a function "+rc(r)+" with contents = "+e.toString());if(aw(e))throw new Error(n+"contains "+e.toString()+" "+rc(r));if("string"==typeof e&&e.length>AA/3&&(0,U.ug)(e)>AA)throw new Error(n+"contains a string greater than "+AA+" utf8 bytes "+rc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let o=!1,u=!1;if(Ir(e,(d,p)=>{if(".value"===d)o=!0;else if(".priority"!==d&&".sv"!==d&&(u=!0,!Nw(d)))throw new Error(n+" contains an invalid key ("+d+") "+rc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function hO(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),qM(n)})(r,d),g_(n,p,r),function fO(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&u)throw new Error(n+' contains ".value" child '+rc(r)+" in addition to actual children.")}},VP=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Nw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!K1.test(n)}(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class J1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ti(n,e,t){(function kw(n,e){let t=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();null!==t&&!jT(u,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(o)}t&&n.eventLists_.push(t)})(n,t),function HP(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(e(o.path)?(X1(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Gi(r,e)||Gi(e,r))}function X1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();tc&&br("event: "+t.toString()),af(r)}}}class tF{constructor(e,t,r,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new J1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_w(),this.transactionQueueTree_=new IA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jP(n){const t=n.infoData_.getNode(new dn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function __(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:jP(n)})}function GP(n,e,t,r,o){n.dataUpdateCount++;const u=new dn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let d=[];if(o)if(r){const _=(0,U.UI)(t,v=>zn(v));d=function O1(n,e,t,r){const o=_A(n,r);if(o){const u=yA(o),d=u.path,p=u.queryId,_=Yr(d,e),v=Rn.fromObject(t);return vA(n,d,new ff(iA(p),_,v))}return[]}(n.serverSyncTree_,u,_,o)}else{const _=zn(t);d=function RP(n,e,t,r){const o=_A(n,r);if(null!=o){const u=yA(o),d=u.path,p=u.queryId,_=Yr(d,e);return vA(n,d,new sc(iA(p),_,t))}return[]}(n.serverSyncTree_,u,_,o)}else if(r){const _=(0,U.UI)(t,v=>zn(v));d=function x1(n,e,t){const r=Rn.fromObject(t);return gf(n,new ff({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,u,_)}else{const _=zn(t);d=c_(n.serverSyncTree_,u,_)}let p=u;d.length>0&&(p=_f(n,u)),Ti(n.eventQueue_,p,d)}function WP(n,e){MA(n,"connected",e),!1===e&&function oF(n){mf(n,"onDisconnectEvents");const e=__(n),t=_w();tA(n.onDisconnect_,rn(),(o,u)=>{const d=function(n,e,t,r){return bA(e,new CA(t,n),r)}(o,u,n.serverSyncTree_,e);hf(t,o,d)});let r=[];tA(t,rn(),(o,u)=>{r=r.concat(c_(n.serverSyncTree_,o,u));const d=function kA(n,e){const t=f_(KP(n,e)),r=Pw(n.transactionQueueTree_,e);return function W1(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,o=>{OA(n,o)}),OA(n,r),FP(r,o=>{OA(n,o)}),t}(n,o);_f(n,d)}),n.onDisconnect_=_w(),Ti(n.eventQueue_,rn(),r)}(n)}function MA(n,e,t){const r=new dn("/.info/"+e),o=zn(t);n.infoData_.updateSnapshot(r,o);const u=c_(n.infoSyncTree_,r,o);Ti(n.eventQueue_,r,u)}function Ow(n){return n.nextWriteId_++}function mf(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),br(t,...e)}function NA(n,e,t){return Rw(n.serverSyncTree_,e,t)||Nt.EMPTY_NODE}function Fw(n,e=n.transactionQueueTree_){if(e||Lw(n,e),lc(e)){const t=YP(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(o=>0===o.status)&&function fF(n,e,t){const r=t.map(v=>v.currentWriteId),o=NA(n,e,r);let u=o;const d=o.hash();for(let v=0;v<t.length;v++){const I=t[v];(0,U.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const D=Yr(e,I.path);u=u.updateChild(D,I.currentOutputSnapshotRaw)}const p=u.val(!0),_=e;n.server_.put(_.toString(),p,v=>{mf(n,"transaction put response",{path:_.toString(),status:v});let I=[];if("ok"===v){const D=[];for(let L=0;L<t.length;L++)t[L].status=2,I=I.concat(al(n.serverSyncTree_,t[L].currentWriteId)),t[L].onComplete&&D.push(()=>t[L].onComplete(null,!0,t[L].currentOutputSnapshotResolved)),t[L].unwatcher();Lw(n,Pw(n.transactionQueueTree_,e)),Fw(n,n.transactionQueueTree_),Ti(n.eventQueue_,e,I);for(let L=0;L<D.length;L++)af(D[L])}else{if("datastale"===v)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{Br("transaction at "+_.toString()+" failed: "+v);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=v}_f(n,e)}},d)}(n,f_(e),t)}else OP(e)&&xw(e,t=>{Fw(n,t)})}function _f(n,e){const t=KP(n,e),r=f_(t);return function pF(n,e,t){if(0===e.length)return;const r=[];let o=[];const d=e.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const _=e[p],v=Yr(t,_.path);let D,I=!1;if((0,U.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)I=!0,D=_.abortReason,o=o.concat(al(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)I=!0,D="maxretry",o=o.concat(al(n.serverSyncTree_,_.currentWriteId,!0));else{const L=NA(n,_.path,d);_.currentInputSnapshot=L;const q=e[p].update(L.val());if(void 0!==q){g_("transaction failed: Data returned ",q,_.path);let pe=zn(q);"object"==typeof q&&null!=q&&(0,U.r3)(q,".priority")||(pe=pe.updatePriority(L.getPriority()));const tt=_.currentWriteId,Mt=__(n),Kt=wA(pe,L,Mt);_.currentOutputSnapshotRaw=pe,_.currentOutputSnapshotResolved=Kt,_.currentWriteId=Ow(n),d.splice(d.indexOf(tt),1),o=o.concat(gA(n.serverSyncTree_,_.path,Kt,_.currentWriteId,_.applyLocally)),o=o.concat(al(n.serverSyncTree_,tt,!0))}else I=!0,D="nodata",o=o.concat(al(n.serverSyncTree_,_.currentWriteId,!0))}Ti(n.eventQueue_,t,o),o=[],I&&(e[p].status=2,setTimeout(e[p].unwatcher,Math.floor(0)),e[p].onComplete&&r.push("nodata"===D?()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot):()=>e[p].onComplete(new Error(D),!1,null)))}Lw(n,n.transactionQueueTree_);for(let p=0;p<r.length;p++)af(r[p]);Fw(n,n.transactionQueueTree_)}(n,YP(n,t),r),r}function KP(n,e){let t,r=n.transactionQueueTree_;for(t=Bt(e);null!==t&&void 0===lc(r);)r=Pw(r,t),t=Bt(e=bn(e));return r}function YP(n,e){const t=[];return ZP(n,e,t),t.sort((r,o)=>r.order-o.order),t}function ZP(n,e,t){const r=lc(e);if(r)for(let o=0;o<r.length;o++)t.push(r[o]);xw(e,o=>{ZP(n,o,t)})}function Lw(n,e){const t=lc(e);if(t){let r=0;for(let o=0;o<t.length;o++)2!==t[o].status&&(t[r]=t[o],r++);t.length=r,DA(e,t.length>0?t:void 0)}xw(e,r=>{Lw(n,r)})}function OA(n,e){const t=lc(e);if(t){const r=[];let o=[],u=-1;for(let d=0;d<t.length;d++)3===t[d].status||(1===t[d].status?((0,U.hu)(u===d-1,"All SENT items should be at beginning of queue."),u=d,t[d].status=3,t[d].abortReason="set"):((0,U.hu)(0===t[d].status,"Unexpected transaction status in abort"),t[d].unwatcher(),o=o.concat(al(n.serverSyncTree_,t[d].currentWriteId,!0)),t[d].onComplete&&r.push(t[d].onComplete.bind(null,new Error("set"),!1,null))));-1===u?DA(e,void 0):t.length=u+1,Ti(n.eventQueue_,f_(e),o);for(let d=0;d<r.length;d++)af(r[d])}}const FA=function(n,e){const t=_F(n),r=t.namespace;return"firebase.com"===t.domain&&Ws(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Br("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FT(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new dn(t.pathString)}},_F=function(n){let e="",t="",r="",o="",u="",d=!0,p="https",_=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(p=n.substring(0,v-1),n=n.substring(v+2));let I=n.indexOf("/");-1===I&&(I=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(I,D)),I<D&&(o=function gF(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let o=t[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}(n.substring(I,D)));const L=function mF(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Br(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));v=e.indexOf(":"),v>=0?(d="https"===p||"wss"===p,_=parseInt(e.substring(v+1),10)):v=e.length;const q=e.slice(0,v);if("localhost"===q.toLowerCase())t="localhost";else if(q.split(".").length<=2)t=q;else{const pe=e.indexOf(".");r=e.substring(0,pe).toLowerCase(),t=e.substring(pe+1),u=r}"ns"in L&&(u=L.ns)}return{host:e,port:_,domain:t,subdomain:r,secure:d,scheme:p,pathString:o,namespace:u}};class Ai{constructor(e,t,r,o){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=o}get key(){return Ht(this._path)?null:$T(this._path)}get ref(){return new ys(this._repo,this._path)}get _queryIdentifier(){const e=iP(this._queryParams),t=kT(e);return"{}"===t?"default":t}get _queryObject(){return iP(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof Ai))return!1;const t=this._repo===e._repo,r=jT(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function uO(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ys extends Ai{constructor(e,t){super(e,t,new QT,!1)}get parent(){const e=zM(this._path);return null===e?null:new ys(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function b1(n){(0,U.hu)(!Dw,"__referenceConstructor has already been defined"),Dw=n})(ys),function S1(n){(0,U.hu)(!Aw,"__referenceConstructor has already been defined"),Aw=n}(ys);const UA={};class LF{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function nF(n,e,t){if(n.stats_=VT(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new mw(n.repoInfo_,(r,o,u,d)=>{GP(n,r,o,u,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>WP(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ic(n.repoInfo_,e,(r,o,u,d)=>{GP(n,r,o,u,d)},r=>{WP(n,r)},r=>{!function rF(n,e){Ir(e,(t,r)=>{MA(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Hk(n,e){const t=n.toString();return UT[t]||(UT[t]=e()),UT[t]}(n.repoInfo_,()=>new HO(n.stats_,n.server_)),n.infoData_=new FO,n.infoSyncTree_=new SP({startListening:(r,o,u,d)=>{let p=[];const _=n.infoData_.getNode(r._path);return _.isEmpty()||(p=c_(n.infoSyncTree_,r._path,_),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),MA(n,"connected",!1),n.serverSyncTree_=new SP({startListening:(r,o,u,d)=>(n.server_.listen(r,u,o,(p,_)=>{const v=d(p,_);Ti(n.eventQueue_,r._path,v)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ys(this._repo,rn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kF(n,e){const t=UA[e];(!t||t[n.key]!==n)&&Ws(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function qP(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ws("Cannot call "+e+" on a deleted database.")}}function UF(n=(0,un.getApp)(),e){const t=(0,un._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,U.P0)("database");r&&function VF(n,e,t,r={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ws("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let u;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ws('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Jm(Jm.OWNER);else if(r.mockUserToken){const d="string"==typeof r.mockUserToken?r.mockUserToken:(0,U.Sg)(r.mockUserToken,n.app.options.projectId);u=new Jm(d)}!function xF(n,e,t,r){n.repoInfo_=new FT(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(o,e,t,u)}(t,...r)}return t}ic.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},ic.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function BF(n){(function Ik(n){PT=n})(un.SDK_VERSION),(0,un._registerComponent)(new hs.wA("database",(e,{instanceIdentifier:t})=>function NF(n,e,t,r,o){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||Ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),br("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,v,d=FA(u,o),p=d.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(_=!0,u=`http://${v}?ns=${p.namespace}`,d=FA(u,o),p=d.repoInfo):_=!d.repoInfo.secure;const I=o&&_?new Jm(Jm.OWNER):new Uk(n.name,n.options,e);VP("Invalid Firebase Database URL",d),Ht(d.path)||Ws("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function OF(n,e,t,r){let o=UA[e.name];o||(o={},UA[e.name]=o);let u=o[n.toURLString()];return u&&Ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new tF(n,!1,t,r),o[n.toURLString()]=u,u}(p,n,I,new Lk(n.name,t));return new LF(D,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(lM,"0.14.4",n),(0,un.registerVersion)(lM,"0.14.4","esm2017")}();class Hw{constructor(e){return e}}const sx="database",VA=new f.OlP("angularfire2.database-instances");function WF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Hw(r)}}const zF={provide:class jF{constructor(){return(0,Ft.vb)(sx)}},deps:[[new f.FiY,VA]]},qF={provide:Hw,useFactory:function GF(n,e){const t=(0,Ft.JM)(sx,n,e);return t&&new Hw(t)},deps:[[new f.FiY,VA],$s]};let KF=(()=>{class n{constructor(){(0,Vi.KN)("angularfire",Ft.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[qF,zF]}),n})();function YF(n,...e){return{ngModule:KF,providers:[{provide:VA,useFactory:WF(n),multi:!0,deps:[f.R0b,f.zs3,Ft.HU,uh,[new f.FiY,ow],[new f.FiY,Ou],...e]}]}}const ZF=(0,Ft.u3)(UF,!0);class ox{}class ax{}class Yo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(p=>-1===u.indexOf(p)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class QF{encodeKey(e){return lx(e)}encodeValue(e){return lx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const XF=/%(\d[a-f0-9])/gi,eL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lx(n){return encodeURIComponent(n).replace(XF,(e,t)=>eL[t]??e)}function $w(n){return`${n}`}class cl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new QF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JF(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,p]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],_=t.get(d)||[];_.push(p),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map($w):[$w(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($w(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf($w(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ux(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cx(n){return typeof Blob<"u"&&n instanceof Blob}function dx(n){return typeof FormData<"u"&&n instanceof FormData}class E_{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function nL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Yo),this.context||(this.context=new tL),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+d}}else this.params=new cl,this.urlWithParams=t}serializeBody(){return null===this.body?null:ux(this.body)||cx(this.body)||dx(this.body)||function rL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dx(this.body)?null:cx(this.body)?this.body.type||null:ux(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,v=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((D,L)=>D.set(L,e.setHeaders[L]),_)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,L)=>D.set(L,e.setParams[L]),v)),new E_(t,r,u,{params:v,headers:_,context:I,reportProgress:p,responseType:o,withCredentials:d})}}var cr=(()=>((cr=cr||{})[cr.Sent=0]="Sent",cr[cr.UploadProgress=1]="UploadProgress",cr[cr.ResponseHeader=2]="ResponseHeader",cr[cr.DownloadProgress=3]="DownloadProgress",cr[cr.Response=4]="Response",cr[cr.User=5]="User",cr))();class BA{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HA extends BA{constructor(e={}){super(e),this.type=cr.ResponseHeader}clone(e={}){return new HA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jw extends BA{constructor(e={}){super(e),this.type=cr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hx extends BA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $A(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fx=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof E_)u=t;else{let _,v;_=o.headers instanceof Yo?o.headers:new Yo(o.headers),o.params&&(v=o.params instanceof cl?o.params:new cl({fromObject:o.params})),u=new E_(t,r,void 0!==o.body?o.body:null,{headers:_,context:o.context,params:v,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=ct(u).pipe(Ds(_=>this.handler.handle(_)));if(t instanceof E_||"events"===o.observe)return d;const p=d.pipe(jr(_=>_ instanceof jw));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return p.pipe((0,Ut.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,Ut.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,Ut.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,Ut.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new cl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,$A(o,r))}post(t,r,o={}){return this.request("POST",t,$A(o,r))}put(t,r,o={}){return this.request("PUT",t,$A(o,r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ox))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class px{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gx=new f.OlP("HTTP_INTERCEPTORS");let iL=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const sL=/^\)\]\}',?\n/;let mx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Is.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((q,pe)=>o.setRequestHeader(q,pe.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&o.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();o.responseType="json"!==q?q:"text"}const u=t.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const q=o.statusText||"OK",pe=new Yo(o.getAllResponseHeaders()),Xe=function oL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new HA({headers:pe,status:o.status,statusText:q,url:Xe}),d},_=()=>{let{headers:q,status:pe,statusText:Xe,url:tt}=p(),Mt=null;204!==pe&&(Mt=typeof o.response>"u"?o.responseText:o.response),0===pe&&(pe=Mt?200:0);let Kt=pe>=200&&pe<300;if("json"===t.responseType&&"string"==typeof Mt){const tn=Mt;Mt=Mt.replace(sL,"");try{Mt=""!==Mt?JSON.parse(Mt):null}catch(vn){Mt=tn,Kt&&(Kt=!1,Mt={error:vn,text:Mt})}}Kt?(r.next(new jw({body:Mt,headers:q,status:pe,statusText:Xe,url:tt||void 0})),r.complete()):r.error(new hx({error:Mt,headers:q,status:pe,statusText:Xe,url:tt||void 0}))},v=q=>{const{url:pe}=p(),Xe=new hx({error:q,status:o.status||0,statusText:o.statusText||"Unknown Error",url:pe||void 0});r.error(Xe)};let I=!1;const D=q=>{I||(r.next(p()),I=!0);let pe={type:cr.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(pe.total=q.total),"text"===t.responseType&&!!o.responseText&&(pe.partialText=o.responseText),r.next(pe)},L=q=>{let pe={type:cr.UploadProgress,loaded:q.loaded};q.lengthComputable&&(pe.total=q.total),r.next(pe)};return o.addEventListener("load",_),o.addEventListener("error",v),o.addEventListener("timeout",v),o.addEventListener("abort",v),t.reportProgress&&(o.addEventListener("progress",D),null!==u&&o.upload&&o.upload.addEventListener("progress",L)),o.send(u),r.next({type:cr.Sent}),()=>{o.removeEventListener("error",v),o.removeEventListener("abort",v),o.removeEventListener("load",_),o.removeEventListener("timeout",v),t.reportProgress&&(o.removeEventListener("progress",D),null!==u&&o.upload&&o.upload.removeEventListener("progress",L)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(El))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const jA=new f.OlP("XSRF_COOKIE_NAME"),GA=new f.OlP("XSRF_HEADER_NAME");class _x{}let aL=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=hi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z),f.LFG(f.Lbi),f.LFG(jA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),WA=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(_x),f.LFG(GA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),lL=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(gx,[]);this.chain=r.reduceRight((o,u)=>new px(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ax),f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),uL=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:WA,useClass:iL}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:jA,useValue:t.cookieName}:[],t.headerName?{provide:GA,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[WA,{provide:gx,useExisting:WA,multi:!0},{provide:_x,useClass:aL},{provide:jA,useValue:"XSRF-TOKEN"},{provide:GA,useValue:"X-XSRF-TOKEN"}]}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[fx,{provide:ox,useClass:lL},mx,{provide:ax,useExisting:mx}],imports:[uL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),zA=(()=>{class n{constructor(t,r,o){this.fb=t,this.database=r,this.http=o,this.databaseURL="",this.databaseURL=this.database.app.options.databaseURL}createShop(t){this.http.post(`${this.databaseURL}/shops.json`,t).subscribe()}createProduct(t){this.http.post(`${this.databaseURL}/products.json`,t).subscribe()}getShops(){return this.http.get(`${this.databaseURL}/shops.json`)}getProducts(){return this.http.get(`${this.databaseURL}/products.json`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Po),f.LFG(Hw),f.LFG(fx))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dL(n,e){1&n&&(f.TgZ(0,"span",17),f._uU(1," uploading ... "),f.qZA())}function hL(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"form",7),f.NdJ("ngSubmit",function(){f.CHM(t);const o=f.oxw();return f.KtG(o.createShop())}),f.TgZ(1,"div",8)(2,"label",9),f._uU(3,"Shop Name"),f.qZA(),f._UZ(4,"input",10),f.qZA(),f.TgZ(5,"div",8)(6,"label",11),f._uU(7,"shop logo"),f.qZA(),f.TgZ(8,"input",12),f.NdJ("change",function(o){f.CHM(t);const u=f.oxw();return f.KtG(u.uploadImg(o))}),f.qZA(),f.YNc(9,dL,2,0,"span",13),f.TgZ(10,"span"),f._UZ(11,"img",14),f.qZA()(),f.TgZ(12,"div",15)(13,"button",16),f._uU(14,"create shop"),f.qZA()()()}if(2&n){const t=f.oxw();f.Q6J("formGroup",t.shop),f.xp6(9),f.Q6J("ngIf",t.uploading),f.xp6(2),f.s9C("src",t.logo,f.LSH)}}function fL(n,e){1&n&&(f.TgZ(0,"span",17),f._uU(1," uploading ... "),f.qZA())}function pL(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"form",18),f.NdJ("ngSubmit",function(){f.CHM(t);const o=f.oxw();return f.KtG(o.createProduct())}),f.TgZ(1,"div",8)(2,"label",19),f._uU(3,"product Photo"),f.qZA(),f.TgZ(4,"span"),f._UZ(5,"img",14),f.qZA(),f.TgZ(6,"input",20),f.NdJ("change",function(o){f.CHM(t);const u=f.oxw();return f.KtG(u.uploadProductsImg(o))}),f.qZA(),f.YNc(7,fL,2,0,"span",13),f.qZA(),f.TgZ(8,"div",8)(9,"label",21),f._uU(10,"type"),f.qZA(),f._UZ(11,"input",22),f.qZA(),f.TgZ(12,"div",8)(13,"label",23),f._uU(14,"price"),f.qZA(),f._UZ(15,"input",24),f.qZA(),f.TgZ(16,"div",8)(17,"label",25),f._uU(18,"details"),f.qZA(),f._UZ(19,"input",26),f.qZA(),f.TgZ(20,"div",8)(21,"label",27),f._uU(22,"gender"),f.qZA(),f._UZ(23,"input",28),f.qZA(),f.TgZ(24,"div",8)(25,"label",9),f._uU(26,"Shop Name"),f.qZA(),f._UZ(27,"input",10),f.qZA(),f.TgZ(28,"div",8)(29,"p"),f._uU(30,"offer : "),f.qZA(),f.TgZ(31,"label",29),f._uU(32," yes : "),f.qZA(),f.TgZ(33,"input",30),f.NdJ("click",function(){f.CHM(t);const o=f.oxw();return f.KtG(o.setOffer("yes"))}),f.qZA(),f.TgZ(34,"label",31),f._uU(35," No : "),f.qZA(),f.TgZ(36,"input",32),f.NdJ("click",function(){f.CHM(t);const o=f.oxw();return f.KtG(o.setOffer("no"))}),f.qZA()(),f.TgZ(37,"div",15)(38,"button",16),f._uU(39,"add product"),f.qZA()()()}if(2&n){const t=f.oxw();f.Q6J("formGroup",t.product),f.xp6(5),f.s9C("src",t.productPhoto,f.LSH),f.xp6(2),f.Q6J("ngIf",t.uploading)}}let gL=(()=>{class n{constructor(t,r,o){this.fb=t,this.firestorage=r,this.dataServ=o,this.uploading=!1,this.logo="",this.productPhoto="",this.shop=this.fb.group({shopName:["",wo.required],logo:[""]}),this.product=this.fb.group({productPhoto:[""],type:["",wo.required],price:["",wo.required],details:["",wo.required],shopName:["",wo.required],offer:[""],gender:["",wo.required]}),this.showForm1=!0}ngOnInit(){}uploadImg(t){var r=this;return(0,qe.Z)(function*(){r.uploading=!0;let o=new Date;const u=t.target.files[0];if(u){const d=`shops/${u.name}${o.toLocaleString().split("/").join("-")}`,_=yield(yield r.firestorage.upload(d,u)).ref.getDownloadURL();r.logo=_}r.uploading=!1})()}uploadProductsImg(t){var r=this;return(0,qe.Z)(function*(){r.uploading=!0;let o=new Date;const u=t.target.files[0];if(u){const d=`products/${u.name}${o.toLocaleString().split("/").join("-")}`,_=yield(yield r.firestorage.upload(d,u)).ref.getDownloadURL();r.productPhoto=_}r.uploading=!1})()}createShop(){this.shop.patchValue({logo:this.logo}),this.shop.valid&&this.dataServ.createShop(this.shop.value)}setOffer(t){this.product.patchValue({offer:t})}createProduct(){this.product.patchValue({productPhoto:this.productPhoto}),this.product.valid&&(this.dataServ.createProduct(this.product.value),console.log(this.product.value))}show(t){this.showForm1="formShop"==t}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Po),f.Y36(Rh),f.Y36(zA))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-dash-board"]],decls:11,vars:2,consts:[[1,"col-12"],[1,"left-side"],["routerLink","",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-primary",3,"click"],["id","form1",1,"right-side"],["class","card p-2",3,"formGroup","ngSubmit",4,"ngIf"],["class","card p-2","id","form2",3,"formGroup","ngSubmit",4,"ngIf"],[1,"card","p-2",3,"formGroup","ngSubmit"],[1,"form-group"],["for","shopName"],["type","text","id","shopName","aria-describedby","...","formControlName","shopName",1,"form-control"],["for","logo"],["type","file","id","logo",1,"form-control",3,"change"],["class","text-warning",4,"ngIf"],["alt","",1,"logo-photo",3,"src"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],[1,"text-warning"],["id","form2",1,"card","p-2",3,"formGroup","ngSubmit"],["for","productPhoto"],["type","file","id","productPhoto","aria-describedby","...",1,"form-control",3,"change"],["for","type"],["type","text","id","type","aria-describedby","...","formControlName","type",1,"form-control"],["for","price"],["type","text","id","price","aria-describedby","...","formControlName","price",1,"form-control"],["for","details"],["type","text","id","details","aria-describedby","...","formControlName","details",1,"form-control"],["for","gender"],["type","text","id","gender","aria-describedby","...","formControlName","gender",1,"form-control"],["for","offerYes",1,"m-2","text-success"],["type","radio","name","offerValue","value","true","id","offerYes",3,"click"],["for","offerNo",1,"m-2","text-danger"],["type","radio","name","offerValue","value","false","id","offerNo",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"button",2),f._uU(3,"Home"),f.qZA(),f.TgZ(4,"button",3),f.NdJ("click",function(){return r.show("formShop")}),f._uU(5,"add shop"),f.qZA(),f.TgZ(6,"button",3),f.NdJ("click",function(){return r.show("formProducts")}),f._uU(7,"add products"),f.qZA()(),f.TgZ(8,"div",4),f.YNc(9,hL,15,3,"form",5),f.YNc(10,pL,40,3,"form",6),f.qZA()()),2&t&&(f.xp6(9),f.Q6J("ngIf",r.showForm1),f.xp6(1),f.Q6J("ngIf",!r.showForm1))},dependencies:[Wt,eu,Hd,Sd,gv,yI,ii,sg],styles:["@media screen and (max-width: 600px){div.col-12[_ngcontent-%COMP%]{padding:0}div[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;height:auto;padding:10px}div[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:0}div[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:100%;padding:5px 5px 150px;font-size:16px}}.left-side[_ngcontent-%COMP%]{width:28%;background-color:#f0f8ff;float:left;height:100vh;margin-right:1%;padding-top:40vh}.left-side[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:98%;margin-left:1%;margin-bottom:20px;text-transform:capitalize}.right-side[_ngcontent-%COMP%]{width:70%;float:left}form[_ngcontent-%COMP%]{margin:25px 0}button[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{text-transform:capitalize}.logo-photo[_ngcontent-%COMP%]{width:80px;margin:7px;border-radius:10px}"]}),n})();var yx=T(7123);const mL=function(n){return{"animation-play-state":n}};let vx=(()=>{class n{constructor(t){this.route=t,this.stopped=!1,this.dash="dash"}ngOnInit(){yx.init()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(er))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home"]],decls:17,vars:3,consts:[[1,"container","content"],["data-aos","fade-down","data-aos-duration","2500",1,"col-12","store"],["data-aos","fade-down","data-aos-duration","1500",1,"col-12","store"],[1,"col-sm-4"],["src","assets/fashions-2.jpg","alt","",1,"rotated-img",3,"ngStyle"],["src","assets/fashions-2.jpg","alt","",1,"standalone-img"],[1,"categories","col-sm-8"],["routerLink","shops/women","data-aos","zoom-in","data-aos-duration","1000",1,"col-sm-4"],["src","assets/women (1).jpg","alt","",1,"category-img"],[1,"title","women"],["routerLink","shops/men","data-aos","zoom-in","data-aos-duration","1000",1,"col-sm-4"],["src","assets/men.jpg","alt","",1,"category-img"],[1,"title","men"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"h1",1),f._uU(2,"\u0627\u0644\u0645\u062a\u062c\u0631"),f.qZA(),f.TgZ(3,"h2",2),f._uU(4,".\u0627\u0647\u0644\u0627 \u0628\u0643 \u0641\u064a \u0645\u0648\u0642\u0639\u0646\u0627 \u060c \u064a\u0645\u0643\u0646\u0643 \u0634\u0631\u0627\u0621 \u0645\u0646\u062c\u0627\u062a\u0643 \u0628\u0643\u0644 \u0627\u0631\u064a\u0627\u062d\u064a\u0629"),f.qZA(),f.TgZ(5,"div",3),f._UZ(6,"img",4)(7,"img",5),f.qZA(),f.TgZ(8,"div",6)(9,"a",7),f._UZ(10,"img",8),f.TgZ(11,"p",9),f._uU(12,"\u0633\u064a\u062f\u0627\u062a"),f.qZA()(),f.TgZ(13,"a",10),f._UZ(14,"img",11),f.TgZ(15,"p",12),f._uU(16,"\u0631\u062c\u0627\u0644\u064a"),f.qZA()()()()),2&t&&(f.xp6(6),f.Q6J("ngStyle",f.VKq(1,mL,r.stopped?"paused":"running")))},dependencies:[Ke,Ia],styles:["[class*=col-][_ngcontent-%COMP%]{box-sizing:border-box;float:left}@media screen and (max-width: 600px){[class*=col-][_ngcontent-%COMP%]{width:100%}div.content[_ngcontent-%COMP%]{padding-bottom:250px}div[_ngcontent-%COMP%]   .store[_ngcontent-%COMP%]{text-align:center;font-size:23px}div[_ngcontent-%COMP%]   h2.store[_ngcontent-%COMP%]{text-align:center;font-size:18px}div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{left:0;margin-bottom:20px;margin-top:5%}div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .standalone-img[_ngcontent-%COMP%]{margin-left:20%;margin-bottom:70px;margin-top:27%}div[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{display:block}}.promo_mobile[_ngcontent-%COMP%], .welcome-text-mob[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;perspective:600px;background-size:cover}.store[_ngcontent-%COMP%]{position:relative;color:#000;font-family:Lemonada,cursive;margin-bottom:20px;text-align:center;font-size:30px;text-shadow:0px 7px 5px black;margin-top:50px}h2.store[_ngcontent-%COMP%]{margin-top:20px;text-shadow:none;font-size:22px}.categories[_ngcontent-%COMP%]{display:flex;justify-content:center}.standalone-img[_ngcontent-%COMP%], .rotated-img[_ngcontent-%COMP%]{height:300px;width:90%;margin-left:47%;margin-top:50px;border-radius:5px;animation-name:zooming;animation-duration:2s;animation-iteration-count:infinite;animation-direction:alternate;z-index:-1}.rotated-img[_ngcontent-%COMP%]{position:absolute;height:410px;margin-top:-15px;margin-left:10px;top:0;left:16%;animation-name:as;animation-duration:2s;animation-direction:normal;z-index:-1;width:100%}@keyframes zooming{0%{transform:scale(1.1)}to{transform:scale(1.2)}}@keyframes rotated{0%{transform:rotate(0)}10%{transform:rotate(0)}20%{transform:rotate(0)}30%{transform:rotate(0)}40%{transform:rotate(0)}50%{transform:rotate(0)}60%{transform:rotate(0)}70%{transform:rotate(340deg)}80%{transform:rotate(700deg)}90%{transform:rotate(1060deg)}to{transform:rotate(1400deg)}}.category-img[_ngcontent-%COMP%]{width:100%;height:155px;border-radius:10px 60px;margin-top:20px;transition:.5s;border:none}.category-img[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #000;filter:brightness(60%);transform:translate(20px)}.title[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px;padding:5px;color:#000;text-transform:capitalize;bottom:0;transition:1s;right:0;width:100%;text-align:center;font-family:Lemonada,cursive}"]}),n})();function _L(n,e){if(1&n&&(f.TgZ(0,"div",2)(1,"a",3)(2,"div",4),f._UZ(3,"img",5),f.TgZ(4,"p",6),f._uU(5),f.qZA()()()()),2&n){const t=e.$implicit;f.xp6(1),f.s9C("routerLink",t.shopName),f.xp6(2),f.Q6J("src",t.logo,f.LSH),f.xp6(2),f.Oqu(t.shopName)}}let yL=(()=>{class n{constructor(t,r){this.dataServ=t,this.route=r,this.shops=[],this.productsType="",t.getShops().subscribe(o=>{for(const u in o)this.shops.push(o[u])})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(zA),f.Y36(er))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-shops"]],decls:2,vars:1,consts:[[1,"col-12"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[3,"routerLink"],[1,"card"],["alt","logo",3,"src"],[1,"details","text-info"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.YNc(1,_L,6,3,"div",1),f.qZA()),2&t&&(f.xp6(1),f.Q6J("ngForOf",r.shops))},dependencies:[vr,Ia],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;transition:.5s;scroll-behavior:smooth}[class*=col-][_ngcontent-%COMP%]{float:left}.col-sm-3[_ngcontent-%COMP%]{padding:15px}.col-12[_ngcontent-%COMP%]{padding-bottom:150px}img[_ngcontent-%COMP%]{height:250px;width:100%}.details[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:600;font-size:23px}"]}),n})();function vL(n,e){if(1&n&&(f.TgZ(0,"div",3)(1,"div",4),f._UZ(2,"img",5),f.TgZ(3,"p",6),f._uU(4),f.qZA(),f.TgZ(5,"p",7),f._uU(6),f.qZA(),f.TgZ(7,"div",8)(8,"button",9),f._uU(9,"Buy"),f.qZA()()()()),2&n){const t=e.$implicit;f.xp6(2),f.Q6J("src",t.productPhoto,f.LSH),f.xp6(2),f.Oqu(t.price),f.xp6(2),f.Oqu(t.details)}}const EL=[{path:"",component:vx},{path:"home",component:vx},{path:"shops/:id",component:(()=>{class n{constructor(t){this.route=t,this.src_clothes="",this.src_shoes=""}ngOnInit(){window.scrollTo({top:0,left:0}),"men"==this.route.url.split("/")[2]?(this.src_clothes="assets/man.jpg",this.src_shoes="assets/menshoes6.jpg"):(this.src_clothes="assets/women.jpg",this.src_shoes="assets/f-shoes2.jpg"),yx.init()}router(t){this.route.navigate([`${this.route.url}/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(er))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-category"]],decls:14,vars:2,consts:[[1,"view"],[1,"col-12","content"],["data-aos","fade-down","data-aos-duration","1000",1,"col-sm-3","text-center",3,"click"],["alt","man",3,"src"],["routerLink","/clothes",1,"clothes"],["data-aos","fade-down","data-aos-duration","2000",1,"col-sm-3","text-center"],["alt","man",3,"src","click"],["routerLink","/shoes",1,"clothes"],["data-aos","fade-down","data-aos-duration","3000",1,"col-sm-3","text-center"],["src","assets/offer.jpg","alt","man",3,"click"],["routerLink","/offer",1,"clothes"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return r.router("clothes")}),f._UZ(3,"img",3),f.TgZ(4,"a",4),f._uU(5," \u0645\u0644\u0627\u0628\u0633"),f.qZA()(),f.TgZ(6,"div",5)(7,"img",6),f.NdJ("click",function(){return r.router("shoes")}),f.qZA(),f.TgZ(8,"a",7),f._uU(9," \u0627\u062d\u0630\u064a\u0629"),f.qZA()(),f.TgZ(10,"div",8)(11,"img",9),f.NdJ("click",function(){return r.router("offer")}),f.qZA(),f.TgZ(12,"a",10),f._uU(13," \u0639\u0631\u0648\u0636"),f.qZA()()()()),2&t&&(f.xp6(3),f.Q6J("src",r.src_clothes,f.LSH),f.xp6(4),f.Q6J("src",r.src_shoes,f.LSH))},dependencies:[Ia],styles:["@media screen and (max-width: 650px){div.view[_ngcontent-%COMP%]{background-size:100%;background:none}div[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:auto;padding-bottom:150px}}.view[_ngcontent-%COMP%]{background-image:url(category2.2139065a2f07a57f.jpg);background-size:cover;background-attachment:fixed;height:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;perspective:600px;height:100vh;padding-top:30px}.col-sm-3[_ngcontent-%COMP%]{margin-bottom:30px}img[_ngcontent-%COMP%]{width:100%;height:250px;border-radius:0% 20%;transition:.3s;margin-bottom:15px}img[_ngcontent-%COMP%]:hover{box-shadow:2px 4px 6px #000;filter:brightness(60%);transform:translate(20px)}a[_ngcontent-%COMP%]{color:#fff;font-size:21px;font-weight:600;text-shadow:0px 0px 5px black;padding-top:15px;text-transform:capitalize;font-family:Lemonada,cursive}"]}),n})()},{path:"shops/:id/:id",component:yL},{path:"shops/:id/:id/:id",component:(()=>{class n{constructor(t,r){this.route=t,this.dataServ=r,this.products=[],this.link=this.route.url.split("/"),console.log(this.link),r.getProducts().subscribe(o=>{for(const u in o)"offer"==this.link[3]?"yes"==o[u].offer&&o[u].gender==this.link[2]&&o[u].shopName==this.link[4]&&this.products.push(o[u]):o[u].gender==this.link[2]&&o[u].type==this.link[3]&&o[u].shopName==this.link[4]&&this.products.push(o[u])})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(er),f.Y36(zA))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-shops-products"]],decls:3,vars:1,consts:[[1,"col-12"],[1,"container"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[1,"card"],["alt","logo",3,"src"],[1,"details","text-info"],[1,"details"],[1,"div-btn-buy"],[1,"btn"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,vL,10,3,"div",2),f.qZA()()),2&t&&(f.xp6(2),f.Q6J("ngForOf",r.products))},dependencies:[vr],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box;transition:.5s;scroll-behavior:smooth}[class*=col-][_ngcontent-%COMP%]{float:left}@media screen and (max-width: 600px){div.col-12[_ngcontent-%COMP%]{padding-bottom:250px}}.container[_ngcontent-%COMP%]{height:100%}.col-sm-3[_ngcontent-%COMP%]{padding:15px 25px}.card[_ngcontent-%COMP%]{border-radius:10px}img[_ngcontent-%COMP%]{height:210px;width:100%;border-radius:10px 10px 0 0/10px 10px 0px 0px}.details[_ngcontent-%COMP%]{text-align:center;padding:0 5px;font-weight:600;font-size:21px}.div-btn-buy[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn[_ngcontent-%COMP%]{position:relative;min-width:100px;width:100%;color:#fff;font-weight:600;font-size:18px;padding:8px;border-radius:15px 15px 0 0/15px 15px 0px 0px;margin-bottom:5px;z-index:1;background-color:#474541;border:none}.div-btn-buy[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{position:absolute;content:"";bottom:0;left:0;width:0%;height:100%;padding-top:7px;z-index:-2;transition:.5s}.div-btn-buy[_ngcontent-%COMP%]:hover   .btn[_ngcontent-%COMP%]:before{width:100%;border-radius:15px 15px 0 0/15px 15px 0px 0px;background-color:red}']}),n})()},{path:"dash",component:gL}];let CL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[xs.forRoot(EL,{useHash:!0}),xs]}),n})(),wL=(()=>{class n{constructor(){this.title="web-task"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[ky]}),n})();const qA={firebase:{projectId:"small-ltask",appId:"1:810365626472:web:a3dbcc4b34233fc9dd73dd",databaseURL:"https://small-ltask-default-rtdb.firebaseio.com",storageBucket:"small-ltask.appspot.com",locationId:"us-central",apiKey:"AIzaSyDCrzXdoyRmJeIWe9qt5zZke5LqGOkAv24",authDomain:"small-ltask.firebaseapp.com",messagingSenderId:"810365626472",measurementId:"G-RP0RWLVJY6"},production:!0};class KA{constructor(e){return e}}const Ex="storage",YA=new f.OlP("angularfire2.storage-instances");function DL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new KA(r)}}const TL={provide:class bL{constructor(){return(0,Ft.vb)(Ex)}},deps:[[new f.FiY,YA]]},AL={provide:KA,useFactory:function IL(n,e){const t=(0,Ft.JM)(Ex,n,e);return t&&new KA(t)},deps:[[new f.FiY,YA],$s]};let Cx=(()=>{class n{constructor(){(0,Vi.KN)("angularfire",Ft.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[AL,TL]}),n})();function SL(n,...e){return{ngModule:Cx,providers:[{provide:YA,useFactory:DL(n),multi:!0,deps:[f.R0b,f.zs3,Ft.HU,uh,[new f.FiY,ow],[new f.FiY,Ou],...e]}]}}const RL=(0,Ft.u3)(I0,!0);var ML=T(4880);class ZA{constructor(e){return e}}const wx="remote-config",QA=new f.OlP("angularfire2.remote-config-instances");function NL(n){return(e,t)=>{if(!Ft._J.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new ZA(r)}}const kL={provide:class PL{constructor(){return(0,Ft.vb)(wx)}},deps:[[new f.FiY,QA]]},OL={provide:ZA,useFactory:function xL(n,e){if(!Ft._J.sync())return null;const t=(0,Ft.JM)(wx,n,e);return t&&new ZA(t)},deps:[[new f.FiY,QA],$s]};let FL=(()=>{class n{constructor(){(0,Vi.KN)("angularfire",Ft.q4.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[OL,kL,{provide:f.ip1,useValue:Ft._J.async,multi:!0}]}),n})();function LL(n,...e){return{ngModule:FL,providers:[{provide:QA,useFactory:NL(n),multi:!0,deps:[f.R0b,f.zs3,Ft.HU,uh,...e]}]}}const UL=(0,Ft.u3)(ML.sN,!0),XA="functions";class jL{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||t.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r.get().then(o=>this.appCheck=o,()=>{})}getAuthToken(){var e=this;return(0,qe.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,qe.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return(0,qe.Z)(function*(){if(t.appCheck){const r=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var t=this;return(0,qe.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const eS="us-central1";class WL{constructor(e,t,r,o,u=eS,d){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new jL(t,r,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin,this.region=eS}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const Tx="@firebase/functions";function tU(n=(0,un.getApp)(),e=eS){const r=(0,un._getProvider)((0,U.m9)(n),XA).getImmediate({identifier:e}),o=(0,U.P0)("functions");return o&&function nU(n,e,t){!function zL(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,U.m9)(n),e,t)}(r,...o),r}!function eU(n,e){(0,un._registerComponent)(new hs.wA(XA,(r,{instanceIdentifier:o})=>{const u=r.getProvider("app").getImmediate(),d=r.getProvider("auth-internal"),p=r.getProvider("messaging-internal"),_=r.getProvider("app-check-internal");return new WL(u,d,p,_,o,n)},"PUBLIC").setMultipleInstances(!0)),(0,un.registerVersion)(Tx,"0.10.0",e),(0,un.registerVersion)(Tx,"0.10.0","esm2017")}(fetch.bind(self));class rS{constructor(e){return e}}const Sx="functions",iS=new f.OlP("angularfire2.functions-instances");function sU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rS(r)}}const oU={provide:class rU{constructor(){return(0,Ft.vb)(Sx)}},deps:[[new f.FiY,iS]]},aU={provide:rS,useFactory:function iU(n,e){const t=(0,Ft.JM)(Sx,n,e);return t&&new rS(t)},deps:[[new f.FiY,iS],$s]};let lU=(()=>{class n{constructor(){(0,Vi.KN)("angularfire",Ft.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[aU,oU]}),n})();function uU(n,...e){return{ngModule:lU,providers:[{provide:iS,useFactory:sU(n),multi:!0,deps:[f.R0b,f.zs3,Ft.HU,uh,[new f.FiY,ow],[new f.FiY,Ou],...e]}]}}const cU=(0,Ft.u3)(tU,!0);let dU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[wL]}),n.\u0275inj=f.cJS({providers:[{provide:xo.Dh,useValue:qA.firebase},{provide:ke,useClass:be}],imports:[aa,CL,ka,So,cL,Mu(()=>x0(qA.firebase)),YF(()=>ZF()),SL(()=>RL()),LL(()=>UL()),uU(()=>cU()),Cx,xo.hO,fD]}),n})();qA.production&&(0,f.G48)(),ey().bootstrapModule(dU).catch(n=>console.error(n))},7123:function(ot){ot.exports=function(me){function T(O){if(f[O])return f[O].exports;var H=f[O]={exports:{},id:O,loaded:!1};return me[O].call(H.exports,H,H.exports,T),H.loaded=!0,H.exports}var f={};return T.m=me,T.c=f,T.p="dist/",T(0)}([function(me,T,f){"use strict";function O(we){return we&&we.__esModule?we:{default:we}}var H=Object.assign||function(we){for(var nt=1;nt<arguments.length;nt++){var Ge=arguments[nt];for(var dt in Ge)Object.prototype.hasOwnProperty.call(Ge,dt)&&(we[dt]=Ge[dt])}return we},se=(O(f(1)),f(6)),ne=O(se),le=O(f(7)),R=O(f(8)),z=O(f(9)),ae=O(f(10)),xe=O(f(11)),Te=O(f(14)),We=[],be=!1,ue={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ve=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(be=!0),be)return We=(0,xe.default)(We,ue),(0,ae.default)(We,ue.once),We},K=function(){We=(0,Te.default)(),ve()};me.exports={init:function(we){ue=H(ue,we),We=(0,Te.default)();var nt=document.all&&!window.atob;return function(we){return!0===we||"mobile"===we&&z.default.mobile()||"phone"===we&&z.default.phone()||"tablet"===we&&z.default.tablet()||"function"==typeof we&&!0===we()}(ue.disable)||nt?void We.forEach(function(we,nt){we.node.removeAttribute("data-aos"),we.node.removeAttribute("data-aos-easing"),we.node.removeAttribute("data-aos-duration"),we.node.removeAttribute("data-aos-delay")}):(ue.disableMutationObserver||R.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),ue.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",ue.easing),document.querySelector("body").setAttribute("data-aos-duration",ue.duration),document.querySelector("body").setAttribute("data-aos-delay",ue.delay),"DOMContentLoaded"===ue.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ve(!0):"load"===ue.startEvent?window.addEventListener(ue.startEvent,function(){ve(!0)}):document.addEventListener(ue.startEvent,function(){ve(!0)}),window.addEventListener("resize",(0,le.default)(ve,ue.debounceDelay,!0)),window.addEventListener("orientationchange",(0,le.default)(ve,ue.debounceDelay,!0)),window.addEventListener("scroll",(0,ne.default)(function(){(0,ae.default)(We,ue.once)},ue.throttleDelay)),ue.disableMutationObserver||R.default.ready("[data-aos]",K),We)},refresh:ve,refreshHard:K}},function(me,T){},,,,,function(me,T){(function(f){"use strict";function O(B,he,we){function nt(ut){var wt=X,Et=de;return X=de=void 0,Ye=ut,Ce=B.apply(Et,wt)}function Ge(ut){return Ye=ut,_e=setTimeout(hn,he),gt?nt(ut):Ce}function Ae(ut){var wt=ut-Le;return void 0===Le||wt>=he||wt<0||Ne&&ut-Ye>=ie}function hn(){var ut=fe();return Ae(ut)?In(ut):void(_e=setTimeout(hn,function dt(ut){var En=he-(ut-Le);return Ne?K(En,ie-(ut-Ye)):En}(ut)))}function In(ut){return _e=void 0,at&&X?nt(ut):(X=de=void 0,Ce)}function Q(){var ut=fe(),wt=Ae(ut);if(X=arguments,de=this,Le=ut,wt){if(void 0===_e)return Ge(Le);if(Ne)return _e=setTimeout(hn,he),nt(Le)}return void 0===_e&&(_e=setTimeout(hn,he)),Ce}var X,de,ie,Ce,_e,Le,Ye=0,gt=!1,Ne=!1,at=!0;if("function"!=typeof B)throw new TypeError(J);return he=Z(he)||0,$(we)&&(gt=!!we.leading,ie=(Ne="maxWait"in we)?ve(Z(we.maxWait)||0,he):ie,at="trailing"in we?!!we.trailing:at),Q.cancel=function mr(){void 0!==_e&&clearTimeout(_e),Ye=0,X=Le=de=_e=void 0},Q.flush=function pn(){return void 0===_e?Ce:In(fe())},Q}function $(B){var he=typeof B>"u"?"undefined":le(B);return!!B&&("object"==he||"function"==he)}function ne(B){return"symbol"==(typeof B>"u"?"undefined":le(B))||function se(B){return!!B&&"object"==(typeof B>"u"?"undefined":le(B))}(B)&&ue.call(B)==M}function Z(B){if("number"==typeof B)return B;if(ne(B))return R;if($(B)){var he="function"==typeof B.valueOf?B.valueOf():B;B=$(he)?he+"":he}if("string"!=typeof B)return 0===B?B:+B;B=B.replace(z,"");var we=ae.test(B);return we||$e.test(B)?xe(B.slice(2),we?2:8):Re.test(B)?R:+B}var le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},J="Expected a function",R=NaN,M="[object Symbol]",z=/^\s+|\s+$/g,Re=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,$e=/^0o[0-7]+$/i,xe=parseInt,ke="object"==(typeof f>"u"?"undefined":le(f))&&f&&f.Object===Object&&f,Te="object"==(typeof self>"u"?"undefined":le(self))&&self&&self.Object===Object&&self,We=ke||Te||Function("return this")(),ue=Object.prototype.toString,ve=Math.max,K=Math.min,fe=function(){return We.Date.now()};me.exports=function H(B,he,we){var nt=!0,Ge=!0;if("function"!=typeof B)throw new TypeError(J);return $(we)&&(nt="leading"in we?!!we.leading:nt,Ge="trailing"in we?!!we.trailing:Ge),O(B,he,{leading:nt,maxWait:he,trailing:Ge})}}).call(T,function(){return this}())},function(me,T){(function(f){"use strict";function H(fe){var B=typeof fe>"u"?"undefined":Z(fe);return!!fe&&("object"==B||"function"==B)}function se(fe){return"symbol"==(typeof fe>"u"?"undefined":Z(fe))||function $(fe){return!!fe&&"object"==(typeof fe>"u"?"undefined":Z(fe))}(fe)&&be.call(fe)==R}function ne(fe){if("number"==typeof fe)return fe;if(se(fe))return J;if(H(fe)){var B="function"==typeof fe.valueOf?fe.valueOf():fe;fe=H(B)?B+"":B}if("string"!=typeof fe)return 0===fe?fe:+fe;fe=fe.replace(M,"");var he=Re.test(fe);return he||ae.test(fe)?$e(fe.slice(2),he?2:8):z.test(fe)?J:+fe}var Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},le="Expected a function",J=NaN,R="[object Symbol]",M=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,Re=/^0b[01]+$/i,ae=/^0o[0-7]+$/i,$e=parseInt,xe="object"==(typeof f>"u"?"undefined":Z(f))&&f&&f.Object===Object&&f,ke="object"==(typeof self>"u"?"undefined":Z(self))&&self&&self.Object===Object&&self,Te=xe||ke||Function("return this")(),be=Object.prototype.toString,ue=Math.max,ve=Math.min,K=function(){return Te.Date.now()};me.exports=function O(fe,B,he){function we(at){var ut=Q,wt=X;return Q=X=void 0,Le=at,ie=fe.apply(wt,ut)}function nt(at){return Le=at,Ce=setTimeout(Ae,B),Ye?we(at):ie}function dt(at){var ut=at-_e;return void 0===_e||ut>=B||ut<0||gt&&at-Le>=de}function Ae(){var at=K();return dt(at)?hn(at):void(Ce=setTimeout(Ae,function Ge(at){var Et=B-(at-_e);return gt?ve(Et,de-(at-Le)):Et}(at)))}function hn(at){return Ce=void 0,Ne&&Q?we(at):(Q=X=void 0,ie)}function pn(){var at=K(),ut=dt(at);if(Q=arguments,X=this,_e=at,ut){if(void 0===Ce)return nt(_e);if(gt)return Ce=setTimeout(Ae,B),we(_e)}return void 0===Ce&&(Ce=setTimeout(Ae,B)),ie}var Q,X,de,ie,Ce,_e,Le=0,Ye=!1,gt=!1,Ne=!0;if("function"!=typeof fe)throw new TypeError(le);return B=ne(B)||0,H(he)&&(Ye=!!he.leading,de=(gt="maxWait"in he)?ue(ne(he.maxWait)||0,B):de,Ne="trailing"in he?!!he.trailing:Ne),pn.cancel=function In(){void 0!==Ce&&clearTimeout(Ce),Le=0,Q=_e=X=Ce=void 0},pn.flush=function mr(){return void 0===Ce?ie:hn(K())},pn}}).call(T,function(){return this}())},function(me,T){"use strict";function f(Z){var le=void 0,J=void 0;for(le=0;le<Z.length;le+=1)if((J=Z[le]).dataset&&J.dataset.aos||J.children&&f(J.children))return!0;return!1}function O(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function se(Z){Z&&Z.forEach(function(le){var J=Array.prototype.slice.call(le.addedNodes),R=Array.prototype.slice.call(le.removedNodes);if(f(J.concat(R)))return ne()})}Object.defineProperty(T,"__esModule",{value:!0});var ne=function(){};T.default={isSupported:function H(){return!!O()},ready:function $(Z,le){var J=window.document,M=new(O())(se);ne=le,M.observe(J.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(me,T){"use strict";function O(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(T,"__esModule",{value:!0});var H=function(){function J(R,M){for(var z=0;z<M.length;z++){var Re=M[z];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(R,Re.key,Re)}}return function(R,M,z){return M&&J(R.prototype,M),z&&J(R,z),R}}(),$=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,se=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ne=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Z=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,le=function(){function J(){!function f(J,R){if(!(J instanceof R))throw new TypeError("Cannot call a class as a function")}(this,J)}return H(J,[{key:"phone",value:function(){var R=O();return!(!$.test(R)&&!se.test(R.substr(0,4)))}},{key:"mobile",value:function(){var R=O();return!(!ne.test(R)&&!Z.test(R.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),J}();T.default=new le},function(me,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.default=function(H,$){var se=window.pageYOffset,ne=window.innerHeight;H.forEach(function(Z,le){!function(H,$,se){var ne=H.node.getAttribute("data-aos-once");$>H.position?H.node.classList.add("aos-animate"):typeof ne<"u"&&("false"===ne||!se&&"true"!==ne)&&H.node.classList.remove("aos-animate")}(Z,ne+se,$)})}},function(me,T,f){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var $=function O(ne){return ne&&ne.__esModule?ne:{default:ne}}(f(12));T.default=function(ne,Z){return ne.forEach(function(le,J){le.node.classList.add("aos-init"),le.position=(0,$.default)(le.node,Z.offset)}),ne}},function(me,T,f){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var $=function O(ne){return ne&&ne.__esModule?ne:{default:ne}}(f(13));T.default=function(ne,Z){var le=0,J=0,R=window.innerHeight,M={offset:ne.getAttribute("data-aos-offset"),anchor:ne.getAttribute("data-aos-anchor"),anchorPlacement:ne.getAttribute("data-aos-anchor-placement")};switch(M.offset&&!isNaN(M.offset)&&(J=parseInt(M.offset)),M.anchor&&document.querySelectorAll(M.anchor)&&(ne=document.querySelectorAll(M.anchor)[0]),le=(0,$.default)(ne).top,M.anchorPlacement){case"top-bottom":break;case"center-bottom":le+=ne.offsetHeight/2;break;case"bottom-bottom":le+=ne.offsetHeight;break;case"top-center":le+=R/2;break;case"bottom-center":le+=R/2+ne.offsetHeight;break;case"center-center":le+=R/2+ne.offsetHeight/2;break;case"top-top":le+=R;break;case"bottom-top":le+=ne.offsetHeight+R;break;case"center-top":le+=ne.offsetHeight/2+R}return M.anchorPlacement||M.offset||isNaN(Z)||(J=Z),le+J}},function(me,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(O){for(var H=0,$=0;O&&!isNaN(O.offsetLeft)&&!isNaN(O.offsetTop);)H+=O.offsetLeft-("BODY"!=O.tagName?O.scrollLeft:0),$+=O.offsetTop-("BODY"!=O.tagName?O.scrollTop:0),O=O.offsetParent;return{top:$,left:H}}},function(me,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(O){return O=O||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(O,function(H){return{node:H}})}}])},9751:(ot,me,T)=>{"use strict";T.d(me,{y:()=>le});var f=T(2961),O=T(727),H=T(8822),$=T(9635),se=T(2416),ne=T(576),Z=T(2806);let le=(()=>{class z{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const $e=new z;return $e.source=this,$e.operator=ae,$e}subscribe(ae,$e,xe){const ke=function M(z){return z&&z instanceof f.Lv||function R(z){return z&&(0,ne.m)(z.next)&&(0,ne.m)(z.error)&&(0,ne.m)(z.complete)}(z)&&(0,O.Nn)(z)}(ae)?ae:new f.Hp(ae,$e,xe);return(0,Z.x)(()=>{const{operator:Te,source:We}=this;ke.add(Te?Te.call(ke,We):We?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(ae){try{return this._subscribe(ae)}catch($e){ae.error($e)}}forEach(ae,$e){return new($e=J($e))((xe,ke)=>{const Te=new f.Hp({next:We=>{try{ae(We)}catch(be){ke(be),Te.unsubscribe()}},error:ke,complete:xe});this.subscribe(Te)})}_subscribe(ae){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(ae)}[H.L](){return this}pipe(...ae){return(0,$.U)(ae)(this)}toPromise(ae){return new(ae=J(ae))(($e,xe)=>{let ke;this.subscribe(Te=>ke=Te,Te=>xe(Te),()=>$e(ke))})}}return z.create=Re=>new z(Re),z})();function J(z){var Re;return null!==(Re=z??se.v.Promise)&&void 0!==Re?Re:Promise}},7579:(ot,me,T)=>{"use strict";T.d(me,{x:()=>Z});var f=T(9751),O=T(727);const $=(0,T(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=T(8737),ne=T(2806);let Z=(()=>{class J extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(M){const z=new le(this,this);return z.operator=M,z}_throwIfClosed(){if(this.closed)throw new $}next(M){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(M)}})}error(M){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=M;const{observers:z}=this;for(;z.length;)z.shift().error(M)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:M}=this;for(;M.length;)M.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var M;return(null===(M=this.observers)||void 0===M?void 0:M.length)>0}_trySubscribe(M){return this._throwIfClosed(),super._trySubscribe(M)}_subscribe(M){return this._throwIfClosed(),this._checkFinalizedStatuses(M),this._innerSubscribe(M)}_innerSubscribe(M){const{hasError:z,isStopped:Re,observers:ae}=this;return z||Re?O.Lc:(this.currentObservers=null,ae.push(M),new O.w0(()=>{this.currentObservers=null,(0,se.P)(ae,M)}))}_checkFinalizedStatuses(M){const{hasError:z,thrownError:Re,isStopped:ae}=this;z?M.error(Re):ae&&M.complete()}asObservable(){const M=new f.y;return M.source=this,M}}return J.create=(R,M)=>new le(R,M),J})();class le extends Z{constructor(R,M){super(),this.destination=R,this.source=M}next(R){var M,z;null===(z=null===(M=this.destination)||void 0===M?void 0:M.next)||void 0===z||z.call(M,R)}error(R){var M,z;null===(z=null===(M=this.destination)||void 0===M?void 0:M.error)||void 0===z||z.call(M,R)}complete(){var R,M;null===(M=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===M||M.call(R)}_subscribe(R){var M,z;return null!==(z=null===(M=this.source)||void 0===M?void 0:M.subscribe(R))&&void 0!==z?z:O.Lc}}},2961:(ot,me,T)=>{"use strict";T.d(me,{Hp:()=>xe,Lv:()=>z});var f=T(576),O=T(727),H=T(2416),$=T(7849);function se(){}const ne=J("C",void 0,void 0);function J(ue,ve,K){return{kind:ue,value:ve,error:K}}var R=T(3410),M=T(2806);class z extends O.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,O.Nn)(ve)&&ve.add(this)):this.destination=be}static create(ve,K,fe){return new xe(ve,K,fe)}next(ve){this.isStopped?We(function le(ue){return J("N",ue,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?We(function Z(ue){return J("E",void 0,ue)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?We(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function ae(ue,ve){return Re.call(ue,ve)}class $e{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:K}=this;if(K.next)try{K.next(ve)}catch(fe){ke(fe)}}error(ve){const{partialObserver:K}=this;if(K.error)try{K.error(ve)}catch(fe){ke(fe)}else ke(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(K){ke(K)}}}class xe extends z{constructor(ve,K,fe){let B;if(super(),(0,f.m)(ve)||!ve)B={next:ve??void 0,error:K??void 0,complete:fe??void 0};else{let he;this&&H.v.useDeprecatedNextContext?(he=Object.create(ve),he.unsubscribe=()=>this.unsubscribe(),B={next:ve.next&&ae(ve.next,he),error:ve.error&&ae(ve.error,he),complete:ve.complete&&ae(ve.complete,he)}):B=ve}this.destination=new $e(B)}}function ke(ue){H.v.useDeprecatedSynchronousErrorHandling?(0,M.O)(ue):(0,$.h)(ue)}function We(ue,ve){const{onStoppedNotification:K}=H.v;K&&R.z.setTimeout(()=>K(ue,ve))}const be={closed:!0,next:se,error:function Te(ue){throw ue},complete:se}},727:(ot,me,T)=>{"use strict";T.d(me,{Lc:()=>ne,w0:()=>se,Nn:()=>Z});var f=T(576);const H=(0,T(3888).d)(J=>function(M){J(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((z,Re)=>`${Re+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M});var $=T(8737);class se{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:M}=this;if(M)if(this._parentage=null,Array.isArray(M))for(const ae of M)ae.remove(this);else M.remove(this);const{initialTeardown:z}=this;if((0,f.m)(z))try{z()}catch(ae){R=ae instanceof H?ae.errors:[ae]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const ae of Re)try{le(ae)}catch($e){R=R??[],$e instanceof H?R=[...R,...$e.errors]:R.push($e)}}if(R)throw new H(R)}}add(R){var M;if(R&&R!==this)if(this.closed)le(R);else{if(R instanceof se){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(M=this._finalizers)&&void 0!==M?M:[]).push(R)}}_hasParent(R){const{_parentage:M}=this;return M===R||Array.isArray(M)&&M.includes(R)}_addParent(R){const{_parentage:M}=this;this._parentage=Array.isArray(M)?(M.push(R),M):M?[M,R]:R}_removeParent(R){const{_parentage:M}=this;M===R?this._parentage=null:Array.isArray(M)&&(0,$.P)(M,R)}remove(R){const{_finalizers:M}=this;M&&(0,$.P)(M,R),R instanceof se&&R._removeParent(this)}}se.EMPTY=(()=>{const J=new se;return J.closed=!0,J})();const ne=se.EMPTY;function Z(J){return J instanceof se||J&&"closed"in J&&(0,f.m)(J.remove)&&(0,f.m)(J.add)&&(0,f.m)(J.unsubscribe)}function le(J){(0,f.m)(J)?J():J.unsubscribe()}},2416:(ot,me,T)=>{"use strict";T.d(me,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ot,me,T)=>{"use strict";T.d(me,{E:()=>O});const O=new(T(9751).y)(se=>se.complete())},8996:(ot,me,T)=>{"use strict";T.d(me,{D:()=>ve});var f=T(8421),O=T(5363),H=T(9468),ne=T(9751),le=T(2202),J=T(576),R=T(9672);function z(K,fe){if(!K)throw new Error("Iterable cannot be null");return new ne.y(B=>{(0,R.f)(B,fe,()=>{const he=K[Symbol.asyncIterator]();(0,R.f)(B,fe,()=>{he.next().then(we=>{we.done?B.complete():B.next(we.value)})},0,!0)})})}var Re=T(3670),ae=T(8239),$e=T(1144),xe=T(6495),ke=T(2206),Te=T(4532),We=T(3260);function ve(K,fe){return fe?function ue(K,fe){if(null!=K){if((0,Re.c)(K))return function $(K,fe){return(0,f.Xf)(K).pipe((0,H.R)(fe),(0,O.Q)(fe))}(K,fe);if((0,$e.z)(K))return function Z(K,fe){return new ne.y(B=>{let he=0;return fe.schedule(function(){he===K.length?B.complete():(B.next(K[he++]),B.closed||this.schedule())})})}(K,fe);if((0,ae.t)(K))return function se(K,fe){return(0,f.Xf)(K).pipe((0,H.R)(fe),(0,O.Q)(fe))}(K,fe);if((0,ke.D)(K))return z(K,fe);if((0,xe.T)(K))return function M(K,fe){return new ne.y(B=>{let he;return(0,R.f)(B,fe,()=>{he=K[le.h](),(0,R.f)(B,fe,()=>{let we,nt;try{({value:we,done:nt}=he.next())}catch(Ge){return void B.error(Ge)}nt?B.complete():B.next(we)},0,!0)}),()=>(0,J.m)(he?.return)&&he.return()})}(K,fe);if((0,We.L)(K))return function be(K,fe){return z((0,We.Q)(K),fe)}(K,fe)}throw(0,Te.z)(K)}(K,fe):(0,f.Xf)(K)}},8421:(ot,me,T)=>{"use strict";T.d(me,{Xf:()=>Re});var f=T(7582),O=T(1144),H=T(8239),$=T(9751),se=T(3670),ne=T(2206),Z=T(4532),le=T(6495),J=T(3260),R=T(576),M=T(7849),z=T(8822);function Re(ue){if(ue instanceof $.y)return ue;if(null!=ue){if((0,se.c)(ue))return function ae(ue){return new $.y(ve=>{const K=ue[z.L]();if((0,R.m)(K.subscribe))return K.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,O.z)(ue))return function $e(ue){return new $.y(ve=>{for(let K=0;K<ue.length&&!ve.closed;K++)ve.next(ue[K]);ve.complete()})}(ue);if((0,H.t)(ue))return function xe(ue){return new $.y(ve=>{ue.then(K=>{ve.closed||(ve.next(K),ve.complete())},K=>ve.error(K)).then(null,M.h)})}(ue);if((0,ne.D)(ue))return Te(ue);if((0,le.T)(ue))return function ke(ue){return new $.y(ve=>{for(const K of ue)if(ve.next(K),ve.closed)return;ve.complete()})}(ue);if((0,J.L)(ue))return function We(ue){return Te((0,J.Q)(ue))}(ue)}throw(0,Z.z)(ue)}function Te(ue){return new $.y(ve=>{(function be(ue,ve){var K,fe,B,he;return(0,f.mG)(this,void 0,void 0,function*(){try{for(K=(0,f.KL)(ue);!(fe=yield K.next()).done;)if(ve.next(fe.value),ve.closed)return}catch(we){B={error:we}}finally{try{fe&&!fe.done&&(he=K.return)&&(yield he.call(K))}finally{if(B)throw B.error}}ve.complete()})})(ue,ve).catch(K=>ve.error(K))})}},5403:(ot,me,T)=>{"use strict";T.d(me,{x:()=>O});var f=T(2961);function O($,se,ne,Z,le){return new H($,se,ne,Z,le)}class H extends f.Lv{constructor(se,ne,Z,le,J,R){super(se),this.onFinalize=J,this.shouldUnsubscribe=R,this._next=ne?function(M){try{ne(M)}catch(z){se.error(z)}}:super._next,this._error=le?function(M){try{le(M)}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(M){se.error(M)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ot,me,T)=>{"use strict";T.d(me,{U:()=>H});var f=T(4482),O=T(5403);function H($,se){return(0,f.e)((ne,Z)=>{let le=0;ne.subscribe((0,O.x)(Z,J=>{Z.next($.call(se,J,le++))}))})}},8189:(ot,me,T)=>{"use strict";T.d(me,{J:()=>H});var f=T(5577),O=T(4671);function H($=1/0){return(0,f.z)(O.y,$)}},5577:(ot,me,T)=>{"use strict";T.d(me,{z:()=>le});var f=T(4004),O=T(8421),H=T(4482),$=T(9672),se=T(5403),Z=T(576);function le(J,R,M=1/0){return(0,Z.m)(R)?le((z,Re)=>(0,f.U)((ae,$e)=>R(z,ae,Re,$e))((0,O.Xf)(J(z,Re))),M):("number"==typeof R&&(M=R),(0,H.e)((z,Re)=>function ne(J,R,M,z,Re,ae,$e,xe){const ke=[];let Te=0,We=0,be=!1;const ue=()=>{be&&!ke.length&&!Te&&R.complete()},ve=fe=>Te<z?K(fe):ke.push(fe),K=fe=>{ae&&R.next(fe),Te++;let B=!1;(0,O.Xf)(M(fe,We++)).subscribe((0,se.x)(R,he=>{Re?.(he),ae?ve(he):R.next(he)},()=>{B=!0},void 0,()=>{if(B)try{for(Te--;ke.length&&Te<z;){const he=ke.shift();$e?(0,$.f)(R,$e,()=>K(he)):K(he)}ue()}catch(he){R.error(he)}}))};return J.subscribe((0,se.x)(R,ve,()=>{be=!0,ue()})),()=>{xe?.()}}(z,Re,J,M)))}},5363:(ot,me,T)=>{"use strict";T.d(me,{Q:()=>$});var f=T(9672),O=T(4482),H=T(5403);function $(se,ne=0){return(0,O.e)((Z,le)=>{Z.subscribe((0,H.x)(le,J=>(0,f.f)(le,se,()=>le.next(J),ne),()=>(0,f.f)(le,se,()=>le.complete(),ne),J=>(0,f.f)(le,se,()=>le.error(J),ne)))})}},9468:(ot,me,T)=>{"use strict";T.d(me,{R:()=>O});var f=T(4482);function O(H,$=0){return(0,f.e)((se,ne)=>{ne.add(H.schedule(()=>se.subscribe(ne),$))})}},8505:(ot,me,T)=>{"use strict";T.d(me,{b:()=>se});var f=T(576),O=T(4482),H=T(5403),$=T(4671);function se(ne,Z,le){const J=(0,f.m)(ne)||Z||le?{next:ne,error:Z,complete:le}:ne;return J?(0,O.e)((R,M)=>{var z;null===(z=J.subscribe)||void 0===z||z.call(J);let Re=!0;R.subscribe((0,H.x)(M,ae=>{var $e;null===($e=J.next)||void 0===$e||$e.call(J,ae),M.next(ae)},()=>{var ae;Re=!1,null===(ae=J.complete)||void 0===ae||ae.call(J),M.complete()},ae=>{var $e;Re=!1,null===($e=J.error)||void 0===$e||$e.call(J,ae),M.error(ae)},()=>{var ae,$e;Re&&(null===(ae=J.unsubscribe)||void 0===ae||ae.call(J)),null===($e=J.finalize)||void 0===$e||$e.call(J)}))}):$.y}},4408:(ot,me,T)=>{"use strict";T.d(me,{o:()=>se});var f=T(727);class O extends f.w0{constructor(Z,le){super()}schedule(Z,le=0){return this}}const H={setInterval(ne,Z,...le){const{delegate:J}=H;return J?.setInterval?J.setInterval(ne,Z,...le):setInterval(ne,Z,...le)},clearInterval(ne){const{delegate:Z}=H;return(Z?.clearInterval||clearInterval)(ne)},delegate:void 0};var $=T(8737);class se extends O{constructor(Z,le){super(Z,le),this.scheduler=Z,this.work=le,this.pending=!1}schedule(Z,le=0){var J;if(this.closed)return this;this.state=Z;const R=this.id,M=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(M,R,le)),this.pending=!0,this.delay=le,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(M,this.id,le),this}requestAsyncId(Z,le,J=0){return H.setInterval(Z.flush.bind(Z,this),J)}recycleAsyncId(Z,le,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return le;null!=le&&H.clearInterval(le)}execute(Z,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(Z,le);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,le){let R,J=!1;try{this.work(Z)}catch(M){J=!0,R=M||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:Z,scheduler:le}=this,{actions:J}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$.P)(J,this),null!=Z&&(this.id=this.recycleAsyncId(le,Z,null)),this.delay=null,super.unsubscribe()}}}},640:(ot,me,T)=>{"use strict";T.d(me,{v:()=>H});const f={now:()=>(f.delegate||Date).now(),delegate:void 0};class O{constructor(se,ne=O.now){this.schedulerActionCtor=se,this.now=ne}schedule(se,ne=0,Z){return new this.schedulerActionCtor(this,se).schedule(Z,ne)}}O.now=f.now;class H extends O{constructor(se,ne=O.now){super(se,ne),this.actions=[],this._active=!1}flush(se){const{actions:ne}=this;if(this._active)return void ne.push(se);let Z;this._active=!0;do{if(Z=se.execute(se.state,se.delay))break}while(se=ne.shift());if(this._active=!1,Z){for(;se=ne.shift();)se.unsubscribe();throw Z}}}},4986:(ot,me,T)=>{"use strict";T.d(me,{z:()=>H});var f=T(4408);const H=new(T(640).v)(f.o)},3410:(ot,me,T)=>{"use strict";T.d(me,{z:()=>f});const f={setTimeout(O,H,...$){const{delegate:se}=f;return se?.setTimeout?se.setTimeout(O,H,...$):setTimeout(O,H,...$)},clearTimeout(O){const{delegate:H}=f;return(H?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(ot,me,T)=>{"use strict";T.d(me,{h:()=>O});const O=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,me,T)=>{"use strict";T.d(me,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ot,me,T)=>{"use strict";T.d(me,{_6:()=>ne,jO:()=>$,yG:()=>se});var f=T(576);function H(Z){return Z[Z.length-1]}function $(Z){return(0,f.m)(H(Z))?Z.pop():void 0}function se(Z){return function O(Z){return Z&&(0,f.m)(Z.schedule)}(H(Z))?Z.pop():void 0}function ne(Z,le){return"number"==typeof H(Z)?Z.pop():le}},8737:(ot,me,T)=>{"use strict";function f(O,H){if(O){const $=O.indexOf(H);0<=$&&O.splice($,1)}}T.d(me,{P:()=>f})},3888:(ot,me,T)=>{"use strict";function f(O){const $=O(se=>{Error.call(se),se.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}T.d(me,{d:()=>f})},2806:(ot,me,T)=>{"use strict";T.d(me,{O:()=>$,x:()=>H});var f=T(2416);let O=null;function H(se){if(f.v.useDeprecatedSynchronousErrorHandling){const ne=!O;if(ne&&(O={errorThrown:!1,error:null}),se(),ne){const{errorThrown:Z,error:le}=O;if(O=null,Z)throw le}}else se()}function $(se){f.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=se)}},9672:(ot,me,T)=>{"use strict";function f(O,H,$,se=0,ne=!1){const Z=H.schedule(function(){$(),ne?O.add(this.schedule(null,se)):this.unsubscribe()},se);if(O.add(Z),!ne)return Z}T.d(me,{f:()=>f})},4671:(ot,me,T)=>{"use strict";function f(O){return O}T.d(me,{y:()=>f})},1144:(ot,me,T)=>{"use strict";T.d(me,{z:()=>f});const f=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(ot,me,T)=>{"use strict";T.d(me,{D:()=>O});var f=T(576);function O(H){return Symbol.asyncIterator&&(0,f.m)(H?.[Symbol.asyncIterator])}},576:(ot,me,T)=>{"use strict";function f(O){return"function"==typeof O}T.d(me,{m:()=>f})},3670:(ot,me,T)=>{"use strict";T.d(me,{c:()=>H});var f=T(8822),O=T(576);function H($){return(0,O.m)($[f.L])}},6495:(ot,me,T)=>{"use strict";T.d(me,{T:()=>H});var f=T(2202),O=T(576);function H($){return(0,O.m)($?.[f.h])}},8239:(ot,me,T)=>{"use strict";T.d(me,{t:()=>O});var f=T(576);function O(H){return(0,f.m)(H?.then)}},3260:(ot,me,T)=>{"use strict";T.d(me,{L:()=>$,Q:()=>H});var f=T(7582),O=T(576);function H(se){return(0,f.FC)(this,arguments,function*(){const Z=se.getReader();try{for(;;){const{value:le,done:J}=yield(0,f.qq)(Z.read());if(J)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(le)}}finally{Z.releaseLock()}})}function $(se){return(0,O.m)(se?.getReader)}},4482:(ot,me,T)=>{"use strict";T.d(me,{A:()=>O,e:()=>H});var f=T(576);function O($){return(0,f.m)($?.lift)}function H($){return se=>{if(O(se))return se.lift(function(ne){try{return $(ne,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ot,me,T)=>{"use strict";T.d(me,{U:()=>H,z:()=>O});var f=T(4671);function O(...$){return H($)}function H($){return 0===$.length?f.y:1===$.length?$[0]:function(ne){return $.reduce((Z,le)=>le(Z),ne)}}},7849:(ot,me,T)=>{"use strict";T.d(me,{h:()=>H});var f=T(2416),O=T(3410);function H($){O.z.setTimeout(()=>{const{onUnhandledError:se}=f.v;if(!se)throw $;se($)})}},4532:(ot,me,T)=>{"use strict";function f(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(me,{z:()=>f})},8256:(ot,me,T)=>{"use strict";T.d(me,{tb:()=>gm,AFp:()=>Go,ip1:()=>hm,CZH:()=>jo,hGG:()=>jm,z2F:()=>Ya,sBO:()=>xm,Sil:()=>mm,_Vd:()=>ba,EJc:()=>PR,Xts:()=>wp,SBq:()=>Jl,lqb:()=>Ps,qLn:()=>Xl,vpe:()=>ai,XFs:()=>Me,OlP:()=>fn,zs3:()=>xs,ZZ4:()=>nf,aQg:()=>qu,soG:()=>jh,YKP:()=>WE,h0i:()=>js,PXZ:()=>Am,R0b:()=>ui,FiY:()=>Fl,Lbi:()=>CC,g9A:()=>pm,Qsj:()=>Wb,FYo:()=>Ky,JOm:()=>Ei,tp0:()=>Xi,Rgc:()=>Ah,dDg:()=>RC,eoX:()=>MC,q4F:()=>Rp,GfV:()=>wd,s_b:()=>Sh,ifc:()=>Dn,MMx:()=>jg,Lck:()=>$g,eFA:()=>zh,G48:()=>Pm,Gpc:()=>We,f3M:()=>iy,X6Q:()=>OD,_c5:()=>jD,c2e:()=>$h,zSh:()=>vd,wAp:()=>ht,vHH:()=>K,lri:()=>AC,rWj:()=>SC,D6c:()=>GD,cg1:()=>ah,kL8:()=>wE,dqk:()=>lt,Z0I:()=>Be,sIi:()=>_u,CqO:()=>zv,QGY:()=>pg,QP$:()=>Yn,F4k:()=>Wv,RDi:()=>pp,AaK:()=>xe,qOj:()=>og,TTD:()=>Qs,_Bn:()=>wh,jDz:()=>xu,xp6:()=>Lp,uIk:()=>Qd,ekj:()=>rh,Suo:()=>mD,Xpm:()=>V,lG2:()=>ln,Yz7:()=>Et,cJS:()=>Mn,oAB:()=>ft,Yjl:()=>jn,Y36:()=>bo,_UZ:()=>ug,qZA:()=>Jd,TgZ:()=>Oa,EpF:()=>fg,n5z:()=>J_,LFG:()=>Jn,$8M:()=>Lc,$Z:()=>Hp,NdJ:()=>Xd,CRH:()=>_D,oxw:()=>mg,Q6J:()=>Cn,s9C:()=>_g,VKq:()=>ku,iGM:()=>gD,KtG:()=>Pn,CHM:()=>Ic,LSH:()=>Cp,YNc:()=>Gv,_uU:()=>Ii,Oqu:()=>si});var f=T(7579),O=T(727),H=T(9751),$=T(8189),se=T(8421),ne=T(515),Z=T(7669),le=T(8996),R=T(2961),M=T(4482);function Re(i,s,...a){if(!0===s)return void i();if(!1===s)return;const l=new R.Hp({next:()=>{l.unsubscribe(),i()}});return s(...a).subscribe(l)}function ae(i){for(let s in i)if(i[s]===ae)return s;throw Error("Could not find renamed property on target object.")}function $e(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function xe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(xe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ke(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Te=ae({__forward_ref__:ae});function We(i){return i.__forward_ref__=We,i.toString=function(){return xe(this())},i}function be(i){return ue(i)?i():i}function ue(i){return"function"==typeof i&&i.hasOwnProperty(Te)&&i.__forward_ref__===We}class K extends Error{constructor(s,a){super(function fe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function B(i){return"string"==typeof i?i:null==i?"":String(i)}function dt(i,s){throw new K(-201,!1)}function gt(i,s){null==i&&function Ne(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Et(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Mn(i){return{providers:i.providers||[],imports:i.imports||[]}}function gn(i){return ee(i,At)||ee(i,Qt)}function Be(i){return null!==gn(i)}function ee(i,s){return i.hasOwnProperty(s)?i[s]:null}function mt(i){return i&&(i.hasOwnProperty(Pt)||i.hasOwnProperty(Jt))?i[Pt]:null}const At=ae({\u0275prov:ae}),Pt=ae({\u0275inj:ae}),Qt=ae({ngInjectableDef:ae}),Jt=ae({ngInjectorDef:ae});var Me=(()=>((Me=Me||{})[Me.Default=0]="Default",Me[Me.Host=1]="Host",Me[Me.Self=2]="Self",Me[Me.SkipSelf=4]="SkipSelf",Me[Me.Optional=8]="Optional",Me))();let je;function Xt(i){const s=je;return je=i,s}function Yt(i,s,a){const l=gn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Me.Optional?null:void 0!==s?s:void dt(xe(i))}function sn(i){return{toString:i}.toString()}var Gt=(()=>((Gt=Gt||{})[Gt.OnPush=0]="OnPush",Gt[Gt.Default=1]="Default",Gt))(),Dn=(()=>{return(i=Dn||(Dn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Dn;var i})();const lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_r={},yt=[],qn=ae({\u0275cmp:ae}),yr=ae({\u0275dir:ae}),Nr=ae({\u0275pipe:ae}),dr=ae({\u0275mod:ae}),Kn=ae({\u0275fac:ae}),k=ae({__NG_ELEMENT_ID__:ae});let x=0;function V(i){return sn(()=>{const a=!0===i.standalone,l={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Gt.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||yt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Dn.Emulated,id:"c"+x++,styles:i.styles||yt,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.dependencies,g=i.features;return c.inputs=$n(i.inputs,l),c.outputs=$n(i.outputs),g&&g.forEach(m=>m(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Y).filter(Ze):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(an).filter(Ze):null,c})}function Y(i){return Qe(i)||Zt(i)}function Ze(i){return null!==i}function ft(i){return sn(()=>({type:i.type,bootstrap:i.bootstrap||yt,declarations:i.declarations||yt,imports:i.imports||yt,exports:i.exports||yt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function $n(i,s){if(null==i)return _r;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),a[c]=l,s&&(s[c]=h)}return a}const ln=V;function jn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Qe(i){return i[qn]||null}function Zt(i){return i[yr]||null}function an(i){return i[Nr]||null}function Yn(i){const s=Qe(i)||Zt(i)||an(i);return null!==s&&s.standalone}function Zn(i,s){const a=i[dr]||null;if(!a&&!0===s)throw new Error(`Type ${xe(i)} does not have '\u0275mod' property.`);return a}function Ke(i){return Array.isArray(i)&&"object"==typeof i[1]}function Rt(i){return Array.isArray(i)&&!0===i[1]}function Lt(i){return 0!=(8&i.flags)}function zt(i){return 2==(2&i.flags)}function On(i){return 1==(1&i.flags)}function tr(i){return null!==i.template}function Cf(i){return 0!=(256&i[2])}function pi(i,s){return i.hasOwnProperty(Kn)?i[Kn]:null}class mc{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Qs(){return _c}function _c(i){return i.type.prototype.ngOnChanges&&(i.setInput=N_),gl}function gl(){const i=If(this),s=i?.current;if(s){const a=i.previous;if(a===_r)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function N_(i,s,a,l){const c=If(i)||function yc(i,s){return i[ml]=s}(i,{previous:_r,current:null}),h=c.current||(c.current={}),g=c.previous,m=this.declaredInputs[a],y=g[m];h[m]=new mc(y&&y.currentValue,s,g===_r),i[l]=s}Qs.ngInherit=!0;const ml="__ngSimpleChanges__";function If(i){return i[ml]||null}function _n(i){for(;Array.isArray(i);)i=i[0];return i}function Zo(i,s){return _n(s[i])}function Tn(i,s){return _n(s[i.index])}function Qo(i,s){return i.data[s]}function Er(i,s){const a=s[i];return Ke(a)?a:a[0]}function Fr(i){return 64==(64&i[2])}function Zi(i,s){return null==s?null:i[s]}function wc(i){i[18]=0}function wl(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Dt={lFrame:Es(null),bindingsEnabled:!0};function Jo(){return Dt.bindingsEnabled}function Ie(){return Dt.lFrame.lView}function qt(){return Dt.lFrame.tView}function Ic(i){return Dt.lFrame.contextLView=i,i[8]}function Pn(i){return Dt.lFrame.contextLView=null,i}function Gn(){let i=Dc();for(;null!==i&&64===i.type;)i=i.parent;return i}function Dc(){return Dt.lFrame.currentTNode}function gi(i,s){const a=Dt.lFrame;a.currentTNode=i,a.isParent=s}function Tc(){return Dt.lFrame.isParent}function _i(){return Dt.lFrame.bindingIndex++}function ta(i,s){const a=Dt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ra(s)}function ra(i){Dt.lFrame.currentDirectiveIndex=i}function sa(){return Dt.lFrame.currentQueryIndex}function Dl(i){Dt.lFrame.currentQueryIndex=i}function H_(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function $_(i,s,a){if(a&Me.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||a&Me.Host||(c=H_(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;s=c,i=h}const l=Dt.lFrame=Tf();return l.currentTNode=s,l.lView=i,!0}function Rc(i){const s=Tf(),a=i[1];Dt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Tf(){const i=Dt.lFrame,s=null===i?null:i.child;return null===s?Es(i):s}function Es(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Mc(){const i=Dt.lFrame;return Dt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Af=Mc;function Pc(){const i=Mc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function xn(){return Dt.lFrame.selectedIndex}function Qi(i){Dt.lFrame.selectedIndex=i}function An(){const i=Dt.lFrame;return Qo(i.tView,i.selectedIndex)}function P(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:m,ngAfterViewInit:y,ngAfterViewChecked:E,ngOnDestroy:w}=h;g&&(i.contentHooks||(i.contentHooks=[])).push(-a,g),m&&((i.contentHooks||(i.contentHooks=[])).push(a,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,m)),y&&(i.viewHooks||(i.viewHooks=[])).push(-a,y),E&&((i.viewHooks||(i.viewHooks=[])).push(a,E),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,E)),null!=w&&(i.destroyHooks||(i.destroyHooks=[])).push(a,w)}}function G(i,s,a){Oe(i,s,3,a)}function oe(i,s,a,l){(3&i[2])===a&&Oe(i,s,a,l)}function Ee(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Oe(i,s,a,l){const h=l??-1,g=s.length-1;let m=0;for(let y=void 0!==l?65535&i[18]:0;y<g;y++)if("number"==typeof s[y+1]){if(m=s[y],null!=l&&m>=l)break}else s[y]<0&&(i[18]+=65536),(m<h||-1==h)&&(It(i,a,s,y),i[18]=(4294901760&i[18])+y+2),y++}function It(i,s,a,l){const c=a[l]<0,h=a[l+1],m=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class $t{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Xs(i,s,a){let l=0;for(;l<a.length;){const c=a[l];if("number"==typeof c){if(0!==c)break;l++;const h=a[l++],g=a[l++],m=a[l++];i.setAttribute(s,g,m,h)}else{const h=c,g=a[++l];Sf(h)?i.setProperty(s,h,g):i.setAttribute(s,h,g),l++}}return l}function Tl(i){return 3===i||4===i||6===i}function Sf(i){return 64===i.charCodeAt(0)}function Al(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||oa(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function oa(i,s,a,l,c){let h=0,g=i.length;if(-1===s)g=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===s){g=-1;break}if(m>s){g=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===a){if(null===l)return void(null!==c&&(i[h+1]=c));if(l===i[h+1])return void(i[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==g&&(i.splice(g,0,s),h=g+1),i.splice(h++,0,a),null!==l&&i.splice(h++,0,l),null!==c&&i.splice(h++,0,c)}function Rf(i){return-1!==i}function ws(i){return 32767&i}function eo(i,s){let a=function Mf(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Nc=!0;function kc(i){const s=Nc;return Nc=i,s}let Oc=0;const yi={};function to(i,s){const a=Pf(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Sl(l.data,i),Sl(s,null),Sl(l.blueprint,null));const c=Rl(i,s),h=i.injectorIndex;if(Rf(c)){const g=ws(c),m=eo(c,s),y=m[1].data;for(let E=0;E<8;E++)s[h+E]=m[g+E]|y[g+E]}return s[h+8]=c,h}function Sl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Pf(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Rl(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){if(l=ey(c),null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ml(i,s,a){!function uS(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(k)&&(l=a[k]),null==l&&(l=a[k]=Oc++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Y_(i,s,a){if(a&Me.Optional||void 0!==i)return i;dt()}function Z_(i,s,a,l){if(a&Me.Optional&&void 0===l&&(l=null),0==(a&(Me.Self|Me.Host))){const c=i[9],h=Xt(void 0);try{return c?c.get(s,l,a&Me.Optional):Yt(s,l,a&Me.Optional)}finally{Xt(h)}}return Y_(l,0,a)}function xf(i,s,a,l=Me.Default,c){if(null!==i){if(1024&s[2]){const g=function X_(i,s,a,l,c){let h=i,g=s;for(;null!==h&&null!==g&&1024&g[2]&&!(256&g[2]);){const m=Q_(h,g,a,l|Me.Self,yi);if(m!==yi)return m;let y=h.parent;if(!y){const E=g[21];if(E){const w=E.get(a,yi,l);if(w!==yi)return w}y=ey(g),g=g[15]}h=y}return c}(i,s,a,l,yi);if(g!==yi)return g}const h=Q_(i,s,a,l,yi);if(h!==yi)return h}return Z_(s,a,l,c)}function Q_(i,s,a,l,c){const h=function cS(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(k)?i[k]:void 0;return"number"==typeof s?s>=0?255&s:Xw:s}(a);if("function"==typeof h){if(!$_(s,i,l))return l&Me.Host?Y_(c,0,l):Z_(s,a,l,c);try{const g=h(l);if(null!=g||l&Me.Optional)return g;dt()}finally{Af()}}else if("number"==typeof h){let g=null,m=Pf(i,s),y=-1,E=l&Me.Host?s[16][6]:null;for((-1===m||l&Me.SkipSelf)&&(y=-1===m?Rl(i,s):s[m+8],-1!==y&&Nf(l,!1)?(g=s[1],m=ws(y),s=eo(y,s)):m=-1);-1!==m;){const w=s[1];if(Jw(h,m,w.data)){const A=Qw(m,s,a,g,l,E);if(A!==yi)return A}y=s[m+8],-1!==y&&Nf(l,s[1].data[m+8]===E)&&Jw(h,m,s)?(g=w,m=ws(y),s=eo(y,s)):m=-1}}return c}function Qw(i,s,a,l,c,h){const g=s[1],m=g.data[i+8],w=Fc(m,g,a,null==l?zt(m)&&Nc:l!=g&&0!=(3&m.type),c&Me.Host&&h===m);return null!==w?no(s,g,w,m):yi}function Fc(i,s,a,l,c){const h=i.providerIndexes,g=s.data,m=1048575&h,y=i.directiveStart,w=h>>20,F=c?m+w:i.directiveEnd;for(let W=l?m:m+w;W<F;W++){const ge=g[W];if(W<y&&a===ge||W>=y&&ge.type===a)return W}if(c){const W=g[y];if(W&&tr(W)&&W.type===a)return y}return null}function no(i,s,a,l){let c=i[a];const h=s.data;if(function Fn(i){return i instanceof $t}(c)){const g=c;g.resolving&&function we(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new K(-200,`Circular dependency in DI detected for ${i}${a}`)}(function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():B(i)}(h[a]));const m=kc(g.canSeeViewProviders);g.resolving=!0;const y=g.injectImpl?Xt(g.injectImpl):null;$_(i,l,Me.Default);try{c=i[a]=g.factory(void 0,h,i,l),s.firstCreatePass&&a>=l.directiveStart&&function b(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(l){const g=_c(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==y&&Xt(y),kc(m),g.resolving=!1,Af()}}return c}function Jw(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Nf(i,s){return!(i&Me.Self||i&Me.Host&&s)}class Pl{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return xf(this._tNode,this._lView,s,l,a)}}function Xw(){return new Pl(Gn(),Ie())}function J_(i){return sn(()=>{const s=i.prototype.constructor,a=s[Kn]||kf(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const h=c[Kn]||kf(c);if(h&&h!==a)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function kf(i){return ue(i)?()=>{const s=kf(be(i));return s&&s()}:pi(i)}function ey(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Lc(i){return function Zw(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const h=a[c];if(Tl(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(h===s)return a[c+1];c+=2}}}return null}(Gn(),i)}const io="__parameters__";function xl(i,s,a){return sn(()=>{const l=function Of(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...h){if(this instanceof c)return l.apply(this,h),this;const g=new c(...h);return m.annotation=g,m;function m(y,E,w){const A=y.hasOwnProperty(io)?y[io]:Object.defineProperty(y,io,{value:[]})[io];for(;A.length<=w;)A.push(null);return(A[w]=A[w]||[]).push(g),y}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Xr(l,s)):s!==i&&s.push(l)}return s}function bs(i,s){i.forEach(a=>Array.isArray(a)?bs(a,s):s(a))}function rb(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Uc(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ei(i,s,a){let l=kl(i,s);return l>=0?i[1|l]=a:(l=~l,function _S(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Ff(i,s){const a=kl(i,s);if(a>=0)return i[1|a]}function kl(i,s){return function ao(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const h=l+(c-l>>1),g=i[h<<a];if(s===g)return h<<a;g>s?c=h:l=h+1}return~(c<<a)}(i,s,1)}const Ol={},$c="__NG_DI_FLAG__",jc="ngTempTokenPath",Ut=/\n/gm,ry="__source";let la;function uo(i){const s=la;return la=i,s}function Tr(i,s=Me.Default){if(void 0===la)throw new K(-203,!1);return null===la?Yt(i,void 0,s):la.get(i,s&Me.Optional?null:void 0,s)}function Jn(i,s=Me.Default){return(function ze(){return je}()||Tr)(be(i),s)}function iy(i,s=Me.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Jn(i,s)}function Wc(i){const s=[];for(let a=0;a<i.length;a++){const l=be(i[a]);if(Array.isArray(l)){if(0===l.length)throw new K(900,!1);let c,h=Me.Default;for(let g=0;g<l.length;g++){const m=l[g],y=lb(m);"number"==typeof y?-1===y?c=m.token:h|=y:c=m}s.push(Jn(c,h))}else s.push(Jn(l))}return s}function Ji(i,s){return i[$c]=s,i.prototype[$c]=s,i}function lb(i){return i[$c]}const Fl=Ji(xl("Optional"),8),Xi=Ji(xl("SkipSelf"),4);var Ei=(()=>((Ei=Ei||{})[Ei.Important=1]="Important",Ei[Ei.DashCase=2]="DashCase",Ei))();const Yc=new Map;let Zc=0;const Jf="__ngContext__";function rr(i,s){Ke(s)?(i[Jf]=s[20],function Vt(i){Yc.set(i[20],i)}(s)):i[Jf]=s}function tp(i,s){return undefined(i,s)}function Hl(i){const s=i[3];return Rt(s)?s[3]:s}function rp(i){return rd(i[13])}function rs(i){return rd(i[4])}function rd(i){for(;null!==i&&!Rt(i);)i=i[4];return i}function fa(i,s,a,l,c){if(null!=l){let h,g=!1;Rt(l)?h=l:Ke(l)&&(g=!0,l=l[0]);const m=_n(l);0===i&&null!==a?null==c?sp(s,a,m):As(s,a,m,c||null,!0):1===i&&null!==a?As(s,a,m,c||null,!0):2===i?function up(i,s,a){const l=mo(i,s);l&&function op(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,m,g):3===i&&s.destroyNode(m),null!=h&&function hp(i,s,a,l,c){const h=a[7];h!==_n(a)&&fa(s,i,l,h,c);for(let m=10;m<a.length;m++){const y=a[m];_a(y[1],y,i,s,l,h)}}(s,i,h,a,c)}}function go(i,s,a){return i.createElement(s,a)}function _y(i,s){const a=i[9],l=a.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,wl(c,-1)),a.splice(l,1)}function id(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&_y(c,l),s>0&&(i[a-1][4]=l[4]);const h=Uc(i,10+s);!function pa(i,s){_a(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const g=h[19];null!==g&&g.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function yy(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&_a(i,s,a,3,null,null),function my(i){let s=i[13];if(!s)return jl(i[1],i);for(;s;){let a=null;if(Ke(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Ke(s)&&jl(s[1],s),s=s[3];null===s&&(s=i),Ke(s)&&jl(s[1],s),a=s&&s[4]}s=a}}(s)}}function jl(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function wb(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof $t)){const h=a[l+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const m=c[h[g]],y=h[g+1];try{y.call(m)}finally{}}else try{h.call(c)}finally{}}}}(i,s),function Gl(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const g=a[h+1],m="function"==typeof g?g(s):_n(s[g]),y=l[c=a[h+2]],E=a[h+3];"boolean"==typeof E?m.removeEventListener(a[h],y,E):E>=0?l[c=E]():l[c=-E].unsubscribe(),h+=2}else{const g=l[c=a[h+1]];a[h].call(g)}if(null!==l){for(let h=c+1;h<l.length;h++)(0,l[h])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Rt(s[3])){a!==s[3]&&_y(a,s);const l=s[19];null!==l&&l.detachView(i)}!function gb(i){Yc.delete(i[20])}(s)}}function sd(i,s,a){return function vy(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Dn.None||c===Dn.Emulated)return null}return Tn(l,a)}(i,s.parent,a)}function As(i,s,a,l,c){i.insertBefore(s,a,l,c)}function sp(i,s,a){i.appendChild(s,a)}function Pi(i,s,a,l,c){null!==l?As(i,s,a,l,c):sp(i,s,a)}function mo(i,s){return i.parentNode(s)}let cd,by=function wy(i,s,a){return 40&i.type?Tn(i,a):null};function od(i,s,a,l){const c=sd(i,l,s),h=s[11],m=function Cy(i,s,a){return by(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let y=0;y<a.length;y++)Pi(h,c,a[y],m,!1);else Pi(h,c,a,m,!1)}function ad(i,s){if(null!==s){const a=s.type;if(3&a)return Tn(s,i);if(4&a)return lp(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return ad(i,l);{const c=i[s.index];return Rt(c)?lp(-1,c):_n(c)}}if(32&a)return tp(s,i)()||_n(i[s.index]);{const l=Dy(i,s);return null!==l?Array.isArray(l)?l[0]:ad(Hl(i[16]),l):ad(i,s.next)}}return null}function Dy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function lp(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return ad(l,c)}return s[7]}function cp(i,s,a,l,c,h,g){for(;null!=a;){const m=l[a.index],y=a.type;if(g&&0===s&&(m&&rr(_n(m),l),a.flags|=4),64!=(64&a.flags))if(8&y)cp(i,s,a.child,l,c,h,!1),fa(s,i,c,m,h);else if(32&y){const E=tp(a,l);let w;for(;w=E();)fa(s,i,c,w,h);fa(s,i,c,m,h)}else 16&y?dp(i,s,l,a,c,h):fa(s,i,c,m,h);a=g?a.projectionNext:a.next}}function _a(i,s,a,l,c,h){cp(a,l,i.firstChild,s,c,h,!1)}function dp(i,s,a,l,c,h){const g=a[16],y=g[6].projection[l.projection];if(Array.isArray(y))for(let E=0;E<y.length;E++)fa(s,i,c,y[E],h);else cp(i,s,y,g[3],c,h,!0)}function xi(i,s,a){i.setAttribute(s,"style",a)}function Ss(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function pp(i){cd=i}class Ry{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Rs(i){return i instanceof Ry?i.changingThisBreaksApplicationSecurity:i}const _p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function Cp(i){const s=function Zl(){const i=Ie();return i&&i[12]}();return s?s.sanitize(Xn.URL,i)||"":function is(i,s){const a=function dd(i){return i instanceof Ry&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Rs(i):function yp(i){return(i=String(i)).match(_p)?i:"unsafe:"+i}(B(i))}const wp=new fn("ENVIRONMENT_INITIALIZER"),Fy=new fn("INJECTOR",-1),Ly=new fn("INJECTOR_DEF_TYPES");class bp{get(s,a=Ol){if(a===Ol){const l=new Error(`NullInjectorError: No provider for ${xe(s)}!`);throw l.name="NullInjectorError",l}return a}}function kb(...i){return{\u0275providers:yd(0,i)}}function yd(i,...s){const a=[],l=new Set;let c;return bs(s,h=>{const g=h;Ql(g,a,[],l)&&(c||(c=[]),c.push(g))}),void 0!==c&&Ip(c,a),a}function Ip(i,s){for(let a=0;a<i.length;a++){const{providers:c}=i[a];bs(c,h=>{s.push(h)})}}function Ql(i,s,a,l){if(!(i=be(i)))return!1;let c=null,h=mt(i);const g=!h&&Qe(i);if(h||g){if(g&&!g.standalone)return!1;c=i}else{const y=i.ngModule;if(h=mt(y),!h)return!1;c=y}const m=l.has(c);if(g){if(m)return!1;if(l.add(c),g.dependencies){const y="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const E of y)Ql(E,s,a,l)}}else{if(!h)return!1;{if(null!=h.imports&&!m){let E;l.add(c);try{bs(h.imports,w=>{Ql(w,s,a,l)&&(E||(E=[]),E.push(w))})}finally{}void 0!==E&&Ip(E,s)}if(!m){const E=pi(c)||(()=>new c);s.push({provide:c,useFactory:E,deps:yt},{provide:Ly,useValue:c,multi:!0},{provide:wp,useValue:()=>Jn(c),multi:!0})}const y=h.providers;null==y||m||bs(y,w=>{s.push(w)})}}return c!==i&&void 0!==i.providers}const Ob=ae({provide:String,useValue:ae});function Tp(i){return null!==i&&"object"==typeof i&&Ob in i}function Ni(i){return"function"==typeof i}const vd=new fn("Set Injector scope."),Eo={},Ed={};let Cd;function Ms(){return void 0===Cd&&(Cd=new bp),Cd}class Ps{}class Hy extends Ps{constructor(s,a,l,c){super(),this.parent=a,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sp(s,g=>this.processProvider(g)),this.records.set(Fy,os(void 0,this)),c.has("environment")&&this.records.set(Ps,os(void 0,this));const h=this.records.get(vd);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ly.multi,yt,Me.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=uo(this),l=Xt(void 0);try{return s()}finally{uo(a),Xt(l)}}get(s,a=Ol,l=Me.Default){this.assertNotDestroyed();const c=uo(this),h=Xt(void 0);try{if(!(l&Me.SkipSelf)){let m=this.records.get(s);if(void 0===m){const y=function Bb(i){return"function"==typeof i||"object"==typeof i&&i instanceof fn}(s)&&gn(s);m=y&&this.injectableDefInScope(y)?os(Ap(s),Eo):null,this.records.set(s,m)}if(null!=m)return this.hydrate(s,m)}return(l&Me.Self?Ms():this.parent).get(s,a=l&Me.Optional&&a===Ol?null:a)}catch(g){if("NullInjectorError"===g.name){if((g[jc]=g[jc]||[]).unshift(xe(s)),c)throw g;return function Vf(i,s,a,l){const c=i[jc];throw s[ry]&&c.unshift(s[ry]),i.message=function zc(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=xe(s);if(Array.isArray(s))c=s.map(xe).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let m=s[g];h.push(g+":"+("string"==typeof m?JSON.stringify(m):xe(m)))}c=`{${h.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(Ut,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[jc]=null,i}(g,s,"R3InjectorError",this.source)}throw g}finally{Xt(h),uo(c)}}resolveInjectorInitializers(){const s=uo(this),a=Xt(void 0);try{const l=this.get(wp.multi,yt,Me.Self);for(const c of l)c()}finally{uo(s),Xt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(xe(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(s){let a=Ni(s=be(s))?s:be(s&&s.provide);const l=function Lb(i){return Tp(i)?os(void 0,i.useValue):os($y(i),Eo)}(s);if(Ni(s)||!0!==s.multi)this.records.get(a);else{let c=this.records.get(a);c||(c=os(void 0,Eo,!0),c.factory=()=>Wc(c.multi),this.records.set(a,c)),a=s,c.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Eo&&(a.value=Ed,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Vb(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=be(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ap(i){const s=gn(i),a=null!==s?s.factory:pi(i);if(null!==a)return a;if(i instanceof fn)throw new K(204,!1);if(i instanceof Function)return function Fb(i){const s=i.length;if(s>0)throw function Vc(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new K(204,!1);const a=function Se(i){const s=i&&(i[At]||i[Qt]);if(s){const a=function et(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new K(204,!1)}function $y(i,s,a){let l;if(Ni(i)){const c=be(i);return pi(c)||Ap(c)}if(Tp(i))l=()=>be(i.useValue);else if(function Vy(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Wc(i.deps||[]));else if(function Uy(i){return!(!i||!i.useExisting)}(i))l=()=>Jn(be(i.useExisting));else{const c=be(i&&(i.useClass||i.provide));if(!function Ub(i){return!!i.deps}(i))return pi(c)||Ap(c);l=()=>new c(...Wc(i.deps))}return l}function os(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Hb(i){return!!i.\u0275providers}function Sp(i,s){for(const a of i)Array.isArray(a)?Sp(a,s):Hb(a)?Sp(a.\u0275providers,s):s(a)}class jy{}class zy{resolveComponentFactory(s){throw function Gy(i){const s=Error(`No component factory found for ${xe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ba=(()=>{class i{}return i.NULL=new zy,i})();function qy(){return Co(Gn(),Ie())}function Co(i,s){return new Jl(Tn(i,s))}let Jl=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=qy,i})();function Gb(i){return i instanceof Jl?i.nativeElement:i}class Ky{}let Wb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function zb(){const i=Ie(),a=Er(Gn().index,i);return(Ke(a)?a:i)[11]}(),i})(),Yy=(()=>{class i{}return i.\u0275prov=Et({token:i,providedIn:"root",factory:()=>null}),i})();class wd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Rp=new wd("14.3.0"),bd={};function Mp(i){return i.ngOriginalError}class Xl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Mp(s);for(;a&&Mp(a);)a=Mp(a);return a||null}}function ls(i){return i instanceof Function?i():i}function Jy(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===l||i.charCodeAt(c+h)<=32)return c}a=c+1}}const eu="ng-template";function Ia(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==Jy(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Xy(i){return 4===i.type&&i.value!==eu}function eI(i,s,a){return s===(4!==i.type||a?i.value:eu)}function ev(i,s,a){let l=4;const c=i.attrs||[],h=function nv(i){for(let s=0;s<i.length;s++)if(Tl(i[s]))return s;return i.length}(c);let g=!1;for(let m=0;m<s.length;m++){const y=s[m];if("number"!=typeof y){if(!g)if(4&l){if(l=2|1&l,""!==y&&!eI(i,y,a)||""===y&&1===s.length){if(ki(l))return!1;g=!0}}else{const E=8&l?y:s[++m];if(8&l&&null!==i.attrs){if(!Ia(i.attrs,E,a)){if(ki(l))return!1;g=!0}continue}const A=LS(8&l?"class":y,c,Xy(i),a);if(-1===A){if(ki(l))return!1;g=!0;continue}if(""!==E){let F;F=A>h?"":c[A+1].toLowerCase();const W=8&l?F:null;if(W&&-1!==Jy(W,E,0)||2&l&&E!==F){if(ki(l))return!1;g=!0}}}}else{if(!g&&!ki(l)&&!ki(y))return!1;if(g&&ki(y))continue;g=!1,l=y|1&l}}return ki(l)||g}function ki(i){return 0==(1&i)}function LS(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let h=!1;for(;c<s.length;){const g=s[c];if(g===i)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let m=s[++c];for(;"string"==typeof m;)m=s[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function Dd(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function tv(i,s,a=!1){for(let l=0;l<s.length;l++)if(ev(i,s[l],a))return!0;return!1}function Op(i,s){return i?":not("+s.trim()+")":s}function Da(i){let s=i[0],a=1,l=2,c="",h=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&l){const m=i[++a];c+="["+g+(m.length>0?'="'+m+'"':"")+"]"}else 8&l?c+="."+g:4&l&&(c+=" "+g);else""!==c&&!ki(g)&&(s+=Op(h,c),c=""),l=g,h=h||!ki(l);a++}return""!==c&&(s+=Op(h,c)),s}const Tt={};function Lp(i){Td(qt(),Ie(),xn()+i,!1)}function Td(i,s,a,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&G(s,h,a)}else{const h=i.preOrderHooks;null!==h&&oe(s,h,0,a)}Qi(a)}function iv(i,s=null,a=null,l){const c=sv(i,s,a,l);return c.resolveInjectorInitializers(),c}function sv(i,s=null,a=null,l,c=new Set){const h=[a||yt,kb(i)];return l=l||("object"==typeof i?void 0:xe(i)),new Hy(h,s||Ms(),l||null,c)}let xs=(()=>{class i{static create(a,l){if(Array.isArray(a))return iv({name:""},l,a,"");{const c=a.name??"";return iv({name:c},a.parent,a.providers,c)}}}return i.THROW_IF_NOT_FOUND=Ol,i.NULL=new bp,i.\u0275prov=Et({token:i,providedIn:"any",factory:()=>Jn(Fy)}),i.__NG_ELEMENT_ID__=-1,i})();function bo(i,s=Me.Default){const a=Ie();return null===a?Jn(i,s):xf(Gn(),a,be(i),s)}function Hp(){throw new Error("invalid")}function Io(i,s){return i<<17|s<<2}function ri(i){return i>>17&32767}function Pd(i){return 2|i}function us(i){return(131068&i)>>2}function xd(i,s){return-131069&i|s<<2}function nu(i){return 1|i}function cu(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],h=a[l+1];if(-1!==h){const g=i.data[h];Dl(c),g.contentQueries(2,s[h],h)}}}function To(i,s,a,l,c,h,g,m,y,E,w){const A=s.blueprint.slice();return A[0]=c,A[2]=76|l,(null!==w||i&&1024&i[2])&&(A[2]|=1024),wc(A),A[3]=A[15]=i,A[8]=a,A[10]=g||i&&i[10],A[11]=m||i&&i[11],A[12]=y||i&&i[12]||null,A[9]=E||i&&i[9]||null,A[6]=h,A[20]=function fo(){return Zc++}(),A[21]=w,A[16]=2==s.type?i[16]:A,A}function Li(i,s,a,l,c){let h=i.data[s];if(null===h)h=function vv(i,s,a,l,c){const h=Dc(),g=Tc(),y=i.data[s]=function bI(i,s,a,l,c,h){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=y),null!==h&&(g?null==h.child&&null!==y.parent&&(h.child=y):null===h.next&&(h.next=y)),y}(i,s,a,l,c),function Sc(){return Dt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=l,h.attrs=c;const g=function Xo(){const i=Dt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return gi(h,!0),h}function du(i,s,a,l){if(0===a)return-1;const c=s.length;for(let h=0;h<a;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Ld(i,s,a){Rc(s);try{const l=i.viewQuery;null!==l&&jd(1,l,a);const c=i.template;null!==c&&hu(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&cu(i,s),i.staticViewQueries&&jd(2,i.viewQuery,a);const h=i.components;null!==h&&function yv(i,s){for(let a=0;a<s.length;a++)RI(i,s[a])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Pc()}}function Kp(i,s,a,l){const c=s[2];if(128!=(128&c)){Rc(s);try{wc(s),function ea(i){return Dt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&hu(i,s,a,2,l);const g=3==(3&c);if(g){const E=i.preOrderCheckHooks;null!==E&&G(s,E,null)}else{const E=i.preOrderHooks;null!==E&&oe(s,E,0,null),Ee(s,0)}if(function Av(i){for(let s=rp(i);null!==s;s=rs(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],h=c[3];0==(512&c[2])&&wl(h,1),c[2]|=512}}}(s),function SI(i){for(let s=rp(i);null!==s;s=rs(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Fr(l)&&Kp(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&cu(i,s),g){const E=i.contentCheckHooks;null!==E&&G(s,E)}else{const E=i.contentHooks;null!==E&&oe(s,E,1),Ee(s,1)}!function mv(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Qi(~c);else{const h=c,g=a[++l],m=a[++l];ta(g,h),m(2,s[h])}}}finally{Qi(-1)}}(i,s);const m=i.components;null!==m&&function _v(i,s){for(let a=0;a<s.length;a++)Sv(i,s[a])}(s,m);const y=i.viewQuery;if(null!==y&&jd(2,y,l),g){const E=i.viewCheckHooks;null!==E&&G(s,E)}else{const E=i.viewHooks;null!==E&&oe(s,E,2),Ee(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,wl(s[3],-1))}finally{Pc()}}}function hu(i,s,a,l,c){const h=xn(),g=2&l;try{Qi(-1),g&&s.length>22&&Td(i,s,22,!1),a(l,c)}finally{Qi(h)}}function Sa(i,s,a){!Jo()||(function ZS(i,s,a,l){const c=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||to(a,s),rr(l,s);const g=a.initialInputs;for(let m=c;m<h;m++){const y=i.data[m],E=tr(y);E&&Dv(s,a,y);const w=no(s,i,m,a);rr(w,s),null!==g&&QS(0,m-c,w,y,0,g),E&&(Er(a.index,s)[8]=w)}}(i,s,a,Tn(a,s)),128==(128&a.flags)&&function TI(i,s,a){const l=a.directiveStart,c=a.directiveEnd,h=a.index,g=function na(){return Dt.lFrame.currentDirectiveIndex}();try{Qi(h);for(let m=l;m<c;m++){const y=i.data[m],E=s[m];ra(m),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&Ma(y,E)}}finally{Qi(-1),ra(g)}}(i,s,a))}function Ra(i,s,a=Tn){const l=s.localNames;if(null!==l){let c=s.index+1;for(let h=0;h<l.length;h+=2){const g=l[h+1],m=-1===g?a(s,i):i[g];i[c++]=m}}}function Ev(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=fu(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function fu(i,s,a,l,c,h,g,m,y,E){const w=22+l,A=w+c,F=function Ud(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Tt);return a}(w,A),W="function"==typeof E?E():E;return F[1]={type:i,blueprint:F,template:a,queries:null,viewQuery:m,declTNode:s,data:F.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:y,consts:W,incompleteFirstPass:!1}}function Yp(i,s,a,l){const c=tg(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Gd(i).push(l,c.length-1))}function Zp(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Cv(i,s){const l=s.directiveEnd,c=i.data,h=s.attrs,g=[];let m=null,y=null;for(let E=s.directiveStart;E<l;E++){const w=c[E],A=w.inputs,F=null===h||Xy(s)?null:JS(A,h);g.push(F),m=Zp(A,E,m),y=Zp(w.outputs,E,y)}null!==m&&(m.hasOwnProperty("class")&&(s.flags|=16),m.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=m,s.outputs=y}function Wr(i,s,a,l,c,h,g,m){const y=Tn(s,a);let w,E=s.inputs;!m&&null!=E&&(w=E[l])?(rg(i,a,w,l,c),zt(s)&&Qp(a,s.index)):3&s.type&&(l=function KS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=g?g(c,s.value||"",l):c,h.setProperty(y,l,c))}function Qp(i,s){const a=Er(s,i);16&a[2]||(a[2]|=32)}function Vd(i,s,a,l){let c=!1;if(Jo()){const h=function Jp(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const g=l[h];tv(a,g.selectors,!1)&&(c||(c=[]),Ml(to(a,s),i,g.type),tr(g)?(Xp(i,a),c.unshift(g)):c.push(g))}return c}(i,s,a),g=null===l?null:{"":-1};if(null!==h){c=!0,AI(a,i.data.length,h.length);for(let w=0;w<h.length;w++){const A=h[w];A.providersResolver&&A.providersResolver(A)}let m=!1,y=!1,E=du(i,s,h.length,null);for(let w=0;w<h.length;w++){const A=h[w];a.mergedAttrs=Al(a.mergedAttrs,A.hostAttrs),Iv(i,a,s,E,A),pu(E,A,g),null!==A.contentQueries&&(a.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(a.flags|=128);const F=A.type.prototype;!m&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),m=!0),!y&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),y=!0),E++}Cv(i,a)}g&&function bv(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=a[s[c+1]];if(null==h)throw new K(-301,!1);l.push(s[c],h)}}}(a,l,g)}return a.mergedAttrs=Al(a.mergedAttrs,a.attrs),c}function Bd(i,s,a,l,c,h){const g=h.hostBindings;if(g){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const y=~s.index;(function DI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=y&&m.push(y),m.push(l,c,g)}}function Ma(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Xp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function pu(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;tr(s)&&(a[""]=i)}}function AI(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Iv(i,s,a,l,c){i.data[l]=c;const h=c.factory||(c.factory=pi(c.type)),g=new $t(h,tr(c),bo);i.blueprint[l]=g,a[l]=g,Bd(i,s,0,l,du(i,a,c.hostVars,Tt),c)}function Dv(i,s,a){const l=Tn(s,i),c=Ev(a),h=i[10],g=$d(i,To(i,c,null,a.onPush?32:16,l,s,h,h.createRenderer(l,a),null,null,null));i[s.index]=g}function cs(i,s,a,l,c,h){const g=Tn(i,s);!function Tv(i,s,a,l,c,h,g){if(null==h)i.removeAttribute(s,c,a);else{const m=null==g?B(h):g(h,l||"",c);i.setAttribute(s,c,m,a)}}(s[11],g,h,i.value,a,l,c)}function QS(i,s,a,l,c,h){const g=h[s];if(null!==g){const m=l.setInput;for(let y=0;y<g.length;){const E=g[y++],w=g[y++],A=g[y++];null!==m?l.setInput(a,A,E,w):a[w]=A}}}function JS(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function eg(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function Sv(i,s){const a=Er(s,i);if(Fr(a)){const l=a[1];48&a[2]?Kp(l,a,l.template,a[8]):a[5]>0&&Hd(a)}}function Hd(i){for(let l=rp(i);null!==l;l=rs(l))for(let c=10;c<l.length;c++){const h=l[c];if(Fr(h))if(512&h[2]){const g=h[1];Kp(g,h,g.template,h[8])}else h[5]>0&&Hd(h)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=Er(a[l],i);Fr(c)&&c[5]>0&&Hd(c)}}function RI(i,s){const a=Er(s,i),l=a[1];(function Rv(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Ld(l,a,a[8])}function $d(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Mv(i){for(;i;){i[2]|=32;const s=Hl(i);if(Cf(i)&&!s)return i;i=s}return null}function gu(i,s,a,l=!0){const c=s[10];c.begin&&c.begin();try{Kp(i,s,i.template,a)}catch(g){throw l&&ng(s,g),g}finally{c.end&&c.end()}}function jd(i,s,a){Dl(0),s(i,a)}function tg(i){return i[7]||(i[7]=[])}function Gd(i){return i.cleanup||(i.cleanup=[])}function ng(i,s){const a=i[9],l=a?a.get(Xl,null):null;l&&l.handleError(s)}function rg(i,s,a,l,c){for(let h=0;h<a.length;){const g=a[h++],m=a[h++],y=s[g],E=i.data[g];null!==E.setInput?E.setInput(y,c,l,m):y[m]=c}}function Wd(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const m=s[g];"number"==typeof m?h=m:1==h?c=ke(c,m):2==h&&(l=ke(l,m+": "+s[++g]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}function Pa(i,s,a,l,c=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&l.push(_n(h)),Rt(h))for(let m=10;m<h.length;m++){const y=h[m],E=y[1].firstChild;null!==E&&Pa(y[1],y,E,l)}const g=a.type;if(8&g)Pa(i,s,a.child,l);else if(32&g){const m=tp(a,s);let y;for(;y=m();)l.push(y)}else if(16&g){const m=Dy(s,a);if(Array.isArray(m))l.push(...m);else{const y=Hl(s[16]);Pa(y[1],y,m,l,!0)}}a=c?a.projectionNext:a.next}return l}class mu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Pa(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Rt(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(id(s,l),Uc(a,l))}this._attachedToViewContainer=!1}yy(this._lView[1],this._lView)}onDestroy(s){Yp(this._lView[1],this._lView,null,s)}markForCheck(){Mv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gy(i,s){_a(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=s}}class ig extends mu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;gu(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class zd extends ba{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Qe(s);return new xa(a,this.ngModule)}}function xv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class MI{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const c=this.injector.get(s,bd,l);return c!==bd||a===bd?c:this.parentInjector.get(s,a,l)}}class xa extends jy{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Fp(i){return i.map(Da).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return xv(this.componentDef.inputs)}get outputs(){return xv(this.componentDef.outputs)}create(s,a,l,c){let h=(c=c||this.ngModule)instanceof Ps?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const g=h?new MI(s,h):s,m=g.get(Ky,null);if(null===m)throw new K(407,!1);const y=g.get(Yy,null),E=m.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=l?function wI(i,s,a){return i.selectRootElement(s,a===Dn.ShadowDom)}(E,l,this.componentDef.encapsulation):go(E,w,function sg(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(w)),F=this.componentDef.onPush?288:272,W=fu(0,null,null,1,0,null,null,null,null,null),ge=To(null,W,null,F,null,null,m,E,y,g,null);let Pe,Ve;Rc(ge);try{const Je=function kv(i,s,a,l,c,h){const g=a[1];a[22]=i;const y=Li(g,22,2,"#host",null),E=y.mergedAttrs=s.hostAttrs;null!==E&&(Wd(y,E,!0),null!==i&&(Xs(c,i,E),null!==y.classes&&Ss(c,i,y.classes),null!==y.styles&&xi(c,i,y.styles)));const w=l.createRenderer(i,s),A=To(a,Ev(s),null,s.onPush?32:16,a[22],y,l,w,h||null,null,null);return g.firstCreatePass&&(Ml(to(y,a),g,s.type),Xp(g,y),AI(y,a.length,1)),$d(a,A),a[22]=A}(A,this.componentDef,ge,m,E);if(A)if(l)Xs(E,A,["ng-version",Rp.full]);else{const{attrs:st,classes:De}=function VS(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++l]):8===c&&a.push(h);else{if(!ki(c))break;c=h}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);st&&Xs(E,A,st),De&&De.length>0&&Ss(E,A,De.join(" "))}if(Ve=Qo(W,22),void 0!==a){const st=Ve.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const pt=a[De];st.push(null!=pt?Array.from(pt):null)}}Pe=function NI(i,s,a,l){const c=a[1],h=function II(i,s,a){const l=Gn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Iv(i,l,s,du(i,s,1,null),a),Cv(i,l));const c=no(s,i,l.directiveStart,l);rr(c,s);const h=Tn(l,s);return h&&rr(h,s),c}(c,a,s);if(i[8]=a[8]=h,null!==l)for(const m of l)m(h,s);if(s.contentQueries){const m=Gn();s.contentQueries(1,h,m.directiveStart)}const g=Gn();return!c.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Qi(g.index),Bd(a[1],g,0,g.directiveStart,g.directiveEnd,s),Ma(s,h)),h}(Je,this.componentDef,ge,[rR]),Ld(W,ge,null)}finally{Pc()}return new xI(this.componentType,Pe,Co(Ve,ge),ge,Ve)}}class xI extends class $b{}{constructor(s,a,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new ig(c),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const h=this._rootLView;rg(h[1],h,c,s,a),Qp(h,this._tNode.index)}}get injector(){return new Pl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function rR(){const i=Gn();P(Ie()[1],i)}function og(i){let s=function qd(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(tr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new K(903,!1);c=s.\u0275dir}if(c){if(a){l.push(c);const g=i;g.inputs=Kd(i.inputs),g.declaredInputs=Kd(i.declaredInputs),g.outputs=Kd(i.outputs);const m=c.hostBindings;m&&Fv(i,m);const y=c.viewQuery,E=c.contentQueries;if(y&&Ao(i,y),E&&kI(i,E),$e(i.inputs,c.inputs),$e(i.declaredInputs,c.declaredInputs),$e(i.outputs,c.outputs),tr(c)&&c.data.animation){const w=i.data;w.animation=(w.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let g=0;g<h.length;g++){const m=h[g];m&&m.ngInherit&&m(i),m===og&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Ov(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Al(c.hostAttrs,a=Al(a,c.hostAttrs))}}(l)}function Kd(i){return i===_r?{}:i===yt?[]:i}function Ao(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function kI(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,h)=>{s(l,c,h),a(l,c,h)}:s}function Fv(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Yd=null;function ds(){if(!Yd){const i=lt.Symbol;if(i&&i.iterator)Yd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Yd=l)}}}return Yd}function _u(i){return!!Zd(i)&&(Array.isArray(i)||!(i instanceof Map)&&ds()in i)}function Zd(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function gr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Qd(i,s,a,l){const c=Ie();return gr(c,_i(),s)&&(qt(),cs(An(),c,i,s,a,l)),Qd}function So(i,s,a,l){return gr(i,_i(),a)?s+B(a)+l:Tt}function Gv(i,s,a,l,c,h,g,m){const y=Ie(),E=qt(),w=i+22,A=E.firstCreatePass?function jv(i,s,a,l,c,h,g,m,y){const E=s.consts,w=Li(s,i,4,g||null,Zi(E,m));Vd(s,a,w,Zi(E,y)),P(s,w);const A=w.tViews=fu(2,w,l,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,E);return null!==s.queries&&(s.queries.template(s,w),A.queries=s.queries.embeddedTView(w)),w}(w,E,y,s,a,l,c,h,g):E.data[w];gi(A,!1);const F=y[11].createComment("");od(E,y,F,A),rr(F,y),$d(y,y[w]=eg(F,y,F,A)),On(A)&&Sa(E,y,A),null!=g&&Ra(y,A,m)}function Cn(i,s,a){const l=Ie();return gr(l,_i(),s)&&Wr(qt(),An(),l,i,s,l[11],a,!1),Cn}function cn(i,s,a,l,c){const g=c?"class":"style";rg(i,a,s.inputs[g],g,l)}function Oa(i,s,a,l){const c=Ie(),h=qt(),g=22+i,m=c[11],y=c[g]=go(m,s,function C(){return Dt.lFrame.currentNamespace}()),E=h.firstCreatePass?function lg(i,s,a,l,c,h,g){const m=s.consts,E=Li(s,i,2,c,Zi(m,h));return Vd(s,a,E,Zi(m,g)),null!==E.attrs&&Wd(E,E.attrs,!1),null!==E.mergedAttrs&&Wd(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(g,h,c,0,s,a,l):h.data[g];gi(E,!0);const w=E.mergedAttrs;null!==w&&Xs(m,y,w);const A=E.classes;null!==A&&Ss(m,y,A);const F=E.styles;return null!==F&&xi(m,y,F),64!=(64&E.flags)&&od(h,c,y,E),0===function bl(){return Dt.lFrame.elementDepthCount}()&&rr(y,c),function F_(){Dt.lFrame.elementDepthCount++}(),On(E)&&(Sa(h,c,E),function Aa(i,s,a){if(Lt(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const g=i.data[h];g.contentQueries&&g.contentQueries(1,a[h],h)}}}(h,E,c)),null!==l&&Ra(c,E),Oa}function Jd(){let i=Gn();Tc()?function Ac(){Dt.lFrame.isParent=!1}():(i=i.parent,gi(i,!1));const s=i;!function qw(){Dt.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(P(a,i),Lt(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Kw(i){return 0!=(16&i.flags)}(s)&&cn(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Yw(i){return 0!=(32&i.flags)}(s)&&cn(a,s,Ie(),s.stylesWithoutHost,!1),Jd}function ug(i,s,a,l){return Oa(i,s,a,l),Jd(),ug}function fg(){return Ie()}function pg(i){return!!i&&"function"==typeof i.then}function Wv(i){return!!i&&"function"==typeof i.subscribe}const zv=Wv;function Xd(i,s,a,l){const c=Ie(),h=qt(),g=Gn();return function Kv(i,s,a,l,c,h,g,m){const y=On(l),w=i.firstCreatePass&&Gd(i),A=s[8],F=tg(s);let W=!0;if(3&l.type||m){const Ve=Tn(l,s),Je=m?m(Ve):Ve,st=F.length,De=m?en=>m(_n(en[l.index])):l.index;let pt=null;if(!m&&y&&(pt=function GI(i,s,a,l){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===a&&c[h+1]===l){const m=s[7],y=c[h+2];return m.length>y?m[y]:null}"string"==typeof g&&(h+=2)}return null}(i,s,c,l.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=h,pt.__ngLastListenerFn__=h,W=!1;else{h=gg(l,s,A,h,!1);const en=a.listen(Je,c,h);F.push(h,en),w&&w.push(c,De,st,st+1)}}else h=gg(l,s,A,h,!1);const ge=l.outputs;let Pe;if(W&&null!==ge&&(Pe=ge[c])){const Ve=Pe.length;if(Ve)for(let Je=0;Je<Ve;Je+=2){const yn=s[Pe[Je]][Pe[Je+1]].subscribe(h),Xa=F.length;F.push(h,yn),w&&w.push(c,l.index,Xa,-(Xa+1))}}}(h,c,c[11],g,i,s,0,l),Xd}function No(i,s,a,l){try{return!1!==a(l)}catch(c){return ng(i,c),!1}}function gg(i,s,a,l,c){return function h(g){if(g===Function)return l;Mv(2&i.flags?Er(i.index,s):s);let y=No(s,0,l,g),E=h.__ngNextListenerFn__;for(;E;)y=No(s,0,E,g)&&y,E=E.__ngNextListenerFn__;return c&&!1===y&&(g.preventDefault(),g.returnValue=!1),y}}function mg(i=1){return function Cs(i){return(Dt.lFrame.contextLView=function j_(i,s){for(;i>0;)s=s[15],i--;return s}(i,Dt.lFrame.contextLView))[8]}(i)}function _g(i,s,a){return yg(i,"",s,"",a),_g}function yg(i,s,a,l,c){const h=Ie(),g=So(h,s,a,l);return g!==Tt&&Wr(qt(),An(),h,i,g,h[11],c,!1),yg}function Eg(i,s,a,l,c){const h=i[a+1],g=null===s;let m=l?ri(h):us(h),y=!1;for(;0!==m&&(!1===y||g);){const w=i[m+1];WI(i[m],s)&&(y=!0,i[m+1]=l?nu(w):Pd(w)),m=l?ri(w):us(w)}y&&(i[a+1]=l?Pd(h):nu(h))}function WI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&kl(i,s)>=0}function rh(i,s){return function qr(i,s,a,l){const c=Ie(),h=qt(),g=function Dr(i){const s=Dt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);h.firstUpdatePass&&function Ig(i,s,a,l){const c=i.data;if(null===c[a+1]){const h=c[xn()],g=function iE(i,s){return s>=i.expandoStartIndex}(i,a);(function sE(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!g&&(s=!1),s=function JI(i,s,a,l){const c=function ia(i){const s=Dt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Tu(a=ko(null,i,s,a,l),s.attrs,l),h=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==c)if(a=ko(c,i,s,a,l),null===h){let y=function Mr(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==us(l))return i[ri(l)]}(i,s,l);void 0!==y&&Array.isArray(y)&&(y=ko(null,i,s,y[1],l),y=Tu(y,s.attrs,l),function ih(i,s,a,l){i[ri(a?s.classBindings:s.styleBindings)]=l}(i,s,l,y))}else h=function XI(i,s,a){let l;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)l=Tu(l,i[h].hostAttrs,a);return Tu(l,s.attrs,a)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),a}(c,h,s,l),function Xv(i,s,a,l,c,h){let g=h?s.classBindings:s.styleBindings,m=ri(g),y=us(g);i[l]=a;let w,E=!1;if(Array.isArray(a)){const A=a;w=A[1],(null===w||kl(A,w)>0)&&(E=!0)}else w=a;if(c)if(0!==y){const F=ri(i[m+1]);i[l+1]=Io(F,m),0!==F&&(i[F+1]=xd(i[F+1],l)),i[m+1]=function hv(i,s){return 131071&i|s<<17}(i[m+1],l)}else i[l+1]=Io(m,0),0!==m&&(i[m+1]=xd(i[m+1],l)),m=l;else i[l+1]=Io(y,0),0===m?m=l:i[y+1]=xd(i[y+1],l),y=l;E&&(i[l+1]=Pd(i[l+1])),Eg(i,w,l,!0),Eg(i,w,l,!1),function Vs(i,s,a,l,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&kl(h,s)>=0&&(a[l+1]=nu(a[l+1]))}(s,w,i,l,h),g=Io(m,y),h?s.classBindings=g:s.styleBindings=g}(c,h,s,a,g,l)}}(h,i,g,l),s!==Tt&&gr(c,g,s)&&function sh(i,s,a,l,c,h,g,m){if(!(3&s.type))return;const y=i.data,E=y[m+1];Au(function Gp(i){return 1==(1&i)}(E)?Tg(y,s,a,c,us(E),g):void 0)||(Au(h)||function jp(i){return 2==(2&i)}(E)&&(h=Tg(y,null,a,c,m,g)),function fp(i,s,a,l,c){if(s)c?i.addClass(a,l):i.removeClass(a,l);else{let h=-1===l.indexOf("-")?void 0:Ei.DashCase;null==c?i.removeStyle(a,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Ei.Important),i.setStyle(a,l,c,h))}}(l,g,Zo(xn(),a),c,h))}(h,h.data[xn()],c,c[11],i,c[g+1]=function n0(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=xe(Rs(i)))),i}(s,a),l,g)}(i,s,null,!0),rh}function ko(i,s,a,l,c){let h=null;const g=a.directiveEnd;let m=a.directiveStylingLast;for(-1===m?m=a.directiveStart:m++;m<g&&(h=s[m],l=Tu(l,h.hostAttrs,c),h!==i);)m++;return null!==i&&(a.directiveStylingLast=m),l}function Tu(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?c=g:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ei(i,g,!!a||s[++h]))}return void 0===i?null:i}function Tg(i,s,a,l,c,h){const g=null===s;let m;for(;c>0;){const y=i[c],E=Array.isArray(y),w=E?y[1]:y,A=null===w;let F=a[c+1];F===Tt&&(F=A?yt:void 0);let W=A?Ff(F,l):w===l?F:void 0;if(E&&!Au(W)&&(W=Ff(y,l)),Au(W)&&(m=W,g))return m;const ge=i[c+1];c=g?ri(ge):us(ge)}if(null!==s){let y=h?s.residualClasses:s.residualStyles;null!=y&&(m=Ff(y,l))}return m}function Au(i){return void 0!==i}function Ii(i,s=""){const a=Ie(),l=qt(),c=i+22,h=l.firstCreatePass?Li(l,c,1,s,null):l.data[c],g=a[c]=function ip(i,s){return i.createText(s)}(a[11],s);od(l,a,g,h),gi(h,!1)}function si(i){return La("",i,""),si}function La(i,s,a){const l=Ie(),c=So(l,i,s,a);return c!==Tt&&function ii(i,s,a){const l=Zo(s,i);!function fy(i,s,a){i.setValue(s,a)}(i[11],l,a)}(l,xn(),c),La}const Fo=void 0;var p0=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f0(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Lo={};function ah(i){const s=function g0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=bE(s);if(a)return a;const l=s.split("-")[0];if(a=bE(l),a)return a;if("en"===l)return p0;throw new K(701,!1)}function wE(i){return ah(i)[ht.PluralCase]}function bE(i){return i in Lo||(Lo[i]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[i]),Lo[i]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Ba="en-US";let Ng=Ba;function Bg(i,s,a,l,c){if(i=be(i),Array.isArray(i))for(let h=0;h<i.length;h++)Bg(i[h],s,a,l,c);else{const h=qt(),g=Ie();let m=Ni(i)?i:be(i.provide),y=$y(i);const E=Gn(),w=1048575&E.providerIndexes,A=E.directiveStart,F=E.providerIndexes>>20;if(Ni(i)||!i.multi){const W=new $t(y,c,bo),ge=Ch(m,s,c?w:w+F,A);-1===ge?(Ml(to(E,g),h,m),vh(h,i,s.length),s.push(m),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),a.push(W),g.push(W)):(a[ge]=W,g[ge]=W)}else{const W=Ch(m,s,w+F,A),ge=Ch(m,s,w,w+F),Pe=W>=0&&a[W],Ve=ge>=0&&a[ge];if(c&&!Ve||!c&&!Pe){Ml(to(E,g),h,m);const Je=function W0(i,s,a,l,c){const h=new $t(i,a,bo);return h.multi=[],h.index=s,h.componentProviders=0,Eh(h,c,l&&!a),h}(c?GE:Hg,a.length,c,l,y);!c&&Ve&&(a[ge].providerFactory=Je),vh(h,i,s.length,0),s.push(m),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),a.push(Je),g.push(Je)}else vh(h,i,W>-1?W:ge,Eh(a[c?ge:W],y,!c&&l));!c&&l&&Ve&&a[ge].componentProviders++}}}function vh(i,s,a,l){const c=Ni(s),h=function By(i){return!!i.useClass}(s);if(c||h){const y=(h?be(s.useClass):s).prototype.ngOnDestroy;if(y){const E=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const w=E.indexOf(a);-1===w?E.push(a,[l,y]):E[w+1].push(l,y)}else E.push(a,y)}}}function Eh(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Ch(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function Hg(i,s,a,l){return Vo(this.multi,[])}function GE(i,s,a,l){const c=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,m=no(a,a[1],this.providerFactory.index,l);h=m.slice(0,g),Vo(c,h);for(let y=g;y<m.length;y++)h.push(m[y])}else h=[],Vo(c,h);return h}function Vo(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function wh(i,s=[]){return a=>{a.providersResolver=(l,c)=>function G0(i,s,a){const l=qt();if(l.firstCreatePass){const c=tr(i);Bg(a,l.data,l.blueprint,c,!0),Bg(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class js{}class WE{}function $g(i,s){return new bh(i,s??null)}class bh extends js{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zd(this);const l=Zn(s);this._bootstrapComponents=ls(l.bootstrap),this._r3Injector=sv(s,a,[{provide:js,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],xe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pu extends WE{constructor(s){super(),this.moduleType=s}create(s){return new bh(this.moduleType,s)}}class z0 extends js{constructor(s,a,l){super(),this.componentFactoryResolver=new zd(this),this.instance=null;const c=new Hy([...s,{provide:js,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],a||Ms(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function jg(i,s,a=null){return new z0(i,s,a).injector}let q0=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=yd(0,a.type),c=l.length>0?jg([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,c)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Et({token:i,providedIn:"environment",factory:()=>new i(Jn(Ps))}),i})();function xu(i){i.getStandaloneInjector=s=>s.get(q0).getOrCreateStandaloneInjector(i)}function ku(i,s,a,l){return function qg(i,s,a,l,c,h){const g=s+a;return gr(i,g,c)?function Ci(i,s,a){return i[s]=a}(i,g+1,h?l.call(h,c):l(c)):function za(i,s){const a=i[s];return a===Tt?void 0:a}(i,g+1)}(Ie(),function nr(){const i=Dt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,a,l)}function rC(i){return s=>{setTimeout(i,void 0,s)}}const ai=class Ou extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let c=s,h=a||(()=>null),g=l;if(s&&"object"==typeof s){const y=s;c=y.next?.bind(y),h=y.error?.bind(y),g=y.complete?.bind(y)}this.__isAsync&&(h=rC(h),c&&(c=rC(c)),g&&(g=rC(g)));const m=super.subscribe({next:c,error:h,complete:g});return s instanceof O.w0&&s.add(m),m}};function vR(){return this._results[ds()]()}class Zg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ds(),l=Zg.prototype;l[a]||(l[a]=vR)}get changes(){return this._changes||(this._changes=new ai)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=Xr(s);(this._changesDetected=!function gS(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],h=s[l];if(a&&(c=a(c),h=a(h)),h!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ah=(()=>{class i{}return i.__NG_ELEMENT_ID__=ER,i})();const aD=Ah,lD=class extends aD{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,c=To(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),Ld(l,c,s),new mu(c)}};function ER(){return Qg(Gn(),Ie())}function Qg(i,s){return 4&i.type?new lD(s,i,Co(i,s)):null}let Sh=(()=>{class i{}return i.__NG_ELEMENT_ID__=CR,i})();function CR(){return sC(Gn(),Ie())}const wR=Sh,uD=class extends wR{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new Pl(this._hostTNode,this._hostLView)}get parentInjector(){const s=Rl(this._hostTNode,this._hostLView);if(Rf(s)){const a=eo(s,this._hostLView),l=ws(s);return new Pl(a[1].data[l+8],a)}return new Pl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=cD(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const g=s.createEmbeddedView(a||{},h);return this.insert(g,c),g}createComponent(s,a,l,c,h){const g=s&&!function Nl(i){return"function"==typeof i}(s);let m;if(g)m=a;else{const A=a||{};m=A.index,l=A.injector,c=A.projectableNodes,h=A.environmentInjector||A.ngModuleRef}const y=g?s:new xa(Qe(s)),E=l||this.parentInjector;if(!h&&null==y.ngModule){const F=(g?E:this.parentInjector).get(Ps,null);F&&(h=F)}const w=y.create(E,c,void 0,h);return this.insert(w.hostView,m),w}insert(s,a){const l=s._lView,c=l[1];if(function Cl(i){return Rt(i[3])}(l)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const A=l[3],F=new uD(A,A[6],A[3]);F.detach(F.indexOf(s))}}const h=this._adjustIndex(a),g=this._lContainer;!function ga(i,s,a,l){const c=10+l,h=a.length;l>0&&(a[c-1][4]=s),l<h-10?(s[4]=a[c],rb(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const g=s[17];null!==g&&a!==g&&function Cb(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(g,s);const m=s[19];null!==m&&m.insertView(i),s[2]|=64}(c,l,g,h);const m=lp(h,g),y=l[11],E=mo(y,g[7]);return null!==E&&function py(i,s,a,l,c,h){l[0]=c,l[6]=s,_a(i,l,a,1,c,h)}(c,g[6],y,l,E,m),s.attachToViewContainerRef(),rb(iC(g),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=cD(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=id(this._lContainer,a);l&&(Uc(iC(this._lContainer),a),yy(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=id(this._lContainer,a);return l&&null!=Uc(iC(this._lContainer),a)?new mu(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function cD(i){return i[8]}function iC(i){return i[8]||(i[8]=[])}function sC(i,s){let a;const l=s[i.index];if(Rt(l))a=l;else{let c;if(8&i.type)c=_n(l);else{const h=s[11];c=h.createComment("");const g=Tn(i,s);As(h,mo(h,g),c,function Ey(i,s){return i.nextSibling(s)}(h,g),!1)}s[i.index]=a=eg(l,s,c,i),$d(s,a)}return new uD(a,i,s)}class Xg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Xg(this.queryList)}setDirty(){this.queryList.setDirty()}}class em{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let h=0;h<l;h++){const g=a.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new em(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==vD(s,a).matches&&this.queries[a].setDirty()}}class aC{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class tm{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,h=this.getByIndex(l).embeddedTView(s,c);h&&(h.indexInDeclarationView=l,null!==a?a.push(h):a=[h])}return null!==a?new tm(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Rh{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Rh(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(s,a,bR(a,h)),this.matchTNodeWithReadOption(s,a,Fc(a,s,h,!1,!1))}else l===Ah?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Fc(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Jl||c===Sh||c===Ah&&4&a.type)this.addMatch(a.index,-2);else{const h=Fc(a,s,c,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function bR(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function fD(i,s,a,l){return-1===a?function hD(i,s){return 11&i.type?Co(i,s):4&i.type?Qg(i,s):null}(s,i):-2===a?function lC(i,s,a){return a===Jl?Co(s,i):a===Ah?Qg(s,i):a===Sh?sC(s,i):void 0}(i,s,l):no(i,i[1],a,s)}function pD(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const h=i.data,g=a.matches,m=[];for(let y=0;y<g.length;y+=2){const E=g[y];m.push(E<0?null:fD(s,h[E],g[y+1],a.metadata.read))}c.matches=m}return c.matches}function uC(i,s,a,l){const c=i.queries.getByIndex(a),h=c.matches;if(null!==h){const g=pD(i,s,c,a);for(let m=0;m<h.length;m+=2){const y=h[m];if(y>0)l.push(g[m/2]);else{const E=h[m+1],w=s[-y];for(let A=10;A<w.length;A++){const F=w[A];F[17]===F[3]&&uC(F[1],F,E,l)}if(null!==w[9]){const A=w[9];for(let F=0;F<A.length;F++){const W=A[F];uC(W[1],W,E,l)}}}}}return l}function gD(i){const s=Ie(),a=qt(),l=sa();Dl(l+1);const c=vD(a,l);if(i.dirty&&function Cc(i){return 4==(4&i[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?uC(a,s,l,[]):pD(a,s,c,l);i.reset(h,Gb),i.notifyOnChanges()}return!0}return!1}function mD(i,s,a,l){const c=qt();if(c.firstCreatePass){const h=Gn();(function dC(i,s,a){null===i.queries&&(i.queries=new tm),i.queries.track(new Rh(s,a))})(c,new aC(s,a,l),h.index),function hC(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function yD(i,s,a){const l=new Zg(4==(4&a));Yp(i,s,l,l.destroy),null===s[19]&&(s[19]=new em),s[19].queries.push(new Xg(l))}(c,Ie(),a)}function _D(){return function cC(i,s){return i[19].queries[s].queryList}(Ie(),sa())}function vD(i,s){return i.queries.getByIndex(s)}function li(...i){}const hm=new fn("Application Initializer");let jo=(()=>{class i{constructor(a){this.appInits=a,this.resolve=li,this.reject=li,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(pg(h))a.push(h);else if(zv(h)){const g=new Promise((m,y)=>{h.subscribe({complete:m,error:y})});a.push(g)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Jn(hm,8))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Go=new fn("AppId",{providedIn:"root",factory:function fm(){return`${Bu()}${Bu()}${Bu()}`}});function Bu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pm=new fn("Platform Initializer"),CC=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gm=new fn("appBootstrapListener");let $h=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const jh=new fn("LocaleId",{providedIn:"root",factory:()=>iy(jh,Me.Optional|Me.SkipSelf)||function MR(){return typeof $localize<"u"&&$localize.locale||Ba}()}),PR=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class PD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let mm=(()=>{class i{compileModuleSync(a){return new Pu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),h=ls(Zn(a).declarations).reduce((g,m)=>{const y=Qe(m);return y&&g.push(new xa(y)),g},[]);return new PD(l,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const DC=(()=>Promise.resolve(0))();function vm(i){typeof Zone>"u"?DC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ui{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ai(!1),this.onMicrotaskEmpty=new ai(!1),this.onStable=new ai(!1),this.onError=new ai(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function xD(){let i=lt.requestAnimationFrame,s=lt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ND(i){const s=()=>{!function Em(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(lt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Cm(i),i.isCheckStableRunning=!0,Hi(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Cm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,h,g,m)=>{try{return or(i),a.invokeTask(c,h,g,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),wm(i)}},onInvoke:(a,l,c,h,g,m,y)=>{try{return or(i),a.invoke(c,h,g,m,y)}finally{i.shouldCoalesceRunChangeDetection&&s(),wm(i)}},onHasTask:(a,l,c,h)=>{a.hasTask(c,h),l===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Cm(i),Hi(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,l,c,h)=>(a.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ui.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(ui.isInAngularZone())throw new K(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,s,TC,li,li);try{return h.runTask(g,a,l)}finally{h.cancelTask(g)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const TC={};function Hi(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Cm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function or(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function wm(i){i._nesting--,Hi(i)}class kD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ai,this.onMicrotaskEmpty=new ai,this.onStable=new ai,this.onError=new ai}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}const AC=new fn(""),SC=new fn("");let bm,RC=(()=>{class i{constructor(a,l,c){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bm||(function PC(i){bm=i}(c),c.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ui.assertNotInAngularZone(),vm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Jn(ui),Jn(MC),Jn(SC))},i.\u0275prov=Et({token:i,factory:i.\u0275fac}),i})(),MC=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return bm?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Wo=null;const Im=new fn("AllowMultipleToken"),Hu=new fn("PlatformDestroyListeners");class Am{constructor(s,a){this.name=s,this.token=a}}function zh(i,s,a=[]){const l=`Platform: ${s}`,c=new fn(l);return(h=[])=>{let g=$u();if(!g||g.injector.get(Im,!1)){const m=[...a,...h,{provide:c,useValue:!0}];i?i(m):function Sm(i){if(Wo&&!Wo.get(Im,!1))throw new K(400,!1);Wo=i;const s=i.get(NC);(function Wh(i){const s=i.get(pm,null);s&&s.forEach(a=>a())})(i)}(function qh(i=[],s){return xs.create({name:s,providers:[{provide:vd,useValue:"platform"},{provide:Hu,useValue:new Set([()=>Wo=null])},...i]})}(m,l))}return function Rm(i){const s=$u();if(!s)throw new K(401,!1);return s}()}}function $u(){return Wo?.get(NC)??null}let NC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const c=function kC(i,s){let a;return a="noop"===i?new kD:("zone.js"===i?void 0:i)||new ui(s),a}(l?.ngZone,function Kh(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:ui,useValue:c}];return c.run(()=>{const g=xs.create({providers:h,parent:this.injector,name:a.moduleType.name}),m=a.create(g),y=m.injector.get(Xl,null);if(!y)throw new K(402,!1);return c.runOutsideAngular(()=>{const E=c.onError.subscribe({next:w=>{y.handleError(w)}});m.onDestroy(()=>{Za(this._modules,m),E.unsubscribe()})}),function Yh(i,s,a){try{const l=a();return pg(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(y,c,()=>{const E=m.injector.get(jo);return E.runInitializers(),E.donePromise.then(()=>(function y0(i){gt(i,"Expected localeId to be defined"),"string"==typeof i&&(Ng=i.toLowerCase().replace(/_/g,"-"))}(m.injector.get(jh,Ba)||Ba),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,l=[]){const c=OC({},l);return function Dm(i,s,a){const l=new Pu(a);return Promise.resolve(l)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(a){const l=a.injector.get(Ya);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new K(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Hu,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Jn(xs))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function OC(i,s){return Array.isArray(s)?s.reduce(OC,i):{...i,...s}}let Ya=(()=>{class i{constructor(a,l,c){this._zone=a,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new H.y(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),g=new H.y(m=>{let y;this._zone.runOutsideAngular(()=>{y=this._zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),vm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{y.unsubscribe(),E.unsubscribe()}});this.isStable=function J(...i){const s=(0,Z.yG)(i),a=(0,Z._6)(i,1/0),l=i;return l.length?1===l.length?(0,se.Xf)(l[0]):(0,$.J)(a)((0,le.D)(l,s)):ne.E}(h,g.pipe(function z(i={}){const{connector:s=(()=>new f.x),resetOnError:a=!0,resetOnComplete:l=!0,resetOnRefCountZero:c=!0}=i;return h=>{let g,m,y,E=0,w=!1,A=!1;const F=()=>{m?.unsubscribe(),m=void 0},W=()=>{F(),g=y=void 0,w=A=!1},ge=()=>{const Pe=g;W(),Pe?.unsubscribe()};return(0,M.e)((Pe,Ve)=>{E++,!A&&!w&&F();const Je=y=y??s();Ve.add(()=>{E--,0===E&&!A&&!w&&(m=Re(ge,c))}),Je.subscribe(Ve),!g&&E>0&&(g=new R.Hp({next:st=>Je.next(st),error:st=>{A=!0,F(),m=Re(W,a,st),Je.error(st)},complete:()=>{w=!0,F(),m=Re(W,l),Je.complete()}}),(0,se.Xf)(Pe).subscribe(g))})(h)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const c=a instanceof jy;if(!this._injector.get(jo).done)throw!c&&Yn(a),new K(405,false);let g;g=c?a:this._injector.get(ba).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const m=function Tm(i){return i.isBoundToModule}(g)?void 0:this._injector.get(js),E=g.create(xs.NULL,[],l||g.selector,m),w=E.location.nativeElement,A=E.injector.get(AC,null);return A?.registerApplication(w),E.onDestroy(()=>{this.detachView(E.hostView),Za(this.components,E),A?.unregisterApplication(w)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Za(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(gm,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Za(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new K(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Jn(ui),Jn(Ps),Jn(Xl))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Za(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let FC=!0,Qa=!1;function OD(){return Qa=!0,FC}function Pm(){if(Qa)throw new Error("Cannot enable prod mode after platform setup.");FC=!1}let xm=(()=>{class i{}return i.__NG_ELEMENT_ID__=FD,i})();function FD(i){return function LD(i,s,a){if(zt(i)&&!a){const l=Er(i.index,s);return new mu(l,l)}return 47&i.type?new mu(s[16],s):null}(Gn(),Ie(),16==(16&i))}class HD{constructor(){}supports(s){return _u(s)}create(s){return new Qh(s)}}const Um=(i,s)=>s;class Qh{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Um}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,h=null;for(;a||l;){const g=!l||a&&a.currentIndex<Jh(l,c,h)?a:l,m=Jh(g,c,h),y=g.currentIndex;if(g===l)c--,l=l._nextRemoved;else if(a=a._next,null==g.previousIndex)c++;else{h||(h=[]);const E=m-c,w=y-c;if(E!=w){for(let F=0;F<E;F++){const W=F<h.length?h[F]:h[F]=0,ge=W+F;w<=ge&&ge<E&&(h[F]=W+1)}h[g.previousIndex]=w-E}}m!==y&&s(g,m,y)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!_u(s))throw new K(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,g,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)h=s[m],g=this._trackByFn(m,h),null!==a&&Object.is(a.trackById,g)?(l&&(a=this._verifyReinsertion(a,h,g,m)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,g,m),l=!0),a=a._next}else c=0,function UI(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[ds()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,m=>{g=this._trackByFn(c,m),null!==a&&Object.is(a.trackById,g)?(l&&(a=this._verifyReinsertion(a,m,g,c)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,g,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,c)):s=this._addAfter(new $C(a,l),h,c),s}_verifyReinsertion(s,a,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new $D),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $D),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class $C{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class $D{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new jC,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jh(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Xh{constructor(){}supports(s){return s instanceof Map||Zd(s)}create(){return new Vm}}class Vm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Zd(s)))throw new K(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const l=new ef(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class ef{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tf(){return new nf([new HD])}let nf=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||tf()),deps:[[i,new Xi,new Fl]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new K(901,!1)}}return i.\u0275prov=Et({token:i,providedIn:"root",factory:tf}),i})();function Bm(){return new qu([new Xh])}let qu=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Bm()),deps:[[i,new Xi,new Fl]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new K(901,!1)}}return i.\u0275prov=Et({token:i,providedIn:"root",factory:Bm}),i})();const jD=zh(null,"core",[]);let jm=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Jn(Ya))},i.\u0275mod=ft({type:i}),i.\u0275inj=Mn({}),i})();function GD(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ot,me,T)=>{"use strict";T.d(me,{Z:()=>$e});var f=T(2090),O=T(4859),H=T(6881),$=T(1877);class se{constructor(ke,Te){this._delegate=ke,this.firebase=Te,(0,H._addComponent)(ke,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(ke,Te=H._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const be=this._delegate.container.getProvider(ke);return!be.isInitialized()&&"EXPLICIT"===(null===(We=be.getComponent())||void 0===We?void 0:We.instantiationMode)&&be.initialize(),be.getImmediate({identifier:Te})}_removeServiceInstance(ke,Te=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(Te)}_addComponent(ke){(0,H._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,H._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function J(){const xe=function le(xe){const ke={},Te={__esModule:!0,initializeApp:function ue(B,he={}){const we=H.initializeApp(B,he);if((0,f.r3)(ke,we.name))return ke[we.name];const nt=new xe(we,Te);return ke[we.name]=nt,nt},app:be,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function K(B){const he=B.name,we=he.replace("-compat","");if(H._registerComponent(B)&&"PUBLIC"===B.type){const nt=(Ge=be())=>{if("function"!=typeof Ge[we])throw Z.create("invalid-app-argument",{appName:he});return Ge[we]()};void 0!==B.serviceProps&&(0,f.ZB)(nt,B.serviceProps),Te[we]=nt,xe.prototype[we]=function(...Ge){return this._getService.bind(this,he).apply(this,B.multipleInstances?Ge:[])}}return"PUBLIC"===B.type?Te[we]:null},removeApp:function We(B){delete ke[B]},useAsService:function fe(B,he){return"serverAuth"===he?null:he},modularAPIs:H}};function be(B){if(!(0,f.r3)(ke,B=B||H._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:B});return ke[B]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function ve(){return Object.keys(ke).map(B=>ke[B])}}),be.App=xe,Te}(se);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function ke(Te){(0,f.ZB)(xe,Te)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),xe}(),M=new $.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){M.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&M.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=R;!function ae(xe){(0,H.registerVersion)("@firebase/app-compat","0.2.13",xe)}()},6881:(ot,me,T)=>{"use strict";T.r(me),T.d(me,{FirebaseError:()=>$.ZR,SDK_VERSION:()=>Dn,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>je,_addOrOverwriteComponent:()=>ze,_apps:()=>Jt,_clearComponents:()=>sn,_components:()=>Me,_getProvider:()=>Yt,_registerComponent:()=>Xt,_removeServiceInstance:()=>Hn,deleteApp:()=>_r,getApp:()=>di,getApps:()=>Hr,initializeApp:()=>lt,onLog:()=>yr,registerVersion:()=>qn,setLogLevel:()=>Nr});var f=T(5861),O=T(4859),H=T(1877),$=T(2090);let ne,Z;const R=new WeakMap,M=new WeakMap,z=new WeakMap,Re=new WeakMap,ae=new WeakMap;let ke={get(te,N,re){if(te instanceof IDBTransaction){if("done"===N)return M.get(te);if("objectStoreNames"===N)return te.objectStoreNames||z.get(te);if("store"===N)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return ue(te[N])},set:(te,N,re)=>(te[N]=re,!0),has:(te,N)=>te instanceof IDBTransaction&&("done"===N||"store"===N)||N in te};function be(te){return"function"==typeof te?function We(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...N){return te.apply(ve(this),N),ue(R.get(this))}:function(...N){return ue(te.apply(ve(this),N))}:function(N,...re){const Ue=te.call(ve(this),N,...re);return z.set(Ue,N.sort?N.sort():[N]),ue(Ue)}}(te):(te instanceof IDBTransaction&&function xe(te){if(M.has(te))return;const N=new Promise((re,Ue)=>{const rt=()=>{te.removeEventListener("complete",Ct),te.removeEventListener("error",_t),te.removeEventListener("abort",_t)},Ct=()=>{re(),rt()},_t=()=>{Ue(te.error||new DOMException("AbortError","AbortError")),rt()};te.addEventListener("complete",Ct),te.addEventListener("error",_t),te.addEventListener("abort",_t)});M.set(te,N)}(te),((te,N)=>N.some(re=>te instanceof re))(te,function le(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,ke):te)}function ue(te){if(te instanceof IDBRequest)return function $e(te){const N=new Promise((re,Ue)=>{const rt=()=>{te.removeEventListener("success",Ct),te.removeEventListener("error",_t)},Ct=()=>{re(ue(te.result)),rt()},_t=()=>{Ue(te.error),rt()};te.addEventListener("success",Ct),te.addEventListener("error",_t)});return N.then(re=>{re instanceof IDBCursor&&R.set(re,te)}).catch(()=>{}),ae.set(N,te),N}(te);if(Re.has(te))return Re.get(te);const N=be(te);return N!==te&&(Re.set(te,N),ae.set(N,te)),N}const ve=te=>ae.get(te),B=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],we=new Map;function nt(te,N){if(!(te instanceof IDBDatabase)||N in te||"string"!=typeof N)return;if(we.get(N))return we.get(N);const re=N.replace(/FromIndex$/,""),Ue=N!==re,rt=he.includes(re);if(!(re in(Ue?IDBIndex:IDBObjectStore).prototype)||!rt&&!B.includes(re))return;const Ct=function(){var _t=(0,f.Z)(function*(mn,...vt){const Qn=this.transaction(mn,rt?"readwrite":"readonly");let hr=Qn.store;return Ue&&(hr=hr.index(vt.shift())),(yield Promise.all([hr[re](...vt),rt&&Qn.done]))[0]});return function(vt){return _t.apply(this,arguments)}}();return we.set(N,Ct),Ct}!function Te(te){ke=te(ke)}(te=>({...te,get:(N,re,Ue)=>nt(N,re)||te.get(N,re,Ue),has:(N,re)=>!!nt(N,re)||te.has(N,re)}));class Ge{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function dt(te){return"VERSION"===te.getComponent()?.type}(re)){const Ue=re.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(re=>re).join(" ")}}const Ae="@firebase/app",In=new H.Yd("@firebase/app"),Pt="[DEFAULT]",Qt={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Me=new Map;function je(te,N){try{te.container.addComponent(N)}catch(re){In.debug(`Component ${N.name} failed to register with FirebaseApp ${te.name}`,re)}}function ze(te,N){te.container.addOrOverwriteComponent(N)}function Xt(te){const N=te.name;if(Me.has(N))return In.debug(`There were multiple attempts to register component ${N}.`),!1;Me.set(N,te);for(const re of Jt.values())je(re,te);return!0}function Yt(te,N){const re=te.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),te.container.getProvider(N)}function Hn(te,N,re=Pt){Yt(te,N).clearInstance(re)}function sn(){Me.clear()}const on=new $.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class St{constructor(N,re,Ue){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Dn="9.23.0";function lt(te,N={}){let re=te;"object"!=typeof N&&(N={name:N});const Ue=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},N),rt=Ue.name;if("string"!=typeof rt||!rt)throw on.create("bad-app-name",{appName:String(rt)});if(re||(re=(0,$.aH)()),!re)throw on.create("no-options");const Ct=Jt.get(rt);if(Ct){if((0,$.vZ)(re,Ct.options)&&(0,$.vZ)(Ue,Ct.config))return Ct;throw on.create("duplicate-app",{appName:rt})}const _t=new O.H0(rt);for(const vt of Me.values())_t.addComponent(vt);const mn=new St(re,Ue,_t);return Jt.set(rt,mn),mn}function di(te=Pt){const N=Jt.get(te);if(!N&&te===Pt&&(0,$.aH)())return lt();if(!N)throw on.create("no-app",{appName:te});return N}function Hr(){return Array.from(Jt.values())}function _r(te){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(te){const N=te.name;Jt.has(N)&&(Jt.delete(N),yield Promise.all(te.container.getProviders().map(re=>re.delete())),te.isDeleted=!0)})).apply(this,arguments)}function qn(te,N,re){var Ue;let rt=null!==(Ue=Qt[te])&&void 0!==Ue?Ue:te;re&&(rt+=`-${re}`);const Ct=rt.match(/\s|\//),_t=N.match(/\s|\//);if(Ct||_t){const mn=[`Unable to register library "${rt}" with version "${N}":`];return Ct&&mn.push(`library name "${rt}" contains illegal characters (whitespace or "/")`),Ct&&_t&&mn.push("and"),_t&&mn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void In.warn(mn.join(" "))}Xt(new O.wA(`${rt}-version`,()=>({library:rt,version:N}),"VERSION"))}function yr(te,N){if(null!==te&&"function"!=typeof te)throw on.create("invalid-log-argument");(0,H.Am)(te,N)}function Nr(te){(0,H.Ub)(te)}const k="firebase-heartbeat-store";let x=null;function V(){return x||(x=function K(te,N,{blocked:re,upgrade:Ue,blocking:rt,terminated:Ct}={}){const _t=indexedDB.open(te,N),mn=ue(_t);return Ue&&_t.addEventListener("upgradeneeded",vt=>{Ue(ue(_t.result),vt.oldVersion,vt.newVersion,ue(_t.transaction),vt)}),re&&_t.addEventListener("blocked",vt=>re(vt.oldVersion,vt.newVersion,vt)),mn.then(vt=>{Ct&&vt.addEventListener("close",()=>Ct()),rt&&vt.addEventListener("versionchange",Qn=>rt(Qn.oldVersion,Qn.newVersion,Qn))}).catch(()=>{}),mn}("firebase-heartbeat-database",1,{upgrade:(te,N)=>{0===N&&te.createObjectStore(k)}}).catch(te=>{throw on.create("idb-open",{originalErrorMessage:te.message})})),x}function Y(){return(Y=(0,f.Z)(function*(te){try{return yield(yield V()).transaction(k).objectStore(k).get(nn(te))}catch(N){if(N instanceof $.ZR)In.warn(N.message);else{const re=on.create("idb-get",{originalErrorMessage:N?.message});In.warn(re.message)}}})).apply(this,arguments)}function Ze(te,N){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(te,N){try{const Ue=(yield V()).transaction(k,"readwrite");yield Ue.objectStore(k).put(N,nn(te)),yield Ue.done}catch(re){if(re instanceof $.ZR)In.warn(re.message);else{const Ue=on.create("idb-set",{originalErrorMessage:re?.message});In.warn(Ue.message)}}})).apply(this,arguments)}function nn(te){return`${te.name}!${te.options.appId}`}class jn{constructor(N){this.container=N,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new an(re),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var N=this;return(0,f.Z)(function*(){const Ue=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),rt=Qe();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==rt&&!N._heartbeatsCache.heartbeats.some(Ct=>Ct.date===rt))return N._heartbeatsCache.heartbeats.push({date:rt,agent:Ue}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(Ct=>{const _t=new Date(Ct.date).valueOf();return Date.now()-_t<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,f.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const re=Qe(),{heartbeatsToSend:Ue,unsentEntries:rt}=function Zt(te,N=1024){const re=[];let Ue=te.slice();for(const rt of te){const Ct=re.find(_t=>_t.agent===rt.agent);if(Ct){if(Ct.dates.push(rt.date),Yn(re)>N){Ct.dates.pop();break}}else if(re.push({agent:rt.agent,dates:[rt.date]}),Yn(re)>N){re.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:re,unsentEntries:Ue}}(N._heartbeatsCache.heartbeats),Ct=(0,$.L)(JSON.stringify({version:2,heartbeats:Ue}));return N._heartbeatsCache.lastSentHeartbeatDate=re,rt.length>0?(N._heartbeatsCache.heartbeats=rt,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),Ct})()}}function Qe(){return(new Date).toISOString().substring(0,10)}class an{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,$.hl)()&&(0,$.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,f.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function ye(te){return Y.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var re=this;return(0,f.Z)(function*(){var Ue;if(yield re._canUseIndexedDBPromise){const Ct=yield re.read();return Ze(re.app,{lastSentHeartbeatDate:null!==(Ue=N.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Ct.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var re=this;return(0,f.Z)(function*(){var Ue;if(yield re._canUseIndexedDBPromise){const Ct=yield re.read();return Ze(re.app,{lastSentHeartbeatDate:null!==(Ue=N.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...N.heartbeats]})}})()}}function Yn(te){return(0,$.L)(JSON.stringify({version:2,heartbeats:te})).length}!function Zn(te){Xt(new O.wA("platform-logger",N=>new Ge(N),"PRIVATE")),Xt(new O.wA("heartbeat",N=>new jn(N),"PRIVATE")),qn(Ae,"0.9.13",te),qn(Ae,"0.9.13","esm2017"),qn("fire-js","")}("")},4859:(ot,me,T)=>{"use strict";T.d(me,{H0:()=>le,wA:()=>H});var f=T(5861),O=T(2090);class H{constructor(R,M,z){this.name=R,this.instanceFactory=M,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const $="[DEFAULT]";class se{constructor(R,M){this.name=R,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const M=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(M)){const z=new O.BH;if(this.instancesDeferred.set(M,z),this.isInitialized(M)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:M});Re&&z.resolve(Re)}catch{}}return this.instancesDeferred.get(M).promise}getImmediate(R){var M;const z=this.normalizeInstanceIdentifier(R?.identifier),Re=null!==(M=R?.optional)&&void 0!==M&&M;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(ae){if(Re)return null;throw ae}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function Z(J){return"EAGER"===J.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:$})}catch{}for(const[M,z]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(M);try{const ae=this.getOrInitializeService({instanceIdentifier:Re});z.resolve(ae)}catch{}}}}clearInstance(R=$){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,f.Z)(function*(){const M=Array.from(R.instances.values());yield Promise.all([...M.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...M.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=$){return this.instances.has(R)}getOptions(R=$){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:M={}}=R,z=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:z,options:M});for(const[ae,$e]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(ae)&&$e.resolve(Re);return Re}onInit(R,M){var z;const Re=this.normalizeInstanceIdentifier(M),ae=null!==(z=this.onInitCallbacks.get(Re))&&void 0!==z?z:new Set;ae.add(R),this.onInitCallbacks.set(Re,ae);const $e=this.instances.get(Re);return $e&&R($e,Re),()=>{ae.delete(R)}}invokeOnInitCallbacks(R,M){const z=this.onInitCallbacks.get(M);if(z)for(const Re of z)try{Re(R,M)}catch{}}getOrInitializeService({instanceIdentifier:R,options:M={}}){let z=this.instances.get(R);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(J=R,J===$?void 0:J),options:M}),this.instances.set(R,z),this.instancesOptions.set(R,M),this.invokeOnInitCallbacks(z,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,z)}catch{}var J;return z||null}normalizeInstanceIdentifier(R=$){return this.component?this.component.multipleInstances?R:$:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const M=this.getProvider(R.name);if(M.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);M.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const M=new se(R,this);return this.providers.set(R,M),M}getProviders(){return Array.from(this.providers.values())}}},4727:(ot,me,T)=>{"use strict";var f=T(5861),O=T(6881),H=T(4859),$=T(2090);let ne,Z;const R=new WeakMap,M=new WeakMap,z=new WeakMap,Re=new WeakMap,ae=new WeakMap;let ke={get(S,j,ce){if(S instanceof IDBTransaction){if("done"===j)return M.get(S);if("objectStoreNames"===j)return S.objectStoreNames||z.get(S);if("store"===j)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return ue(S[j])},set:(S,j,ce)=>(S[j]=ce,!0),has:(S,j)=>S instanceof IDBTransaction&&("done"===j||"store"===j)||j in S};function be(S){return"function"==typeof S?function We(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...j){return S.apply(ve(this),j),ue(R.get(this))}:function(...j){return ue(S.apply(ve(this),j))}:function(j,...ce){const Fe=S.call(ve(this),j,...ce);return z.set(Fe,j.sort?j.sort():[j]),ue(Fe)}}(S):(S instanceof IDBTransaction&&function xe(S){if(M.has(S))return;const j=new Promise((ce,Fe)=>{const kt=()=>{S.removeEventListener("complete",Ke),S.removeEventListener("error",Rt),S.removeEventListener("abort",Rt)},Ke=()=>{ce(),kt()},Rt=()=>{Fe(S.error||new DOMException("AbortError","AbortError")),kt()};S.addEventListener("complete",Ke),S.addEventListener("error",Rt),S.addEventListener("abort",Rt)});M.set(S,j)}(S),((S,j)=>j.some(ce=>S instanceof ce))(S,function le(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ke):S)}function ue(S){if(S instanceof IDBRequest)return function $e(S){const j=new Promise((ce,Fe)=>{const kt=()=>{S.removeEventListener("success",Ke),S.removeEventListener("error",Rt)},Ke=()=>{ce(ue(S.result)),kt()},Rt=()=>{Fe(S.error),kt()};S.addEventListener("success",Ke),S.addEventListener("error",Rt)});return j.then(ce=>{ce instanceof IDBCursor&&R.set(ce,S)}).catch(()=>{}),ae.set(j,S),j}(S);if(Re.has(S))return Re.get(S);const j=be(S);return j!==S&&(Re.set(S,j),ae.set(j,S)),j}const ve=S=>ae.get(S),B=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],we=new Map;function nt(S,j){if(!(S instanceof IDBDatabase)||j in S||"string"!=typeof j)return;if(we.get(j))return we.get(j);const ce=j.replace(/FromIndex$/,""),Fe=j!==ce,kt=he.includes(ce);if(!(ce in(Fe?IDBIndex:IDBObjectStore).prototype)||!kt&&!B.includes(ce))return;const Ke=function(){var Rt=(0,f.Z)(function*(Lt,...zt){const On=this.transaction(Lt,kt?"readwrite":"readonly");let tr=On.store;return Fe&&(tr=tr.index(zt.shift())),(yield Promise.all([tr[ce](...zt),kt&&On.done]))[0]});return function(zt){return Rt.apply(this,arguments)}}();return we.set(j,Ke),Ke}!function Te(S){ke=S(ke)}(S=>({...S,get:(j,ce,Fe)=>nt(j,ce)||S.get(j,ce,Fe),has:(j,ce)=>!!nt(j,ce)||S.has(j,ce)}));const Ge="@firebase/installations",hn="w:0.6.4",In="FIS_v2",ie=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ce(S){return S instanceof $.ZR&&S.code.includes("request-failed")}function _e({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Le(S){return{token:S.token,requestStatus:2,expiresIn:Et(S.expiresIn),creationTime:Date.now()}}function Ye(S,j){return gt.apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(S,j){const Fe=(yield j.json()).error;return ie.create("request-failed",{requestName:S,serverCode:Fe.code,serverMessage:Fe.message,serverStatus:Fe.status})})).apply(this,arguments)}function Ne({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function at(S,{refreshToken:j}){const ce=Ne(S);return ce.append("Authorization",function En(S){return`${In} ${S}`}(j)),ce}function ut(S){return wt.apply(this,arguments)}function wt(){return(wt=(0,f.Z)(function*(S){const j=yield S();return j.status>=500&&j.status<600?S():j})).apply(this,arguments)}function Et(S){return Number(S.replace("s","000"))}function Mn(S,j){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*({appConfig:S,heartbeatServiceProvider:j},{fid:ce}){const Fe=_e(S),kt=Ne(S),Ke=j.getImmediate({optional:!0});if(Ke){const On=yield Ke.getHeartbeatsHeader();On&&kt.append("x-firebase-client",On)}const Lt={method:"POST",headers:kt,body:JSON.stringify({fid:ce,authVersion:In,appId:S.appId,sdkVersion:hn})},zt=yield ut(()=>fetch(Fe,Lt));if(zt.ok){const On=yield zt.json();return{fid:On.fid||ce,registrationStatus:2,refreshToken:On.refreshToken,authToken:Le(On.authToken)}}throw yield Ye("Create Installation",zt)})).apply(this,arguments)}function Be(S){return new Promise(j=>{setTimeout(j,S)})}const Se=/^[cdef][\w-]{21}$/;function mt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const ce=function At(S){return function ee(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Se.test(ce)?ce:""}catch{return""}}function Pt(S){return`${S.appName}!${S.appId}`}const Qt=new Map;function Jt(S,j){const ce=Pt(S);ze(ce,j),function Xt(S,j){const ce=function Hn(){return!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=S=>{ze(S.data.key,S.data.fid)}),Yt}();ce&&ce.postMessage({key:S,fid:j}),function sn(){0===Qt.size&&Yt&&(Yt.close(),Yt=null)}()}(ce,j)}function ze(S,j){const ce=Qt.get(S);if(ce)for(const Fe of ce)Fe(j)}let Yt=null;const St="firebase-installations-store";let Dn=null;function lt(){return Dn||(Dn=function K(S,j,{blocked:ce,upgrade:Fe,blocking:kt,terminated:Ke}={}){const Rt=indexedDB.open(S,j),Lt=ue(Rt);return Fe&&Rt.addEventListener("upgradeneeded",zt=>{Fe(ue(Rt.result),zt.oldVersion,zt.newVersion,ue(Rt.transaction))}),ce&&Rt.addEventListener("blocked",()=>ce()),Lt.then(zt=>{Ke&&zt.addEventListener("close",()=>Ke()),kt&&zt.addEventListener("versionchange",()=>kt())}).catch(()=>{}),Lt}("firebase-installations-database",1,{upgrade:(S,j)=>{0===j&&S.createObjectStore(St)}})),Dn}function di(S,j){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(S,j){const ce=Pt(S),kt=(yield lt()).transaction(St,"readwrite"),Ke=kt.objectStore(St),Rt=yield Ke.get(ce);return yield Ke.put(j,ce),yield kt.done,(!Rt||Rt.fid!==j.fid)&&Jt(S,j.fid),j})).apply(this,arguments)}function _r(S){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(S){const j=Pt(S),Fe=(yield lt()).transaction(St,"readwrite");yield Fe.objectStore(St).delete(j),yield Fe.done})).apply(this,arguments)}function qn(S,j){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(S,j){const ce=Pt(S),kt=(yield lt()).transaction(St,"readwrite"),Ke=kt.objectStore(St),Rt=yield Ke.get(ce),Lt=j(Rt);return void 0===Lt?yield Ke.delete(ce):yield Ke.put(Lt,ce),yield kt.done,Lt&&(!Rt||Rt.fid!==Lt.fid)&&Jt(S,Lt.fid),Lt})).apply(this,arguments)}function Nr(S){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(S){let j;const ce=yield qn(S.appConfig,Fe=>{const kt=Kn(Fe),Ke=k(S,kt);return j=Ke.registrationPromise,Ke.installationEntry});return""===ce.fid?{installationEntry:yield j}:{installationEntry:ce,registrationPromise:j}})).apply(this,arguments)}function Kn(S){return ft(S||{fid:mt(),registrationStatus:0})}function k(S,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(ie.create("app-offline"))};const ce={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},Fe=function x(S,j){return V.apply(this,arguments)}(S,ce);return{installationEntry:ce,registrationPromise:Fe}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:ye(S)}:{installationEntry:j}}function V(){return(V=(0,f.Z)(function*(S,j){try{const ce=yield Mn(S,j);return di(S.appConfig,ce)}catch(ce){throw Ce(ce)&&409===ce.customData.serverCode?yield _r(S.appConfig):yield di(S.appConfig,{fid:j.fid,registrationStatus:0}),ce}})).apply(this,arguments)}function ye(S){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(S){let j=yield Ze(S.appConfig);for(;1===j.registrationStatus;)yield Be(100),j=yield Ze(S.appConfig);if(0===j.registrationStatus){const{installationEntry:ce,registrationPromise:Fe}=yield Nr(S);return Fe||ce}return j})).apply(this,arguments)}function Ze(S){return qn(S,j=>{if(!j)throw ie.create("installation-not-found");return ft(j)})}function ft(S){return function nn(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function $n(S,j){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*({appConfig:S,heartbeatServiceProvider:j},ce){const Fe=jn(S,ce),kt=at(S,ce),Ke=j.getImmediate({optional:!0});if(Ke){const On=yield Ke.getHeartbeatsHeader();On&&kt.append("x-firebase-client",On)}const Lt={method:"POST",headers:kt,body:JSON.stringify({installation:{sdkVersion:hn,appId:S.appId}})},zt=yield ut(()=>fetch(Fe,Lt));if(zt.ok)return Le(yield zt.json());throw yield Ye("Generate Auth Token",zt)})).apply(this,arguments)}function jn(S,{fid:j}){return`${_e(S)}/${j}/authTokens:generate`}function Qe(S){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(S,j=!1){let ce;const Fe=yield qn(S.appConfig,Ke=>{if(!re(Ke))throw ie.create("not-registered");const Rt=Ke.authToken;if(!j&&Ue(Rt))return Ke;if(1===Rt.requestStatus)return ce=an(S,j),Ke;{if(!navigator.onLine)throw ie.create("app-offline");const Lt=Ct(Ke);return ce=te(S,Lt),Lt}});return ce?yield ce:Fe.authToken})).apply(this,arguments)}function an(S,j){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(S,j){let ce=yield Zn(S.appConfig);for(;1===ce.authToken.requestStatus;)yield Be(100),ce=yield Zn(S.appConfig);const Fe=ce.authToken;return 0===Fe.requestStatus?Qe(S,j):Fe})).apply(this,arguments)}function Zn(S){return qn(S,j=>{if(!re(j))throw ie.create("not-registered");return function _t(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function te(S,j){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(S,j){try{const ce=yield $n(S,j),Fe=Object.assign(Object.assign({},j),{authToken:ce});return yield di(S.appConfig,Fe),ce}catch(ce){if(!Ce(ce)||401!==ce.customData.serverCode&&404!==ce.customData.serverCode){const Fe=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield di(S.appConfig,Fe)}else yield _r(S.appConfig);throw ce}})).apply(this,arguments)}function re(S){return void 0!==S&&2===S.registrationStatus}function Ue(S){return 2===S.requestStatus&&!function rt(S){const j=Date.now();return j<S.creationTime||S.creationTime+S.expiresIn<j+36e5}(S)}function Ct(S){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:j})}function vt(){return(vt=(0,f.Z)(function*(S){const j=S,{installationEntry:ce,registrationPromise:Fe}=yield Nr(j);return Fe?Fe.catch(console.error):Qe(j).catch(console.error),ce.fid})).apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(S,j=!1){const ce=S;return yield bt(ce),(yield Qe(ce,j)).token})).apply(this,arguments)}function bt(S){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(S){const{registrationPromise:j}=yield Nr(S);j&&(yield j)})).apply(this,arguments)}function Zs(S){return ie.create("missing-app-config-values",{valueName:S})}const Wt="installations",dl=S=>{const j=S.getProvider("app").getImmediate(),ce=function Si(S){if(!S||!S.options)throw Zs("App Configuration");if(!S.name)throw Zs("App Name");const j=["projectId","apiKey","appId"];for(const ce of j)if(!S.options[ce])throw Zs(ce);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(j);return{app:j,appConfig:ce,heartbeatServiceProvider:(0,O._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},Ri=S=>{const j=S.getProvider("app").getImmediate(),ce=(0,O._getProvider)(j,Wt).getImmediate();return{getId:()=>function mn(S){return vt.apply(this,arguments)}(ce),getToken:kt=>function Qn(S){return hr.apply(this,arguments)}(ce,kt)}};(function Jr(){(0,O._registerComponent)(new H.wA(Wt,dl,"PUBLIC")),(0,O._registerComponent)(new H.wA("installations-internal",Ri,"PRIVATE"))})(),(0,O.registerVersion)(Ge,"0.6.4"),(0,O.registerVersion)(Ge,"0.6.4","esm2017")},1877:(ot,me,T)=>{"use strict";T.d(me,{Am:()=>J,Ub:()=>le,Yd:()=>Z,in:()=>O});const f=[];var O=(()=>{return(R=O||(O={}))[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",O;var R})();const H={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},$=O.INFO,se={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},ne=(R,M,...z)=>{if(M<R.logLevel)return;const Re=(new Date).toISOString(),ae=se[M];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);console[ae](`[${Re}]  ${R.name}:`,...z)};class Z{constructor(M){this.name=M,this._logLevel=$,this._logHandler=ne,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in O))throw new TypeError(`Invalid value "${M}" assigned to \`logLevel\``);this._logLevel=M}setLogLevel(M){this._logLevel="string"==typeof M?H[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!=typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(...M){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...M),this._logHandler(this,O.DEBUG,...M)}log(...M){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...M),this._logHandler(this,O.VERBOSE,...M)}info(...M){this._userLogHandler&&this._userLogHandler(this,O.INFO,...M),this._logHandler(this,O.INFO,...M)}warn(...M){this._userLogHandler&&this._userLogHandler(this,O.WARN,...M),this._logHandler(this,O.WARN,...M)}error(...M){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...M),this._logHandler(this,O.ERROR,...M)}}function le(R){f.forEach(M=>{M.setLogLevel(R)})}function J(R,M){for(const z of f){let Re=null;M&&M.level&&(Re=H[M.level]),z.userLogHandler=null===R?null:(ae,$e,...xe)=>{const ke=xe.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");$e>=(Re??ae.logLevel)&&R({level:O[$e].toLowerCase(),message:ke,args:xe,type:ae.name})}}}},259:(ot,me,T)=>{"use strict";T.d(me,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=T(6881);(0,f.registerVersion)("firebase","9.23.0","app")},9260:(ot,me,T)=>{"use strict";T.d(me,{Z:()=>f.Z});var f=T(3942);f.Z.registerVersion("firebase","9.23.0","app-compat")},4880:(ot,me,T)=>{"use strict";T.d(me,{sN:()=>We,Gb:()=>Mn});var f=T(5861),O=T(6881),H=T(2090),$=T(4859),se=T(1877);T(4727);const Z="@firebase/remote-config",R="remote-config",z=new H.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function We(Be=(0,O.getApp)()){return Be=(0,H.m9)(Be),(0,O._getProvider)(Be,R).getImmediate()}class hn{constructor(ee,Se,et,mt){this.client=ee,this.storage=Se,this.storageCache=et,this.logger=mt}isCachedDataFresh(ee,Se){if(!Se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const et=Date.now()-Se,mt=et<=ee;return this.logger.debug(`Config fetch cache check. Cache age millis: ${et}. Cache max age millis (minimumFetchIntervalMillis setting): ${ee}. Is cache hit: ${mt}.`),mt}fetch(ee){var Se=this;return(0,f.Z)(function*(){const[et,mt]=yield Promise.all([Se.storage.getLastSuccessfulFetchTimestampMillis(),Se.storage.getLastSuccessfulFetchResponse()]);if(mt&&Se.isCachedDataFresh(ee.cacheMaxAgeMillis,et))return mt;ee.eTag=mt&&mt.eTag;const At=yield Se.client.fetch(ee),Pt=[Se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&Pt.push(Se.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(Pt),At})()}}function In(Be=navigator){return Be.languages&&Be.languages[0]||Be.language}class mr{constructor(ee,Se,et,mt,At,Pt){this.firebaseInstallations=ee,this.sdkVersion=Se,this.namespace=et,this.projectId=mt,this.apiKey=At,this.appId=Pt}fetch(ee){var Se=this;return(0,f.Z)(function*(){const[et,mt]=yield Promise.all([Se.firebaseInstallations.getId(),Se.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Se.projectId}/namespaces/${Se.namespace}:fetch?key=${Se.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ee.eTag||"*"},Jt={sdk_version:Se.sdkVersion,app_instance_id:et,app_instance_id_token:mt,app_id:Se.appId,language_code:In()},Me={method:"POST",headers:Qt,body:JSON.stringify(Jt)},je=fetch(Pt,Me),ze=new Promise((on,St)=>{ee.signal.addEventListener(()=>{const Dn=new Error("The operation was aborted.");Dn.name="AbortError",St(Dn)})});let Xt;try{yield Promise.race([je,ze]),Xt=yield je}catch(on){let St="fetch-client-network";throw"AbortError"===on?.name&&(St="fetch-timeout"),z.create(St,{originalErrorMessage:on?.message})}let Yt=Xt.status;const Hn=Xt.headers.get("ETag")||void 0;let sn,Gt;if(200===Xt.status){let on;try{on=yield Xt.json()}catch(St){throw z.create("fetch-client-parse",{originalErrorMessage:St?.message})}sn=on.entries,Gt=on.state}if("INSTANCE_STATE_UNSPECIFIED"===Gt?Yt=500:"NO_CHANGE"===Gt?Yt=304:("NO_TEMPLATE"===Gt||"EMPTY_CONFIG"===Gt)&&(sn={}),304!==Yt&&200!==Yt)throw z.create("fetch-status",{httpStatus:Yt});return{status:Yt,eTag:Hn,config:sn}})()}}class X{constructor(ee,Se){this.client=ee,this.storage=Se}fetch(ee){var Se=this;return(0,f.Z)(function*(){const et=(yield Se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Se.attemptFetch(ee,et)})()}attemptFetch(ee,{throttleEndTimeMillis:Se,backoffCount:et}){var mt=this;return(0,f.Z)(function*(){yield function pn(Be,ee){return new Promise((Se,et)=>{const mt=Math.max(ee-Date.now(),0),At=setTimeout(Se,mt);Be.addEventListener(()=>{clearTimeout(At),et(z.create("fetch-throttle",{throttleEndTimeMillis:ee}))})})}(ee.signal,Se);try{const At=yield mt.client.fetch(ee);return yield mt.storage.deleteThrottleMetadata(),At}catch(At){if(!function Q(Be){if(!(Be instanceof H.ZR&&Be.customData))return!1;const ee=Number(Be.customData.httpStatus);return 429===ee||500===ee||503===ee||504===ee}(At))throw At;const Pt={throttleEndTimeMillis:Date.now()+(0,H.$s)(et),backoffCount:et+1};return yield mt.storage.setThrottleMetadata(Pt),mt.attemptFetch(ee,Pt)}})()}}class Ce{constructor(ee,Se,et,mt,At){this.app=ee,this._client=Se,this._storageCache=et,this._storage=mt,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _e(Be,ee){const Se=Be.target.error||void 0;return z.create(ee,{originalErrorMessage:Se&&Se?.message})}const Le="app_namespace_store";class at{constructor(ee,Se,et,mt=function Ne(){return new Promise((Be,ee)=>{try{const Se=indexedDB.open("firebase_remote_config",1);Se.onerror=et=>{ee(_e(et,"storage-open"))},Se.onsuccess=et=>{Be(et.target.result)},Se.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(Le,{keyPath:"compositeKey"})}}catch(Se){ee(z.create("storage-open",{originalErrorMessage:Se?.message}))}})}()){this.appId=ee,this.appName=Se,this.namespace=et,this.openDbPromise=mt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ee){return this.set("last_fetch_status",ee)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ee){return this.set("last_successful_fetch_timestamp_millis",ee)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ee){return this.set("last_successful_fetch_response",ee)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ee){return this.set("active_config",ee)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ee){return this.set("active_config_etag",ee)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ee){return this.set("throttle_metadata",ee)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ee){var Se=this;return(0,f.Z)(function*(){const et=yield Se.openDbPromise;return new Promise((mt,At)=>{const Qt=et.transaction([Le],"readonly").objectStore(Le),Jt=Se.createCompositeKey(ee);try{const Me=Qt.get(Jt);Me.onerror=je=>{At(_e(je,"storage-get"))},Me.onsuccess=je=>{const ze=je.target.result;mt(ze?ze.value:void 0)}}catch(Me){At(z.create("storage-get",{originalErrorMessage:Me?.message}))}})})()}set(ee,Se){var et=this;return(0,f.Z)(function*(){const mt=yield et.openDbPromise;return new Promise((At,Pt)=>{const Jt=mt.transaction([Le],"readwrite").objectStore(Le),Me=et.createCompositeKey(ee);try{const je=Jt.put({compositeKey:Me,value:Se});je.onerror=ze=>{Pt(_e(ze,"storage-set"))},je.onsuccess=()=>{At()}}catch(je){Pt(z.create("storage-set",{originalErrorMessage:je?.message}))}})})()}delete(ee){var Se=this;return(0,f.Z)(function*(){const et=yield Se.openDbPromise;return new Promise((mt,At)=>{const Qt=et.transaction([Le],"readwrite").objectStore(Le),Jt=Se.createCompositeKey(ee);try{const Me=Qt.delete(Jt);Me.onerror=je=>{At(_e(je,"storage-delete"))},Me.onsuccess=()=>{mt()}}catch(Me){At(z.create("storage-delete",{originalErrorMessage:Me?.message}))}})})()}createCompositeKey(ee){return[this.appId,this.appName,this.namespace,ee].join()}}class ut{constructor(ee){this.storage=ee}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ee=this;return(0,f.Z)(function*(){const Se=ee.storage.getLastFetchStatus(),et=ee.storage.getLastSuccessfulFetchTimestampMillis(),mt=ee.storage.getActiveConfig(),At=yield Se;At&&(ee.lastFetchStatus=At);const Pt=yield et;Pt&&(ee.lastSuccessfulFetchTimestampMillis=Pt);const Qt=yield mt;Qt&&(ee.activeConfig=Qt)})()}setLastFetchStatus(ee){return this.lastFetchStatus=ee,this.storage.setLastFetchStatus(ee)}setLastSuccessfulFetchTimestampMillis(ee){return this.lastSuccessfulFetchTimestampMillis=ee,this.storage.setLastSuccessfulFetchTimestampMillis(ee)}setActiveConfig(ee){return this.activeConfig=ee,this.storage.setActiveConfig(ee)}}function Mn(){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(){if(!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}!function wt(){(0,O._registerComponent)(new $.wA(R,function Be(ee,{instanceIdentifier:Se}){const et=ee.getProvider("app").getImmediate(),mt=ee.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw z.create("registration-window");if(!(0,H.hl)())throw z.create("indexed-db-unavailable");const{projectId:At,apiKey:Pt,appId:Qt}=et.options;if(!At)throw z.create("registration-project-id");if(!Pt)throw z.create("registration-api-key");if(!Qt)throw z.create("registration-app-id");const Jt=new at(Qt,et.name,Se=Se||"firebase"),Me=new ut(Jt),je=new se.Yd(Z);je.logLevel=se.in.ERROR;const ze=new mr(mt,O.SDK_VERSION,Se,At,Pt,Qt),Xt=new X(ze,Jt),Yt=new hn(Xt,Jt,Me,je),Hn=new Ce(et,Yt,Me,Jt,je);return function ve(Be){const ee=(0,H.m9)(Be);ee._initializePromise||(ee._initializePromise=ee._storageCache.loadFromStorage().then(()=>{ee._isInitializationComplete=!0}))}(Hn),Hn},"PUBLIC").setMultipleInstances(!0)),(0,O.registerVersion)(Z,"0.4.4"),(0,O.registerVersion)(Z,"0.4.4","esm2017")}()},5861:(ot,me,T)=>{"use strict";function f(H,$,se,ne,Z,le,J){try{var R=H[le](J),M=R.value}catch(z){return void se(z)}R.done?$(M):Promise.resolve(M).then(ne,Z)}function O(H){return function(){var $=this,se=arguments;return new Promise(function(ne,Z){var le=H.apply($,se);function J(M){f(le,ne,Z,J,R,"next",M)}function R(M){f(le,ne,Z,J,R,"throw",M)}J(void 0)})}}T.d(me,{Z:()=>O})},7582:(ot,me,T)=>{"use strict";function $(Q,X){var de={};for(var ie in Q)Object.prototype.hasOwnProperty.call(Q,ie)&&X.indexOf(ie)<0&&(de[ie]=Q[ie]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(ie=Object.getOwnPropertySymbols(Q);Ce<ie.length;Ce++)X.indexOf(ie[Ce])<0&&Object.prototype.propertyIsEnumerable.call(Q,ie[Ce])&&(de[ie[Ce]]=Q[ie[Ce]])}return de}function z(Q,X,de,ie){return new(de||(de=Promise))(function(_e,Le){function Ye(at){try{Ne(ie.next(at))}catch(ut){Le(ut)}}function gt(at){try{Ne(ie.throw(at))}catch(ut){Le(ut)}}function Ne(at){at.done?_e(at.value):function Ce(_e){return _e instanceof de?_e:new de(function(Le){Le(_e)})}(at.value).then(Ye,gt)}Ne((ie=ie.apply(Q,X||[])).next())})}function ue(Q){return this instanceof ue?(this.v=Q,this):new ue(Q)}function ve(Q,X,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ie=de.apply(Q,X||[]),_e=[];return Ce={},Le("next"),Le("throw"),Le("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Le(wt){ie[wt]&&(Ce[wt]=function(Et){return new Promise(function(En,Mn){_e.push([wt,Et,En,Mn])>1||Ye(wt,Et)})})}function Ye(wt,Et){try{!function gt(wt){wt.value instanceof ue?Promise.resolve(wt.value.v).then(Ne,at):ut(_e[0][2],wt)}(ie[wt](Et))}catch(En){ut(_e[0][3],En)}}function Ne(wt){Ye("next",wt)}function at(wt){Ye("throw",wt)}function ut(wt,Et){wt(Et),_e.shift(),_e.length&&Ye(_e[0][0],_e[0][1])}}function fe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,X=Q[Symbol.asyncIterator];return X?X.call(Q):(Q=function xe(Q){var X="function"==typeof Symbol&&Symbol.iterator,de=X&&Q[X],ie=0;if(de)return de.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ie>=Q.length&&(Q=void 0),{value:Q&&Q[ie++],done:!Q}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),de={},ie("next"),ie("throw"),ie("return"),de[Symbol.asyncIterator]=function(){return this},de);function ie(_e){de[_e]=Q[_e]&&function(Le){return new Promise(function(Ye,gt){!function Ce(_e,Le,Ye,gt){Promise.resolve(gt).then(function(Ne){_e({value:Ne,done:Ye})},Le)}(Ye,gt,(Le=Q[_e](Le)).done,Le.value)})}}}T.d(me,{FC:()=>ve,KL:()=>fe,_T:()=>$,mG:()=>z,qq:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},ot=>{ot(ot.s=2910)}]);